[
  {
    "input": "[{\"role\": \"system\", \"content\": \"ë‹¹ì‹ ì€ ìˆ™ë ¨ëœ ì½”ë“œ ë¦¬ë·°ì–´ì…ë‹ˆë‹¤. ì œê³µëœ ì…ë ¥(JSON) ë°ì´í„°ë¥¼ ë¶„ì„í•˜ì—¬ ì½”ë“œ í’ˆì§ˆ, ë²„ê·¸, ë³´ì•ˆ ë¬¸ì œ, ì„±ëŠ¥ ì´ìŠˆ ë“± ì£¼ìš” ë¬¸ì œì ì„ ì¢…í•©ì ìœ¼ë¡œ í‰ê°€í•˜ê³ , ê°œì„  ë°©í–¥ì— ëŒ€í•´ ììœ ë¡­ê²Œ ì˜ê²¬ì„ ì œì‹œí•˜ì„¸ìš”.\\n\\nì¤‘ìš” ê·œì¹™\\n  - ëª¨ë“  ì‘ë‹µì€ ë°˜ë“œì‹œ í•œêµ­ì–´ë¡œ ì‘ì„±í•´ì•¼ í•©ë‹ˆë‹¤. ì˜ì–´ë‚˜ ë‹¤ë¥¸ ì–¸ì–´ë¡œ ì‘ë‹µí•˜ì§€ ë§ˆì„¸ìš”.\\n  - ì´ìŠˆ ì„¤ëª…(description) ë° ì œì•ˆ(suggestion)ì˜ ëª…í™•ì„±(Clarity): ë…ìê°€ ì‰½ê²Œ ì´í•´í•  ìˆ˜ ìˆë„ë¡ ê°„ê²°í•˜ê³  ëª…í™•í•œ ì–¸ì–´ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”. \\n  - ì½”ë“œ ì˜ˆì‹œ ì œê³µ: suggestionì´ ì½”ë“œ ë³€ê²½ì„ í¬í•¨í•œë‹¤ë©´, issues ê°ì²´ì˜ suggested_code í•„ë“œë¥¼ ì ê·¹ í™œìš©í•˜ì„¸ìš”. ë§Œì•½ issuesê°€ ì—†ë‹¤ë©´, recommendations í•­ëª©ì—ì„œ ì „ë°˜ì ì¸ ê°œì„  ë°©í–¥ê³¼ í•¨ê»˜ ì°¸ê³ í•  ë§Œí•œ ì½”ë“œ ìŠ¤íƒ€ì¼ ë˜ëŠ” ê°„ë‹¨í•œ ê°œì„  ì½”ë“œ ì˜ˆì‹œë¥¼ ì œì‹œí•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤. (ì˜ˆ: \\\"ê¶Œì¥ ì‚¬í•­: ì „ë°˜ì ìœ¼ë¡œ ë³€ìˆ˜ëª…ì— snake_caseë¥¼ ì¼ê´€ë˜ê²Œ ì‚¬ìš©í•˜ë©´ ê°€ë…ì„±ì´ í–¥ìƒë©ë‹ˆë‹¤. (ì˜ˆ: existingVariable -> existing_variable)\\\")\\n----------------------\\n### ì…ë ¥(JSON) êµ¬ì¡°\\n```json\\n{\\n  \\\"file_name\\\":   string,             // ë³€ê²½ì´ ë°œìƒí•œ íŒŒì¼ ê²½ë¡œ, ì‘ë‹µ JSONì˜ issues ê°ì²´ ë‚´ file í•„ë“œì— ì´ ê°’ì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.\\n  \\\"file_content\\\": string,            // ì‚¬ìš©ìê°€ **ìˆ˜ì • í›„** ì €ì¥í•œ íŒŒì¼ì˜ ì „ì²´ ë‚´ìš©, ë³€ê²½ëœ ì½”ë“œ ì£¼ë³€ì˜ ì „ì²´ì ì¸ ë§¥ë½ì„ íŒŒì•…í•˜ëŠ” ë° ì°¸ê³ ìš©\\n  \\\"formatted_hunks\\\": [ // Git diff ì •ë³´ë¥¼ êµ¬ì¡°í™”í•œ ë°°ì—´\\n    {\\n      \\\"hunk_idx\\\":     string,  // (ë¬´ì‹œ ê°€ëŠ¥) ë‚´ë¶€ ì‹ë³„ì\\n      \\\"after_code_start_line_number\\\":  int,     // after_codeê°€ file_content ë‚´ì—ì„œ ì‹œì‘í•˜ëŠ” ë¼ì¸ ë²ˆí˜¸\\n      \\\"before_code\\\":  string,  // **ìˆ˜ì • ì „** ì½”ë“œ\\n      \\\"after_code\\\":   string   // **ìˆ˜ì • í›„** ì½”ë“œ â€” âŸµ ë¦¬ë·° ëŒ€ìƒ\\n      // ê·¸ ë°–ì˜ í•„ë“œëŠ” ìˆì–´ë„ ë¬´ì‹œí•´ë„ ë©ë‹ˆë‹¤.\\n    },\\n    ...\\n  ]\\n}\\n```\\n\\nê·œì¹™ \\n- ë°˜ë“œì‹œ **after_code ìœ„ì£¼**ë¡œ ë¶„ì„â€§ë¦¬ë·°í•˜ì„¸ìš”. before_codeì™€ file_contentëŠ” ì°¸ê³  ì»¨í…ìŠ¤íŠ¸ë¡œë§Œ í™œìš©í•©ë‹ˆë‹¤.\\n- ë§Œì•½ before_code, file_contentì— ì œì•ˆ ì‚¬í•­ì´ ìˆë‹¤ë©´ recommendationsì— ëª…ì‹œí•´ì£¼ì„¸ìš”.\\n----------------------\\n### ì¶œë ¥(JSON) í˜•ì‹\\nê° ì´ìŠˆëŠ” ë‹¤ìŒ ì •ë³´ë¥¼ í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤:\\n- type: ì´ìŠˆ ìœ í˜• (ë°˜ë“œì‹œ bug, security, performance, style, design ì¤‘ í•˜ë‚˜)\\n- line_number: ë¬¸ì œê°€ ìˆëŠ” ì½”ë“œì˜ ë¼ì¸ ë²ˆí˜¸, file_content ì „ì²´ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í•˜ëŠ” ì ˆëŒ€ì ì¸ ë¼ì¸ ë²ˆí˜¸ (ìˆ«ì, ì•Œ ìˆ˜ ì—†ìœ¼ë©´ null)\\n- file: ë¬¸ì œê°€ ìˆëŠ” íŒŒì¼ ì´ë¦„ (ì •í™•í•œ ê²½ë¡œ, ì„ì˜ ì´ë¦„ ê¸ˆì§€)\\n- description: ì´ìŠˆì— ëŒ€í•œ ìì„¸í•œ ì„¤ëª…\\n- suggestion: ë¬¸ì œ í•´ê²°ì„ ìœ„í•œ êµ¬ì²´ì ì¸ ì œì•ˆ\\n- severity: ì´ìŠˆì˜ ì‹¬ê°ë„ (info, warning, error ì¤‘ í•˜ë‚˜)\\n- target_code    : ë¦¬ë·° ëŒ€ìƒ ì½”ë“œ ìŠ¤ë‹ˆí«(after_code ì¤‘ ë¬¸ì œ ë¶€ë¶„)\\n- suggested_code : ê°œì„  ì œì•ˆì´ ë°˜ì˜ëœ ì½”ë“œ ìŠ¤ë‹ˆí«\\n\\në˜í•œ ë‹¤ìŒ ì •ë³´ë„ ì œê³µí•´ì•¼ í•©ë‹ˆë‹¤:\\n- summary: ì „ì²´ ì½”ë“œ ë³€ê²½ì— ëŒ€í•œ ìš”ì•½\\n- score: ì½”ë“œ í’ˆì§ˆì— ëŒ€í•œ 0-10 ì‚¬ì´ì˜ ì ìˆ˜\\n- recommendations: ì „ë°˜ì ì¸ ê°œì„ ì„ ìœ„í•œ ê¶Œì¥ì‚¬í•­ ëª©ë¡ (í•„ìš”ì‹œ ì½”ë“œ ì˜ˆì‹œ í¬í•¨)\\n\\n---------------------\\n### ì¶œë ¥(JSON) ì˜ˆì‹œ\\n\\n```json\\n{\\n  \\\"issues\\\": [\\n    {\\n      \\\"type\\\": \\\"ë²„ê·¸\\\",\\n      \\\"line_number\\\": 42,\\n      \\\"file\\\": \\\"src/app.py\\\",\\n      \\\"description\\\": \\\"NullPointerException ê°€ëŠ¥ì„±ì´ ìˆìŠµë‹ˆë‹¤.\\\",\\n      \\\"suggestion\\\": \\\"ë³€ìˆ˜ê°€ nullì¸ì§€ í™•ì¸ í›„ ì‚¬ìš©í•˜ì„¸ìš”.\\\",\\n      \\\"severity\\\": \\\"error\\\",\\n      \\\"target_code\\\": \\\"if (user.isActive) { ... }\\\",\\n      \\\"suggested_code\\\": \\\"if (user != null && user.isActive) { ... }\\\"\\n    }\\n  ],\\n  \\\"summary\\\": \\\"ë¡œê·¸ì¸ ë¡œì§ ê°œì„  ë° ì˜ˆì™¸ ì²˜ë¦¬ ê°•í™” í•„ìš”.\\\",\\n  \\\"score\\\": 7,\\n  \\\"recommendations\\\": [\\\"ëª¨ë“  ì…ë ¥ê°’ì— ëŒ€í•œ null ì²´í¬ ê°•í™”\\\", \\\"í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì¶”ê°€\\\"]\\n}\\n```\\n---------------------\\n## ê·œì¹™\\n1. ì´ìŠˆ ì„¤ëª…ê³¼ ì œì•ˆì€ êµ¬ì²´ì ì´ê³  ëª…í™•í•˜ê²Œ ì‘ì„±í•˜ì„¸ìš”. ëª¨í˜¸í•œ í‘œí˜„ì´ë‚˜ ì¼ë°˜ì ì¸ ì¡°ì–¸ì€ í”¼í•˜ê³ , ì½”ë“œì˜ íŠ¹ì • ë¶€ë¶„(target_code)ì„ ì–¸ê¸‰í•˜ë©° ì‹¤ì§ˆì ì¸ ê°œì„  ë°©ì•ˆ(suggested_code)ì„ ì œì‹œí•˜ì„¸ìš”.\\n2. JSON ì™¸ ë‹¤ë¥¸ í˜•ì‹ì˜ ì¶œë ¥(í…ìŠ¤íŠ¸, ë§ˆí¬ë‹¤ìš´ ë“±)ì„ ì ˆëŒ€ í¬í•¨í•˜ì§€ ë§ˆì„¸ìš”.\\n3. target_codeì™€ suggested_code ê°’ì—ëŠ” ìˆœìˆ˜í•œ ì½”ë“œ ë¬¸ìì—´ë§Œ í¬í•¨í•©ë‹ˆë‹¤. ì½”ë“œ ìŠ¤ë‹ˆí« ì‹œì‘ê³¼ ëì— ë¶ˆí•„ìš”í•œ ë¹ˆ ì¤„ì„ ë„£ì§€ ë§ê³ , ë°±í‹±(```)ì´ë‚˜ ê¸°íƒ€ ë§ˆí¬ë‹¤ìš´ìœ¼ë¡œ ê°ì‹¸ì§€ ë§ˆì„¸ìš”.\\n4. íŠ¹ë³„íˆ ì§€ì í•  ì´ìŠˆê°€ ì—†ë‹¤ë©´ \\\"issues\\\": [] ë¡œ ë¹„ì›Œ ë‘ê³ , summary ì— â€œì½”ë“œ ë³€ê²½ ì‚¬í•­ì—ì„œ íŠ¹ë³„í•œ ì´ìŠˆë¥¼ ë°œê²¬í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.â€ì™€ ê°™ì´ ëª…ì‹œí•˜ì„¸ìš”.\\n5. ë¦¬ë·° ëŒ€ìƒì€ after_code ì…ë‹ˆë‹¤. before_codeì™€ file_contentëŠ” ì°¸ê³ ìš©ì…ë‹ˆë‹¤.\\n6. íŒŒì¼ëª…(file)ì€ ì£¼ì–´ì§„ ê°’ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ì„¸ìš”.\\n7.  `issues[].line_number` ê²°ì • ë°©ë²•:\\n    a.  `issues[].line_number`ëŠ” `target_code` (ë¦¬ë·° ëŒ€ìƒ ì½”ë“œ ìŠ¤ë‹ˆí«)ê°€ `file_content` ì „ì²´ì—ì„œ ì‹œì‘í•˜ëŠ” **ì ˆëŒ€ì ì¸ 1-based ë¼ì¸ ë²ˆí˜¸**ì—¬ì•¼ í•©ë‹ˆë‹¤.\\n    b.  ì´ ê°’ì„ ê²°ì •í•˜ê¸° ìœ„í•´ `target_code`ê°€ ì†í•œ `hunk`ì˜ ë‹¤ìŒ ì •ë³´ë“¤ì„ ì‚¬ìš©í•©ë‹ˆë‹¤:\\n        i.  `formatted_hunks[].after_code`: ìˆ˜ì • í›„ ì½”ë“œ ë¸”ë¡ ë¬¸ìì—´ì…ë‹ˆë‹¤.\\n        ii. `formatted_hunks[].after_code_line_numbers`: `after_code`ì˜ ê° ë¼ì¸ì— í•´ë‹¹í•˜ëŠ” `file_content` ê¸°ì¤€ ì ˆëŒ€ 1-based ë¼ì¸ ë²ˆí˜¸ë“¤ì´ ìˆœì„œëŒ€ë¡œ ë‹´ê¸´ ë¦¬ìŠ¤íŠ¸ì…ë‹ˆë‹¤. ì´ ë¦¬ìŠ¤íŠ¸ì˜ ê¸¸ì´ëŠ” `after_code`ì˜ ì´ ë¼ì¸ ìˆ˜ì™€ ì •í™•íˆ ì¼ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤.\\n        iii. `target_code`: ë¦¬ë·° ëŒ€ìƒ ì½”ë“œ ìŠ¤ë‹ˆí«ìœ¼ë¡œ, `after_code`ì˜ ì¼ë¶€ì—¬ì•¼ í•©ë‹ˆë‹¤.\\n    c.  **ê³„ì‚° ë‹¨ê³„:**\\n        1.  **`target_code`ì˜ ìƒëŒ€ ì‹œì‘ ìœ„ì¹˜ íŒŒì•…:** `target_code`ì˜ ì²« ë²ˆì§¸ ë¼ì¸ì´ `after_code` ë‚´ì—ì„œ ëª‡ ë²ˆì§¸ ë¼ì¸(1-based)ì—ì„œ ì‹œì‘í•˜ëŠ”ì§€ ì •í™•íˆ íŒŒì•…í•©ë‹ˆë‹¤. ì´ë¥¼ \\\"ìƒëŒ€ ì‹œì‘ ë¼ì¸ ë²ˆí˜¸\\\"ë¼ê³  í•©ë‹ˆë‹¤. (ì˜ˆ: `target_code`ì˜ ì²« ì¤„ì´ `after_code`ì˜ 3ë²ˆì§¸ ì¤„ê³¼ ë‚´ìš©ì´ ê°™ë‹¤ë©´, \\\"ìƒëŒ€ ì‹œì‘ ë¼ì¸ ë²ˆí˜¸\\\"ëŠ” `3`ì…ë‹ˆë‹¤.)\\n        2.  **ì ˆëŒ€ ë¼ì¸ ë²ˆí˜¸ ì¡°íšŒ:** íŒŒì•…ëœ \\\"ìƒëŒ€ ì‹œì‘ ë¼ì¸ ë²ˆí˜¸\\\"ë¥¼ ì‚¬ìš©í•˜ì—¬ `after_code_line_numbers` ë¦¬ìŠ¤íŠ¸ì—ì„œ í•´ë‹¹ ìœ„ì¹˜ì˜ ê°’ì„ ê°€ì ¸ì˜µë‹ˆë‹¤. ë¦¬ìŠ¤íŠ¸ëŠ” 0-based ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë¯€ë¡œ, `issues[].line_number = after_code_line_numbers[ (ìƒëŒ€ ì‹œì‘ ë¼ì¸ ë²ˆí˜¸) - 1 ]` ê³µì‹ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.\\n    d.  **ì˜ˆì‹œ:**\\n        `after_code`ê°€ 3ì¤„ì´ê³ , `after_code_line_numbers`ê°€ `[50, 51, 52]`ë¼ê³  ê°€ì •í•©ë‹ˆë‹¤.\\n        ë§Œì•½ `target_code`ì˜ ì²« ë²ˆì§¸ ë¼ì¸ì´ `after_code`ì˜ `2`ë²ˆì§¸ ë¼ì¸ ë‚´ìš©ê³¼ ì¼ì¹˜í•œë‹¤ë©´, \\\"ìƒëŒ€ ì‹œì‘ ë¼ì¸ ë²ˆí˜¸\\\"ëŠ” `2`ì…ë‹ˆë‹¤.\\n        ë”°ë¼ì„œ, `issues[].line_number = after_code_line_numbers[2 - 1] = after_code_line_numbers[1]` ì´ë¯€ë¡œ, `issues[].line_number`ëŠ” `51`ì´ ë©ë‹ˆë‹¤.\\n    e.  `target_code`ê°€ ì—¬ëŸ¬ ë¼ì¸ì— ê±¸ì³ ìˆëŠ” ê²½ìš°, `target_code`ì˜ **ì²« ë²ˆì§¸ ë¼ì¸**ì„ ê¸°ì¤€ìœ¼ë¡œ `issues[].line_number`ë¥¼ ê²°ì •í•©ë‹ˆë‹¤.\\n    f.  ë§Œì•½ `target_code`ë¥¼ `after_code` ë‚´ì—ì„œ ì°¾ì„ ìˆ˜ ì—†ê±°ë‚˜, \\\"ìƒëŒ€ ì‹œì‘ ë¼ì¸ ë²ˆí˜¸\\\"ë¥¼ ì •í™•íˆ íŠ¹ì •í•  ìˆ˜ ì—†ëŠ” ê²½ìš°, `issues[].line_number`ëŠ” `null`ë¡œ ì„¤ì •í•˜ê³ , í•„ìš”í•œ ê²½ìš° `description`ì— í•´ë‹¹ ìƒí™©ì„ ê°„ëµíˆ ì–¸ê¸‰í•©ë‹ˆë‹¤.\\n    g.  (ê¸°ì¡´ì˜ íŒŒì¼ ì „ì²´ì— ëŒ€í•œ ì´ìŠˆ ì²˜ë¦¬ ì‹œ `null` ì‚¬ìš© ë“± ê´€ë ¨ ê·œì¹™ ìœ ì§€)\\n8. íŠ¹ì • ì½”ë“œ ë¼ì¸ì„ ì‚­ì œí•˜ê±°ë‚˜ íŒŒì¼ì„ ì‚­ì œí•´ì•¼ í•˜ëŠ” ê²½ìš°, suggested_code ìµœìƒë‹¨ì— \\\"ì½”ë“œ ë¼ì¸ ì œê±°\\\" ë˜ëŠ” \\\"íŒŒì¼ ì œê±°\\\" ë¼ëŠ” ë¬¸êµ¬ë¥¼ ëª…ì‹œí•˜ê³ , ê·¸ ì•„ë˜ì— ì œê±° ëŒ€ìƒ ì½”ë“œë¥¼ ì£¼ì„ ì²˜ë¦¬í•˜ì—¬ ì œê³µí•˜ì„¸ìš”.\\n   ì˜ˆë¥¼ ë“¤ì–´, Python ì½”ë“œ ì‚­ì œ ì‹œ # ì½”ë“œ ë¼ì¸ ì œê±°\\\\n# print(\\\"ì‚­ì œë  ì½”ë“œ\\\") ì™€ ê°™ì´ í‘œí˜„í•©ë‹ˆë‹¤. ë§Œì•½ ì—¬ëŸ¬ ë¼ì¸ì´ë¼ë©´ ê° ë¼ì¸ì„ ì£¼ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.\"}, {\"role\": \"user\", \"content\": \"{\\\"file_name\\\": \\\"reviewer/src/ui.py\\\", \\\"file_content\\\": \\\"\\\\\\\"\\\\\\\"\\\\\\\"\\\\në¦¬ë·° ê²°ê³¼ë¥¼ ë³´ì—¬ì£¼ëŠ” Streamlit ì›¹ ì¸í„°í˜ì´ìŠ¤ ëª¨ë“ˆ\\\\n\\\\nì´ ëª¨ë“ˆì€ ì €ì¥ëœ ë¦¬ë·° ê²°ê³¼ë¥¼ Streamlitì„ ì‚¬ìš©í•˜ì—¬ ì›¹ ë¸Œë¼ìš°ì €ì— í‘œì‹œí•©ë‹ˆë‹¤.\\\\n\\\\\\\"\\\\\\\"\\\\\\\"\\\\n\\\\nimport copy\\\\nimport json\\\\nimport logging\\\\nimport os\\\\nimport sys\\\\nfrom datetime import datetime\\\\nfrom pathlib import Path\\\\nfrom typing import Any, Optional\\\\n\\\\nimport streamlit as st\\\\n\\\\nfrom reviewer.src.config import get_default_review_log_dir\\\\nfrom reviewer.src.utils.review_formatter import ReviewFormatter\\\\nfrom reviewer.src.utils.token.models import ReviewResponse\\\\n\\\\n# ë¡œê±° ì„¤ì •\\\\nlogger = logging.getLogger(__name__)\\\\n\\\\n# ìƒëŒ€ ê²½ë¡œ ì„í¬íŠ¸ë¥¼ ìœ„í•œ ê²½ë¡œ ì„¤ì •\\\\n\\\\n\\\\ndef get_default_llm_eval_data_dir() -> Path:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"llm_eval ë°ì´í„°ê°€ ì €ì¥ëœ data ë””ë ‰í† ë¦¬ ê²½ë¡œë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    project_root = Path(__file__).resolve().parent.parent.parent\\\\n    return project_root / \\\\\\\"llm_eval\\\\\\\" / \\\\\\\"results\\\\\\\"\\\\n\\\\n\\\\ndef get_llm_eval_data_files() -> list[Path]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"llm_eval ë°ì´í„° ë””ë ‰í† ë¦¬ì—ì„œ ëª¨ë“  íŒŒì¼ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    llm_eval_data_dir = get_default_llm_eval_data_dir()\\\\n    if not llm_eval_data_dir.exists():\\\\n        return []\\\\n\\\\n    llm_eval_files = list(llm_eval_data_dir.glob(\\\\\\\"*\\\\\\\"))\\\\n    llm_eval_files.sort(key=lambda f: f.stat().st_mtime, reverse=True)\\\\n    return llm_eval_files\\\\n\\\\n\\\\ndef get_review_log_files() -> list[Path]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ë¦¬ë·° ë¡œê·¸ ë””ë ‰í† ë¦¬ì—ì„œ ëª¨ë“  ë¦¬ë·° ë¡œê·¸ íŒŒì¼ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    log_dir = get_default_review_log_dir()\\\\n    if not log_dir.exists():\\\\n        return []\\\\n\\\\n    log_files = list(log_dir.glob(\\\\\\\"*.json\\\\\\\"))\\\\n    log_files.sort(key=lambda f: f.stat().st_mtime, reverse=True)\\\\n    return log_files\\\\n\\\\n\\\\ndef parse_date_from_filename(filename: str) -> Optional[datetime]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"íŒŒì¼ëª…ì—ì„œ ë‚ ì§œ ì •ë³´ë¥¼ ì¶”ì¶œí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    parts = filename.split(\\\\\\\"_\\\\\\\")\\\\n\\\\n    # YYYYMMDD_HHMMSS í˜•ì‹ ê²€ìƒ‰\\\\n    if len(parts) >= 2:\\\\n        # ì ‘ë‘ì‚¬ì— ë‚ ì§œê°€ ìˆëŠ” ê²½ìš°: YYYYMMDD_HHMMSS_...\\\\n        if (\\\\n            parts[0].isdigit()\\\\n            and len(parts[0]) == 8\\\\n            and parts[1].isdigit()\\\\n            and len(parts[1]) == 6\\\\n        ):\\\\n            try:\\\\n                return datetime.strptime(f\\\\\\\"{parts[0]}_{parts[1]}\\\\\\\", \\\\\\\"%Y%m%d_%H%M%S\\\\\\\")\\\\n            except ValueError:\\\\n                pass\\\\n\\\\n        # ì ‘ë¯¸ì‚¬ì— ë‚ ì§œê°€ ìˆëŠ” ê²½ìš°: ..._YYYYMMDD_HHMMSS\\\\n        if (\\\\n            parts[-2].isdigit()\\\\n            and len(parts[-2]) == 8\\\\n            and parts[-1].isdigit()\\\\n            and len(parts[-1]) == 6\\\\n        ):\\\\n            try:\\\\n                return datetime.strptime(f\\\\\\\"{parts[-2]}_{parts[-1]}\\\\\\\", \\\\\\\"%Y%m%d_%H%M%S\\\\\\\")\\\\n            except ValueError:\\\\n                pass\\\\n\\\\n        # ì¤‘ê°„ì— ë‚ ì§œê°€ ìˆëŠ” ê²½ìš°\\\\n        for i in range(len(parts) - 1):\\\\n            if (\\\\n                parts[i].isdigit()\\\\n                and len(parts[i]) == 8\\\\n                and parts[i + 1].isdigit()\\\\n                and len(parts[i + 1]) == 6\\\\n            ):\\\\n                try:\\\\n                    return datetime.strptime(\\\\n                        f\\\\\\\"{parts[i]}_{parts[i + 1]}\\\\\\\", \\\\\\\"%Y%m%d_%H%M%S\\\\\\\"\\\\n                    )\\\\n                except ValueError:\\\\n                    pass\\\\n\\\\n    return None\\\\n\\\\n\\\\ndef extract_model_name_from_filename(filename: str, date_parts_count: int = 0) -> str:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"íŒŒì¼ëª…ì—ì„œ ëª¨ë¸ ì´ë¦„ì„ ì¶”ì¶œí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    parts = filename.split(\\\\\\\"_\\\\\\\")\\\\n\\\\n    if date_parts_count == 2 and len(parts) > 2:\\\\n        # ë‚ ì§œ ë¶€ë¶„ ì œì™¸í•œ ë‚˜ë¨¸ì§€ë¥¼ ëª¨ë¸ëª…ìœ¼ë¡œ ê°„ì£¼\\\\n        return \\\\\\\"_\\\\\\\".join(parts[2:])\\\\n    elif len(parts) > 0 and not parts[-1].isdigit():\\\\n        # ë§ˆì§€ë§‰ ë¶€ë¶„ì´ ìˆ«ìê°€ ì•„ë‹ˆë©´ ëª¨ë¸ëª…ìœ¼ë¡œ ê°„ì£¼\\\\n        return parts[-1]\\\\n\\\\n    return \\\\\\\"\\\\\\\"\\\\n\\\\n\\\\ndef determine_file_format(file_path: Path) -> str:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"íŒŒì¼ì˜ í˜•ì‹ì„ ê²°ì •í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    file_suffix = file_path.suffix.lstrip(\\\\\\\".\\\\\\\").lower()\\\\n\\\\n    if not file_suffix:\\\\n        # í™•ì¥ì ì—†ëŠ” íŒŒì¼ ì²˜ë¦¬\\\\n        try:\\\\n            # llm_eval ë””ë ‰í† ë¦¬ ë‚´ íŒŒì¼ì¸ì§€ í™•ì¸\\\\n            llm_eval_dir = get_default_llm_eval_data_dir().resolve()\\\\n            file_parent = file_path.parent.resolve()\\\\n\\\\n            is_in_llm_eval_dir = str(file_parent).startswith(str(llm_eval_dir))\\\\n\\\\n            # íŒŒì¼ëª…ì— ë‚ ì§œ í˜•ì‹ì´ ìˆëŠ”ì§€ í™•ì¸\\\\n            parts = file_path.stem.split(\\\\\\\"_\\\\\\\")\\\\n            has_date_format = (\\\\n                len(parts) >= 2\\\\n                and parts[0].isdigit()\\\\n                and len(parts[0]) == 8\\\\n                and parts[1].isdigit()\\\\n                and len(parts[1]) == 6\\\\n            )\\\\n\\\\n            if is_in_llm_eval_dir or has_date_format:\\\\n                return \\\\\\\"json\\\\\\\"\\\\n            return \\\\\\\"txt\\\\\\\"\\\\n        except Exception as e:\\\\n            logger.error(f\\\\\\\"íŒŒì¼ í˜•ì‹ ê²°ì • ì¤‘ ì˜¤ë¥˜ ë°œìƒ: {e}\\\\\\\")\\\\n            return \\\\\\\"txt\\\\\\\"\\\\n\\\\n    return file_suffix if file_suffix in [\\\\\\\"json\\\\\\\", \\\\\\\"log\\\\\\\", \\\\\\\"html\\\\\\\", \\\\\\\"txt\\\\\\\"] else \\\\\\\"txt\\\\\\\"\\\\n\\\\n\\\\ndef get_file_info(file: Path) -> dict[str, Any]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"íŒŒì¼ ì •ë³´ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    mtime = datetime.fromtimestamp(file.stat().st_mtime)\\\\n    size = file.stat().st_size\\\\n    size_str = f\\\\\\\"{size / 1024:.1f}KB\\\\\\\" if size >= 1024 else f\\\\\\\"{size}B\\\\\\\"\\\\n\\\\n    # ë‚ ì§œ ì¶”ì¶œ\\\\n    date_candidate = parse_date_from_filename(file.stem)\\\\n    if date_candidate is None:\\\\n        date_candidate = mtime\\\\n        date_parts_count = 0\\\\n    else:\\\\n        date_parts_count = 2\\\\n\\\\n    # ëª¨ë¸ëª… ì¶”ì¶œ\\\\n    model_name_candidate = extract_model_name_from_filename(file.stem, date_parts_count)\\\\n\\\\n    # íŒŒì¼ í˜•ì‹ ê²°ì •\\\\n    file_format = determine_file_format(file)\\\\n\\\\n    return {\\\\n        \\\\\\\"path\\\\\\\": file,\\\\n        \\\\\\\"name\\\\\\\": file.name,\\\\n        \\\\\\\"model\\\\\\\": model_name_candidate,\\\\n        \\\\\\\"date\\\\\\\": date_candidate,\\\\n        \\\\\\\"mtime\\\\\\\": mtime,\\\\n        \\\\\\\"size\\\\\\\": size,\\\\n        \\\\\\\"size_str\\\\\\\": size_str,\\\\n        \\\\\\\"format\\\\\\\": file_format,\\\\n    }\\\\n\\\\n\\\\ndef display_file_info(file_info: dict[str, Any]) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"íŒŒì¼ ì •ë³´ë¥¼ í™”ë©´ì— í‘œì‹œí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    col1, col2, col3 = st.columns(3)\\\\n    with col1:\\\\n        st.markdown(f\\\\\\\"**íŒŒì¼ëª…**: {file_info['name']}\\\\\\\")\\\\n    with col2:\\\\n        st.markdown(f\\\\\\\"**ë‚ ì§œ**: {file_info['date'].strftime('%Y-%m-%d %H:%M')}\\\\\\\")\\\\n    with col3:\\\\n        st.markdown(f\\\\\\\"**í¬ê¸°**: {file_info['size_str']}\\\\\\\")\\\\n\\\\n\\\\ndef parse_json_content(content: str) -> dict[str, Any]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"JSON ë¬¸ìì—´ì„ íŒŒì‹±í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    try:\\\\n        return json.loads(content)\\\\n    except json.JSONDecodeError:\\\\n        return {}\\\\n\\\\n\\\\ndef parse_prompt_content(prompt_list: list) -> list:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"í”„ë¡¬í”„íŠ¸ ë°ì´í„°ì˜ content í•„ë“œë¥¼ íŒŒì‹±í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    if not isinstance(prompt_list, list):\\\\n        return prompt_list\\\\n\\\\n    parsed_list = []\\\\n    for item in prompt_list:\\\\n        item_copy = copy.deepcopy(item)\\\\n        if (\\\\n            isinstance(item_copy, dict)\\\\n            and \\\\\\\"content\\\\\\\" in item_copy\\\\n            and isinstance(item_copy[\\\\\\\"content\\\\\\\"], str)\\\\n        ):\\\\n            try:\\\\n                item_copy[\\\\\\\"content\\\\\\\"] = json.loads(item_copy[\\\\\\\"content\\\\\\\"])\\\\n            except json.JSONDecodeError:\\\\n                pass\\\\n        parsed_list.append(item_copy)\\\\n\\\\n    return parsed_list\\\\n\\\\n\\\\ndef display_json_field_in_expander(key: str, value: Any) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"JSON í•„ë“œë¥¼ ì ‘ì„ ìˆ˜ ìˆëŠ” expanderë¡œ í‘œì‹œí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    if not value:  # Noneì´ê±°ë‚˜ ë¹ˆ ê°’\\\\n        with st.expander(f\\\\\\\"{key} ë‚´ìš© ë³´ê¸°\\\\\\\", expanded=False):\\\\n            st.write(\\\\\\\"ë‚´ìš© ì—†ìŒ\\\\\\\")\\\\n        return\\\\n\\\\n    with st.expander(f\\\\\\\"{key} ë‚´ìš© ë³´ê¸°\\\\\\\", expanded=False):\\\\n        if key == \\\\\\\"prompt\\\\\\\" and isinstance(value, list):\\\\n            parsed_value = parse_prompt_content(value)\\\\n            st.json(parsed_value, expanded=True)\\\\n        else:\\\\n            st.json(value, expanded=True)\\\\n\\\\n\\\\ndef display_review_result_raw_json(json_data: dict[str, Any]) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ë¦¬ë·° ê²°ê³¼ì˜ ì›ë³¸ JSONì„ í‘œì‹œí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    st.markdown(\\\\\\\"## ì›ë³¸ JSON ë°ì´í„°\\\\\\\")\\\\n    data_to_display = copy.deepcopy(json_data)\\\\n\\\\n    # ì£¼ìš” í•„ë“œë¥¼ expanderë¡œ í‘œì‹œ\\\\n    target_keys = [\\\\\\\"prompt\\\\\\\", \\\\\\\"review_request\\\\\\\", \\\\\\\"review_response\\\\\\\"]\\\\n    for key in target_keys:\\\\n        if key in data_to_display:\\\\n            display_json_field_in_expander(key, data_to_display.pop(key))\\\\n\\\\n    # ë‚˜ë¨¸ì§€ ë°ì´í„° í‘œì‹œ\\\\n    if data_to_display:\\\\n        st.markdown(\\\\\\\"---\\\\\\\")\\\\n        st.markdown(\\\\\\\"### ì›ë³¸ ë°ì´í„°\\\\\\\")\\\\n        st.json(json_data, expanded=False)\\\\n\\\\n\\\\ndef filter_failed_test_cases(test_cases: list) -> tuple[list, int]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ì‹¤íŒ¨í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë§Œ í•„í„°ë§í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    if not isinstance(test_cases, list):\\\\n        return [], 0\\\\n\\\\n    filtered_cases = []\\\\n\\\\n    for tc in test_cases:\\\\n        if not isinstance(tc, dict) or tc.get(\\\\\\\"success\\\\\\\") is not False:\\\\n            continue\\\\n\\\\n        tc_copy = copy.deepcopy(tc)\\\\n\\\\n        # metricsData ë‚´ë¶€ì—ì„œ ì‹¤íŒ¨í•œ í•­ëª©ë§Œ í•„í„°ë§\\\\n        if \\\\\\\"metricsData\\\\\\\" in tc_copy and isinstance(tc_copy[\\\\\\\"metricsData\\\\\\\"], list):\\\\n            filtered_metrics = [\\\\n                m\\\\n                for m in tc_copy[\\\\\\\"metricsData\\\\\\\"]\\\\n                if isinstance(m, dict) and m.get(\\\\\\\"success\\\\\\\") is False\\\\n            ]\\\\n            tc_copy[\\\\\\\"metricsData\\\\\\\"] = filtered_metrics or []\\\\n\\\\n        filtered_cases.append(tc_copy)\\\\n\\\\n    return filtered_cases, len(filtered_cases)\\\\n\\\\n\\\\ndef parse_test_case_inputs(test_cases: list) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì˜ ì…ë ¥ í•„ë“œë¥¼ íŒŒì‹±í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    if not isinstance(test_cases, list):\\\\n        return\\\\n\\\\n    for test_case in test_cases:\\\\n        if not isinstance(test_case, dict):\\\\n            continue\\\\n\\\\n        # input í•„ë“œ ì²˜ë¦¬\\\\n        if \\\\\\\"input\\\\\\\" in test_case and isinstance(test_case[\\\\\\\"input\\\\\\\"], str):\\\\n            try:\\\\n                parsed_input = json.loads(test_case[\\\\\\\"input\\\\\\\"])\\\\n                if isinstance(parsed_input, list):\\\\n                    parsed_input = parse_prompt_content(parsed_input)\\\\n                test_case[\\\\\\\"input\\\\\\\"] = parsed_input\\\\n            except json.JSONDecodeError:\\\\n                pass\\\\n\\\\n        # actualOutput í•„ë“œ ì²˜ë¦¬\\\\n        if \\\\\\\"actualOutput\\\\\\\" in test_case and isinstance(test_case[\\\\\\\"actualOutput\\\\\\\"], str):\\\\n            try:\\\\n                test_case[\\\\\\\"actualOutput\\\\\\\"] = json.loads(test_case[\\\\\\\"actualOutput\\\\\\\"])\\\\n            except json.JSONDecodeError:\\\\n                pass\\\\n\\\\n\\\\ndef display_llm_eval_results(json_data: dict[str, Any]) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"llm_eval ê²°ê³¼ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    st.markdown(\\\\\\\"## llm_eval ê²°ê³¼ ë‚´ìš©\\\\\\\")\\\\n\\\\n    # ë°ì´í„° ë³µì‚¬\\\\n    display_data = copy.deepcopy(json_data)\\\\n\\\\n    # í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ìˆ˜ ê³„ì‚°\\\\n    test_cases = (\\\\n        display_data.get(\\\\\\\"testCases\\\\\\\", []) if isinstance(display_data, dict) else []\\\\n    )\\\\n    num_total_cases = len(test_cases) if isinstance(test_cases, list) else 0\\\\n\\\\n    # í•„í„°ë§ ì»¨íŠ¸ë¡¤\\\\n    col_checkbox, col_count = st.columns([0.8, 0.2])\\\\n    with col_checkbox:\\\\n        filter_failed_tests = st.checkbox(\\\\n            \\\\\\\"ì‹¤íŒ¨í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë§Œ ë³´ê¸° (success=false)\\\\\\\",\\\\n            key=\\\\\\\"llm_eval_filter_checkbox\\\\\\\",\\\\n        )\\\\n\\\\n    # í•„í„°ë§ ì ìš©\\\\n    num_displayed_cases = num_total_cases\\\\n    if (\\\\n        filter_failed_tests\\\\n        and isinstance(display_data, dict)\\\\n        and \\\\\\\"testCases\\\\\\\" in display_data\\\\n    ):\\\\n        filtered_cases, num_displayed_cases = filter_failed_test_cases(\\\\n            display_data[\\\\\\\"testCases\\\\\\\"]\\\\n        )\\\\n        display_data[\\\\\\\"testCases\\\\\\\"] = filtered_cases\\\\n        count_caption_text = (\\\\n            f\\\\\\\"(í‘œì‹œ: {num_displayed_cases} / ì´: {num_total_cases}ê±´, ì‹¤íŒ¨ë§Œ)\\\\\\\"\\\\n        )\\\\n    else:\\\\n        count_caption_text = f\\\\\\\"(ì´ {num_total_cases}ê±´)\\\\\\\"\\\\n\\\\n    with col_count:\\\\n        st.caption(count_caption_text)\\\\n\\\\n    # ì…ë ¥ í•„ë“œ íŒŒì‹±\\\\n    if isinstance(display_data, dict) and \\\\\\\"testCases\\\\\\\" in display_data:\\\\n        parse_test_case_inputs(display_data[\\\\\\\"testCases\\\\\\\"])\\\\n\\\\n    # ê²°ê³¼ í‘œì‹œ\\\\n    st.json(display_data, expanded=False)\\\\n\\\\n\\\\ndef display_review_result(json_data: dict[str, Any]) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ë¦¬ë·° ê²°ê³¼ë¥¼ HTMLë¡œ í‘œì‹œí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    if \\\\\\\"review_response\\\\\\\" not in json_data or not json_data[\\\\\\\"review_response\\\\\\\"]:\\\\n        st.warning(\\\\\\\"ë¦¬ë·° ì‘ë‹µ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n        return\\\\n\\\\n    try:\\\\n        review_response = ReviewResponse.model_validate(json_data[\\\\\\\"review_response\\\\\\\"])\\\\n        formatter = ReviewFormatter()\\\\n        html_content = formatter.to_markdown(review_response)\\\\n        st.markdown(html_content)\\\\n    except Exception as e:\\\\n        st.error(f\\\\\\\"ë¦¬ë·° ì‘ë‹µ ë°ì´í„° ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ ë°œìƒ: {e}\\\\\\\")\\\\n        st.json(json_data[\\\\\\\"review_response\\\\\\\"], expanded=False)\\\\n\\\\n\\\\ndef load_and_display_file_content(file_path: Path) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"íŒŒì¼ ë‚´ìš©ì„ ë¡œë“œí•˜ê³  í‘œì‹œí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    try:\\\\n        with open(file_path, encoding=\\\\\\\"utf-8\\\\\\\") as f:\\\\n            content = f.read()\\\\n\\\\n        file_format = determine_file_format(file_path)\\\\n\\\\n        if file_format == \\\\\\\"json\\\\\\\":\\\\n            json_data = parse_json_content(content)\\\\n            if not json_data:\\\\n                st.error(\\\\\\\"ìœ íš¨í•˜ì§€ ì•Šì€ JSON í˜•ì‹ì…ë‹ˆë‹¤.\\\\\\\")\\\\n                st.text(content)\\\\n                return\\\\n\\\\n            view_type = st.session_state.get(\\\\\\\"view_type\\\\\\\")\\\\n\\\\n            if view_type == \\\\\\\"ë¦¬ë·° ê²°ê³¼\\\\\\\":\\\\n                if \\\\\\\"show_raw_json\\\\\\\" not in st.session_state:\\\\n                    st.session_state.show_raw_json = False\\\\n\\\\n                show_raw_json = st.checkbox(\\\\n                    \\\\\\\"ì›ë³¸ JSON ë°ì´í„° ë³´ê¸°\\\\\\\", key=\\\\\\\"show_raw_json\\\\\\\"\\\\n                )\\\\n\\\\n                if show_raw_json:\\\\n                    display_review_result_raw_json(json_data)\\\\n                else:\\\\n                    display_review_result(json_data)\\\\n\\\\n            elif view_type == \\\\\\\"llm_eval ê²°ê³¼\\\\\\\":\\\\n                display_llm_eval_results(json_data)\\\\n        else:\\\\n            # í…ìŠ¤íŠ¸ íŒŒì¼ì€ ê·¸ëŒ€ë¡œ í‘œì‹œ\\\\n            st.text(content)\\\\n\\\\n    except Exception as e:\\\\n        st.error(f\\\\\\\"íŒŒì¼ì„ ì½ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: {str(e)}\\\\\\\")\\\\n\\\\n\\\\ndef sort_file_infos(\\\\n    file_infos: list[dict[str, Any]], sort_option: str\\\\n) -> list[dict[str, Any]]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"íŒŒì¼ ì •ë³´ ëª©ë¡ì„ ì •ë ¬í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    if sort_option == \\\\\\\"ìµœì‹ ìˆœ\\\\\\\":\\\\n        file_infos.sort(key=lambda x: x[\\\\\\\"date\\\\\\\"], reverse=True)\\\\n    elif sort_option == \\\\\\\"ì˜¤ë˜ëœìˆœ\\\\\\\":\\\\n        file_infos.sort(key=lambda x: x[\\\\\\\"date\\\\\\\"])\\\\n    return file_infos\\\\n\\\\n\\\\ndef app():\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"Streamlit ì•± ë©”ì¸ í•¨ìˆ˜\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    st.set_page_config(\\\\n        page_title=\\\\\\\"Reviewer - ì½”ë“œ ë¦¬ë·° ê²°ê³¼\\\\\\\",\\\\n        page_icon=\\\\\\\"ğŸ“\\\\\\\",\\\\n        layout=\\\\\\\"wide\\\\\\\",\\\\n        initial_sidebar_state=\\\\\\\"expanded\\\\\\\",\\\\n    )\\\\n\\\\n    st.title(\\\\\\\"ì½”ë“œ ë¦¬ë·° ê²°ê³¼\\\\\\\")\\\\n\\\\n    # ê²°ê³¼ ë””ë ‰í† ë¦¬ í‘œì‹œ\\\\n    review_log_dir = get_default_review_log_dir()\\\\n    st.sidebar.markdown(f\\\\\\\"**ë¦¬ë·° ë¡œê·¸ ì €ì¥ ìœ„ì¹˜**: {review_log_dir}\\\\\\\")\\\\n    st.sidebar.markdown(\\\\n        f\\\\\\\"**llm_eval ê²°ê³¼ ì €ì¥ ìœ„ì¹˜**: {get_default_llm_eval_data_dir()}\\\\\\\"\\\\n    )\\\\n\\\\n    # ê²°ê³¼ ì„ íƒ\\\\n    view_type = st.sidebar.selectbox(\\\\n        \\\\\\\"ë³´ê¸° ìœ í˜•:\\\\\\\",\\\\n        [\\\\n            \\\\\\\"ë¦¬ë·° ê²°ê³¼\\\\\\\",\\\\n            \\\\\\\"llm_eval ê²°ê³¼\\\\\\\",\\\\n        ],\\\\n        index=0,\\\\n    )\\\\n\\\\n    # ë·° íƒ€ì… ì„¸ì…˜ ì €ì¥\\\\n    st.session_state.view_type = view_type\\\\n\\\\n    # íŒŒì¼ ëª©ë¡ ê°€ì ¸ì˜¤ê¸°\\\\n    if view_type == \\\\\\\"ë¦¬ë·° ê²°ê³¼\\\\\\\":\\\\n        files = get_review_log_files()\\\\n        if not files:\\\\n            st.info(\\\\\\\"ì €ì¥ëœ ë¦¬ë·° ë¡œê·¸ê°€ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n            st.markdown(\\\\\\\"\\\\\\\"\\\\\\\"\\\\n            ### ë¦¬ë·° ìƒì„± ë°©ë²•\\\\n            \\\\n            í„°ë¯¸ë„ì—ì„œ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì—¬ ì½”ë“œ ë¦¬ë·°ë¥¼ ìƒì„±í•˜ì„¸ìš”:\\\\n            ```bash\\\\n            reviewer review\\\\n            ```\\\\n            \\\\n            ìì„¸í•œ ì‚¬ìš©ë²•ì€ README.md íŒŒì¼ì„ ì°¸ì¡°í•˜ì„¸ìš”.\\\\n            \\\\\\\"\\\\\\\"\\\\\\\")\\\\n            return\\\\n    else:  # llm_eval ê²°ê³¼\\\\n        files = get_llm_eval_data_files()\\\\n        if not files:\\\\n            st.info(\\\\\\\"ì €ì¥ëœ llm_eval ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n            return\\\\n\\\\n    # íŒŒì¼ ëª©ë¡ ì •ë³´ ìƒì„±\\\\n    file_infos = [get_file_info(f) for f in files]\\\\n\\\\n    # ì‚¬ì´ë“œë°”ì— íŒŒì¼ ëª©ë¡ í‘œì‹œ\\\\n    st.sidebar.markdown(f\\\\\\\"## {view_type} ëª©ë¡\\\\\\\")\\\\n\\\\n    # ì •ë ¬ ì˜µì…˜\\\\n    sort_option = st.sidebar.selectbox(\\\\\\\"ì •ë ¬ ê¸°ì¤€:\\\\\\\", [\\\\\\\"ìµœì‹ ìˆœ\\\\\\\", \\\\\\\"ì˜¤ë˜ëœìˆœ\\\\\\\"], index=0)\\\\n\\\\n    # ì •ë ¬ ì ìš©\\\\n    file_infos = sort_file_infos(file_infos, sort_option)\\\\n\\\\n    # ì„ íƒ ê°€ëŠ¥í•œ íŒŒì¼ ì˜µì…˜ ìƒì„±\\\\n    file_options = {\\\\n        f\\\\\\\"{info['name']} ({info['date'].strftime('%Y-%m-%d %H:%M')}\\\\\\\": info\\\\n        for info in file_infos\\\\n    }\\\\n\\\\n    # íŒŒì¼ ì„ íƒ ìœ„ì ¯\\\\n    selected_file_name = st.sidebar.selectbox(\\\\n        \\\\\\\"íŒŒì¼ ì„ íƒ:\\\\\\\", list(file_options.keys()), index=0\\\\n    )\\\\n\\\\n    # ì„ íƒëœ íŒŒì¼ ì •ë³´ì™€ ë‚´ìš© í‘œì‹œ\\\\n    selected_file_info = file_options[selected_file_name]\\\\n    display_file_info(selected_file_info)\\\\n    load_and_display_file_content(selected_file_info[\\\\\\\"path\\\\\\\"])\\\\n\\\\n\\\\ndef run_app() -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"Streamlit ì•±ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    import subprocess\\\\n\\\\n    file_path = os.path.abspath(__file__)\\\\n    port = os.environ.get(\\\\\\\"STREAMLIT_SERVER_PORT\\\\\\\", \\\\\\\"8501\\\\\\\")\\\\n\\\\n    cmd = [\\\\n        sys.executable,\\\\n        \\\\\\\"-m\\\\\\\",\\\\n        \\\\\\\"streamlit\\\\\\\",\\\\n        \\\\\\\"run\\\\\\\",\\\\n        file_path,\\\\n        \\\\\\\"--server.headless\\\\\\\",\\\\n        \\\\\\\"true\\\\\\\",\\\\n        \\\\\\\"--browser.serverAddress\\\\\\\",\\\\n        \\\\\\\"localhost\\\\\\\",\\\\n        \\\\\\\"--server.port\\\\\\\",\\\\n        port,\\\\n    ]\\\\n\\\\n    subprocess.run(cmd)\\\\n\\\\n\\\\n# Streamlit ì•±ìœ¼ë¡œ ì§ì ‘ ì‹¤í–‰ë  ê²½ìš°\\\\nif __name__ == \\\\\\\"__main__\\\\\\\":\\\\n    app()\\\\n\\\", \\\"formatted_hunks\\\": [{\\\"hunk_idx\\\": \\\"1\\\", \\\"before_code\\\": \\\"```python\\\\nfrom pathlib import Path\\\\nfrom typing import Any, Optional\\\\n\\\\nimport streamlit as st\\\\n\\\\nfrom reviewer.src.utils.token.models import ReviewResponse\\\\n\\\\n# ë¡œê±° ì„¤ì •\\\\nlogger = logging.getLogger(__name__)\\\\n\\\\n# ìƒëŒ€ ê²½ë¡œ ì„í¬íŠ¸ë¥¼ ìœ„í•œ ê²½ë¡œ ì„¤ì •\\\\nsys.path.append(os.path.abspath(os.path.join(os.path.dirname(__file__), \\\\\\\"..\\\\\\\")))\\\\nfrom reviewer.src.config import get_default_review_log_dir\\\\nfrom reviewer.src.utils.review_formatter import ReviewFormatter\\\\n\\\\n\\\\ndef get_default_llm_eval_data_dir() -> Path:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"llm_eval ë°ì´í„°ê°€ ì €ì¥ëœ data ë””ë ‰í† ë¦¬ ê²½ë¡œë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    project_root = Path(__file__).resolve().parent.parent.parent\\\\n```\\\", \\\"after_code\\\": \\\"```python\\\\nfrom pathlib import Path\\\\nfrom typing import Any, Optional\\\\n\\\\nimport streamlit as st\\\\n\\\\nfrom reviewer.src.config import get_default_review_log_dir\\\\nfrom reviewer.src.utils.review_formatter import ReviewFormatter\\\\nfrom reviewer.src.utils.token.models import ReviewResponse\\\\n\\\\n# ë¡œê±° ì„¤ì •\\\\nlogger = logging.getLogger(__name__)\\\\n\\\\n# ìƒëŒ€ ê²½ë¡œ ì„í¬íŠ¸ë¥¼ ìœ„í•œ ê²½ë¡œ ì„¤ì •\\\\n\\\\n\\\\ndef get_default_llm_eval_data_dir() -> Path:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"llm_eval ë°ì´í„°ê°€ ì €ì¥ëœ data ë””ë ‰í† ë¦¬ ê²½ë¡œë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    project_root = Path(__file__).resolve().parent.parent.parent\\\\n```\\\", \\\"after_code_start_line_number\\\": 13, \\\"after_code_line_numbers\\\": [13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]}, {\\\"hunk_idx\\\": \\\"2\\\", \\\"before_code\\\": \\\"```python\\\\n    load_and_display_file_content(selected_file_info[\\\\\\\"path\\\\\\\"])\\\\n\\\\n\\\\ndef run_app() -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"Streamlit ì•±ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    import os\\\\n    import subprocess\\\\n    import sys\\\\n\\\\n    file_path = os.path.abspath(__file__)\\\\n    port = os.environ.get(\\\\\\\"STREAMLIT_SERVER_PORT\\\\\\\", \\\\\\\"8501\\\\\\\")\\\\n\\\\n    cmd = [\\\\n```\\\", \\\"after_code\\\": \\\"```python\\\\n    load_and_display_file_content(selected_file_info[\\\\\\\"path\\\\\\\"])\\\\n\\\\n\\\\ndef run_app() -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"Streamlit ì•±ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    import subprocess\\\\n\\\\n    file_path = os.path.abspath(__file__)\\\\n    port = os.environ.get(\\\\\\\"STREAMLIT_SERVER_PORT\\\\\\\", \\\\\\\"8501\\\\\\\")\\\\n\\\\n    cmd = [\\\\n```\\\", \\\"after_code_start_line_number\\\": 506, \\\"after_code_line_numbers\\\": [506, 507, 508, 509, 510, 511, 512, 513, 514, 515, 516]}]}\"}]",
    "actual_output": "{\"issues\": [{\"type\": \"style\", \"line_number\": 24, \"file\": \"reviewer/src/ui.py\", \"description\": \"ìƒëŒ€ ê²½ë¡œ ì„í¬íŠ¸ë¥¼ ìœ„í•œ `sys.path.append` ì½”ë“œê°€ ì œê±°ë˜ì—ˆì§€ë§Œ, í•´ë‹¹ ì£¼ì„ì´ ë‚¨ì•„ìˆì–´ ì½”ë“œì˜ ì˜ë„ë¥¼ ì˜¤í•´í•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¶ˆí•„ìš”í•œ ì£¼ì„ê³¼ ë¹ˆ ì¤„ì„ ì œê±°í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.\", \"suggestion\": \"ê´€ë ¨ ì—†ëŠ” ì£¼ì„ê³¼ ë¹ˆ ì¤„ì„ ì œê±°í•˜ì—¬ ì½”ë“œë¥¼ ì •ë¦¬í•˜ì„¸ìš”.\", \"severity\": \"info\", \"target_code\": \"\\n# ìƒëŒ€ ê²½ë¡œ ì„í¬íŠ¸ë¥¼ ìœ„í•œ ê²½ë¡œ ì„¤ì •\\n\\n# ìƒëŒ€ ê²½ë¡œ ì„í¬íŠ¸ë¥¼ ìœ„í•œ ê²½ë¡œ ì„¤ì •\", \"suggested_code\": \"\"}], \"summary\": \"ë¶ˆí•„ìš”í•œ ìƒëŒ€ ê²½ë¡œ ì„í¬íŠ¸ ì„¤ì • ì½”ë“œë¥¼ ì œê±°í•˜ê³  ê´€ë ¨ ì£¼ì„ì„ ì •ë¦¬í–ˆìŠµë‹ˆë‹¤. í•¨ìˆ˜ ë‚´ë¶€ì˜ import ë¬¸ì„ íŒŒì¼ ìƒë‹¨ìœ¼ë¡œ ì´ë™ì‹œì¼œ ì½”ë“œ êµ¬ì¡°ë¥¼ ê°œì„ í–ˆìŠµë‹ˆë‹¤.\", \"score\": 9.0, \"recommendations\": [\"ì½”ë“œ ë³€ê²½ ì‹œ ê´€ë ¨ ì£¼ì„ë„ í•¨ê»˜ ìˆ˜ì •í•˜ê±°ë‚˜ ì œê±°í•˜ì—¬ ì½”ë“œì™€ ì£¼ì„ì˜ ì¼ê´€ì„±ì„ ìœ ì§€í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.\", \"import ë¬¸ì€ ì¼ë°˜ì ìœ¼ë¡œ íŒŒì¼ ìƒë‹¨ì— ëª¨ì•„ë‘ëŠ” ê²ƒì´ ê°€ë…ì„±ì— ì¢‹ìŠµë‹ˆë‹¤. `run_app` í•¨ìˆ˜ ë‚´ë¶€ì— ìˆë˜ `import subprocess`ë„ íŒŒì¼ ìƒë‹¨ìœ¼ë¡œ ì˜®ê¸°ëŠ” ê²ƒì„ ê³ ë ¤í•´ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\"]}"
  },
  {
    "input": "[{\"role\": \"system\", \"content\": \"ë‹¹ì‹ ì€ ìˆ™ë ¨ëœ ì½”ë“œ ë¦¬ë·°ì–´ì…ë‹ˆë‹¤. ì œê³µëœ ì…ë ¥(JSON) ë°ì´í„°ë¥¼ ë¶„ì„í•˜ì—¬ ì½”ë“œ í’ˆì§ˆ, ë²„ê·¸, ë³´ì•ˆ ë¬¸ì œ, ì„±ëŠ¥ ì´ìŠˆ ë“± ì£¼ìš” ë¬¸ì œì ì„ ì¢…í•©ì ìœ¼ë¡œ í‰ê°€í•˜ê³ , ê°œì„  ë°©í–¥ì— ëŒ€í•´ ììœ ë¡­ê²Œ ì˜ê²¬ì„ ì œì‹œí•˜ì„¸ìš”.\\n\\nì¤‘ìš” ê·œì¹™\\n  - ëª¨ë“  ì‘ë‹µì€ ë°˜ë“œì‹œ í•œêµ­ì–´ë¡œ ì‘ì„±í•´ì•¼ í•©ë‹ˆë‹¤. ì˜ì–´ë‚˜ ë‹¤ë¥¸ ì–¸ì–´ë¡œ ì‘ë‹µí•˜ì§€ ë§ˆì„¸ìš”.\\n  - ì´ìŠˆ ì„¤ëª…(description) ë° ì œì•ˆ(suggestion)ì˜ ëª…í™•ì„±(Clarity): ë…ìê°€ ì‰½ê²Œ ì´í•´í•  ìˆ˜ ìˆë„ë¡ ê°„ê²°í•˜ê³  ëª…í™•í•œ ì–¸ì–´ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”. \\n  - ì½”ë“œ ì˜ˆì‹œ ì œê³µ: suggestionì´ ì½”ë“œ ë³€ê²½ì„ í¬í•¨í•œë‹¤ë©´, issues ê°ì²´ì˜ suggested_code í•„ë“œë¥¼ ì ê·¹ í™œìš©í•˜ì„¸ìš”. ë§Œì•½ issuesê°€ ì—†ë‹¤ë©´, recommendations í•­ëª©ì—ì„œ ì „ë°˜ì ì¸ ê°œì„  ë°©í–¥ê³¼ í•¨ê»˜ ì°¸ê³ í•  ë§Œí•œ ì½”ë“œ ìŠ¤íƒ€ì¼ ë˜ëŠ” ê°„ë‹¨í•œ ê°œì„  ì½”ë“œ ì˜ˆì‹œë¥¼ ì œì‹œí•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤. (ì˜ˆ: \\\"ê¶Œì¥ ì‚¬í•­: ì „ë°˜ì ìœ¼ë¡œ ë³€ìˆ˜ëª…ì— snake_caseë¥¼ ì¼ê´€ë˜ê²Œ ì‚¬ìš©í•˜ë©´ ê°€ë…ì„±ì´ í–¥ìƒë©ë‹ˆë‹¤. (ì˜ˆ: existingVariable -> existing_variable)\\\")\\n----------------------\\n### ì…ë ¥(JSON) êµ¬ì¡°\\n```json\\n{\\n  \\\"file_name\\\":   string,             // ë³€ê²½ì´ ë°œìƒí•œ íŒŒì¼ ê²½ë¡œ, ì‘ë‹µ JSONì˜ issues ê°ì²´ ë‚´ file í•„ë“œì— ì´ ê°’ì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.\\n  \\\"file_content\\\": string,            // ì‚¬ìš©ìê°€ **ìˆ˜ì • í›„** ì €ì¥í•œ íŒŒì¼ì˜ ì „ì²´ ë‚´ìš©, ë³€ê²½ëœ ì½”ë“œ ì£¼ë³€ì˜ ì „ì²´ì ì¸ ë§¥ë½ì„ íŒŒì•…í•˜ëŠ” ë° ì°¸ê³ ìš©\\n  \\\"formatted_hunks\\\": [ // Git diff ì •ë³´ë¥¼ êµ¬ì¡°í™”í•œ ë°°ì—´\\n    {\\n      \\\"hunk_idx\\\":     string,  // (ë¬´ì‹œ ê°€ëŠ¥) ë‚´ë¶€ ì‹ë³„ì\\n      \\\"after_code_start_line_number\\\":  int,     // after_codeê°€ file_content ë‚´ì—ì„œ ì‹œì‘í•˜ëŠ” ë¼ì¸ ë²ˆí˜¸\\n      \\\"before_code\\\":  string,  // **ìˆ˜ì • ì „** ì½”ë“œ\\n      \\\"after_code\\\":   string   // **ìˆ˜ì • í›„** ì½”ë“œ â€” âŸµ ë¦¬ë·° ëŒ€ìƒ\\n      // ê·¸ ë°–ì˜ í•„ë“œëŠ” ìˆì–´ë„ ë¬´ì‹œí•´ë„ ë©ë‹ˆë‹¤.\\n    },\\n    ...\\n  ]\\n}\\n```\\n\\nê·œì¹™ \\n- ë°˜ë“œì‹œ **after_code ìœ„ì£¼**ë¡œ ë¶„ì„â€§ë¦¬ë·°í•˜ì„¸ìš”. before_codeì™€ file_contentëŠ” ì°¸ê³  ì»¨í…ìŠ¤íŠ¸ë¡œë§Œ í™œìš©í•©ë‹ˆë‹¤.\\n- ë§Œì•½ before_code, file_contentì— ì œì•ˆ ì‚¬í•­ì´ ìˆë‹¤ë©´ recommendationsì— ëª…ì‹œí•´ì£¼ì„¸ìš”.\\n----------------------\\n### ì¶œë ¥(JSON) í˜•ì‹\\nê° ì´ìŠˆëŠ” ë‹¤ìŒ ì •ë³´ë¥¼ í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤:\\n- type: ì´ìŠˆ ìœ í˜• (ë°˜ë“œì‹œ bug, security, performance, style, design ì¤‘ í•˜ë‚˜)\\n- line_number: ë¬¸ì œê°€ ìˆëŠ” ì½”ë“œì˜ ë¼ì¸ ë²ˆí˜¸, file_content ì „ì²´ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í•˜ëŠ” ì ˆëŒ€ì ì¸ ë¼ì¸ ë²ˆí˜¸ (ìˆ«ì, ì•Œ ìˆ˜ ì—†ìœ¼ë©´ null)\\n- file: ë¬¸ì œê°€ ìˆëŠ” íŒŒì¼ ì´ë¦„ (ì •í™•í•œ ê²½ë¡œ, ì„ì˜ ì´ë¦„ ê¸ˆì§€)\\n- description: ì´ìŠˆì— ëŒ€í•œ ìì„¸í•œ ì„¤ëª…\\n- suggestion: ë¬¸ì œ í•´ê²°ì„ ìœ„í•œ êµ¬ì²´ì ì¸ ì œì•ˆ\\n- severity: ì´ìŠˆì˜ ì‹¬ê°ë„ (info, warning, error ì¤‘ í•˜ë‚˜)\\n- target_code    : ë¦¬ë·° ëŒ€ìƒ ì½”ë“œ ìŠ¤ë‹ˆí«(after_code ì¤‘ ë¬¸ì œ ë¶€ë¶„)\\n- suggested_code : ê°œì„  ì œì•ˆì´ ë°˜ì˜ëœ ì½”ë“œ ìŠ¤ë‹ˆí«\\n\\në˜í•œ ë‹¤ìŒ ì •ë³´ë„ ì œê³µí•´ì•¼ í•©ë‹ˆë‹¤:\\n- summary: ì „ì²´ ì½”ë“œ ë³€ê²½ì— ëŒ€í•œ ìš”ì•½\\n- score: ì½”ë“œ í’ˆì§ˆì— ëŒ€í•œ 0-10 ì‚¬ì´ì˜ ì ìˆ˜\\n- recommendations: ì „ë°˜ì ì¸ ê°œì„ ì„ ìœ„í•œ ê¶Œì¥ì‚¬í•­ ëª©ë¡ (í•„ìš”ì‹œ ì½”ë“œ ì˜ˆì‹œ í¬í•¨)\\n\\n---------------------\\n### ì¶œë ¥(JSON) ì˜ˆì‹œ\\n\\n```json\\n{\\n  \\\"issues\\\": [\\n    {\\n      \\\"type\\\": \\\"ë²„ê·¸\\\",\\n      \\\"line_number\\\": 42,\\n      \\\"file\\\": \\\"src/app.py\\\",\\n      \\\"description\\\": \\\"NullPointerException ê°€ëŠ¥ì„±ì´ ìˆìŠµë‹ˆë‹¤.\\\",\\n      \\\"suggestion\\\": \\\"ë³€ìˆ˜ê°€ nullì¸ì§€ í™•ì¸ í›„ ì‚¬ìš©í•˜ì„¸ìš”.\\\",\\n      \\\"severity\\\": \\\"error\\\",\\n      \\\"target_code\\\": \\\"if (user.isActive) { ... }\\\",\\n      \\\"suggested_code\\\": \\\"if (user != null && user.isActive) { ... }\\\"\\n    }\\n  ],\\n  \\\"summary\\\": \\\"ë¡œê·¸ì¸ ë¡œì§ ê°œì„  ë° ì˜ˆì™¸ ì²˜ë¦¬ ê°•í™” í•„ìš”.\\\",\\n  \\\"score\\\": 7,\\n  \\\"recommendations\\\": [\\\"ëª¨ë“  ì…ë ¥ê°’ì— ëŒ€í•œ null ì²´í¬ ê°•í™”\\\", \\\"í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì¶”ê°€\\\"]\\n}\\n```\\n---------------------\\n## ê·œì¹™\\n1. ì´ìŠˆ ì„¤ëª…ê³¼ ì œì•ˆì€ êµ¬ì²´ì ì´ê³  ëª…í™•í•˜ê²Œ ì‘ì„±í•˜ì„¸ìš”. ëª¨í˜¸í•œ í‘œí˜„ì´ë‚˜ ì¼ë°˜ì ì¸ ì¡°ì–¸ì€ í”¼í•˜ê³ , ì½”ë“œì˜ íŠ¹ì • ë¶€ë¶„(target_code)ì„ ì–¸ê¸‰í•˜ë©° ì‹¤ì§ˆì ì¸ ê°œì„  ë°©ì•ˆ(suggested_code)ì„ ì œì‹œí•˜ì„¸ìš”.\\n2. JSON ì™¸ ë‹¤ë¥¸ í˜•ì‹ì˜ ì¶œë ¥(í…ìŠ¤íŠ¸, ë§ˆí¬ë‹¤ìš´ ë“±)ì„ ì ˆëŒ€ í¬í•¨í•˜ì§€ ë§ˆì„¸ìš”.\\n3. target_codeì™€ suggested_code ê°’ì—ëŠ” ìˆœìˆ˜í•œ ì½”ë“œ ë¬¸ìì—´ë§Œ í¬í•¨í•©ë‹ˆë‹¤. ì½”ë“œ ìŠ¤ë‹ˆí« ì‹œì‘ê³¼ ëì— ë¶ˆí•„ìš”í•œ ë¹ˆ ì¤„ì„ ë„£ì§€ ë§ê³ , ë°±í‹±(```)ì´ë‚˜ ê¸°íƒ€ ë§ˆí¬ë‹¤ìš´ìœ¼ë¡œ ê°ì‹¸ì§€ ë§ˆì„¸ìš”.\\n4. íŠ¹ë³„íˆ ì§€ì í•  ì´ìŠˆê°€ ì—†ë‹¤ë©´ \\\"issues\\\": [] ë¡œ ë¹„ì›Œ ë‘ê³ , summary ì— â€œì½”ë“œ ë³€ê²½ ì‚¬í•­ì—ì„œ íŠ¹ë³„í•œ ì´ìŠˆë¥¼ ë°œê²¬í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.â€ì™€ ê°™ì´ ëª…ì‹œí•˜ì„¸ìš”.\\n5. ë¦¬ë·° ëŒ€ìƒì€ after_code ì…ë‹ˆë‹¤. before_codeì™€ file_contentëŠ” ì°¸ê³ ìš©ì…ë‹ˆë‹¤.\\n6. íŒŒì¼ëª…(file)ì€ ì£¼ì–´ì§„ ê°’ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ì„¸ìš”.\\n7.  `issues[].line_number` ê²°ì • ë°©ë²•:\\n    a.  `issues[].line_number`ëŠ” `target_code` (ë¦¬ë·° ëŒ€ìƒ ì½”ë“œ ìŠ¤ë‹ˆí«)ê°€ `file_content` ì „ì²´ì—ì„œ ì‹œì‘í•˜ëŠ” **ì ˆëŒ€ì ì¸ 1-based ë¼ì¸ ë²ˆí˜¸**ì—¬ì•¼ í•©ë‹ˆë‹¤.\\n    b.  ì´ ê°’ì„ ê²°ì •í•˜ê¸° ìœ„í•´ `target_code`ê°€ ì†í•œ `hunk`ì˜ ë‹¤ìŒ ì •ë³´ë“¤ì„ ì‚¬ìš©í•©ë‹ˆë‹¤:\\n        i.  `formatted_hunks[].after_code`: ìˆ˜ì • í›„ ì½”ë“œ ë¸”ë¡ ë¬¸ìì—´ì…ë‹ˆë‹¤.\\n        ii. `formatted_hunks[].after_code_line_numbers`: `after_code`ì˜ ê° ë¼ì¸ì— í•´ë‹¹í•˜ëŠ” `file_content` ê¸°ì¤€ ì ˆëŒ€ 1-based ë¼ì¸ ë²ˆí˜¸ë“¤ì´ ìˆœì„œëŒ€ë¡œ ë‹´ê¸´ ë¦¬ìŠ¤íŠ¸ì…ë‹ˆë‹¤. ì´ ë¦¬ìŠ¤íŠ¸ì˜ ê¸¸ì´ëŠ” `after_code`ì˜ ì´ ë¼ì¸ ìˆ˜ì™€ ì •í™•íˆ ì¼ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤.\\n        iii. `target_code`: ë¦¬ë·° ëŒ€ìƒ ì½”ë“œ ìŠ¤ë‹ˆí«ìœ¼ë¡œ, `after_code`ì˜ ì¼ë¶€ì—¬ì•¼ í•©ë‹ˆë‹¤.\\n    c.  **ê³„ì‚° ë‹¨ê³„:**\\n        1.  **`target_code`ì˜ ìƒëŒ€ ì‹œì‘ ìœ„ì¹˜ íŒŒì•…:** `target_code`ì˜ ì²« ë²ˆì§¸ ë¼ì¸ì´ `after_code` ë‚´ì—ì„œ ëª‡ ë²ˆì§¸ ë¼ì¸(1-based)ì—ì„œ ì‹œì‘í•˜ëŠ”ì§€ ì •í™•íˆ íŒŒì•…í•©ë‹ˆë‹¤. ì´ë¥¼ \\\"ìƒëŒ€ ì‹œì‘ ë¼ì¸ ë²ˆí˜¸\\\"ë¼ê³  í•©ë‹ˆë‹¤. (ì˜ˆ: `target_code`ì˜ ì²« ì¤„ì´ `after_code`ì˜ 3ë²ˆì§¸ ì¤„ê³¼ ë‚´ìš©ì´ ê°™ë‹¤ë©´, \\\"ìƒëŒ€ ì‹œì‘ ë¼ì¸ ë²ˆí˜¸\\\"ëŠ” `3`ì…ë‹ˆë‹¤.)\\n        2.  **ì ˆëŒ€ ë¼ì¸ ë²ˆí˜¸ ì¡°íšŒ:** íŒŒì•…ëœ \\\"ìƒëŒ€ ì‹œì‘ ë¼ì¸ ë²ˆí˜¸\\\"ë¥¼ ì‚¬ìš©í•˜ì—¬ `after_code_line_numbers` ë¦¬ìŠ¤íŠ¸ì—ì„œ í•´ë‹¹ ìœ„ì¹˜ì˜ ê°’ì„ ê°€ì ¸ì˜µë‹ˆë‹¤. ë¦¬ìŠ¤íŠ¸ëŠ” 0-based ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë¯€ë¡œ, `issues[].line_number = after_code_line_numbers[ (ìƒëŒ€ ì‹œì‘ ë¼ì¸ ë²ˆí˜¸) - 1 ]` ê³µì‹ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.\\n    d.  **ì˜ˆì‹œ:**\\n        `after_code`ê°€ 3ì¤„ì´ê³ , `after_code_line_numbers`ê°€ `[50, 51, 52]`ë¼ê³  ê°€ì •í•©ë‹ˆë‹¤.\\n        ë§Œì•½ `target_code`ì˜ ì²« ë²ˆì§¸ ë¼ì¸ì´ `after_code`ì˜ `2`ë²ˆì§¸ ë¼ì¸ ë‚´ìš©ê³¼ ì¼ì¹˜í•œë‹¤ë©´, \\\"ìƒëŒ€ ì‹œì‘ ë¼ì¸ ë²ˆí˜¸\\\"ëŠ” `2`ì…ë‹ˆë‹¤.\\n        ë”°ë¼ì„œ, `issues[].line_number = after_code_line_numbers[2 - 1] = after_code_line_numbers[1]` ì´ë¯€ë¡œ, `issues[].line_number`ëŠ” `51`ì´ ë©ë‹ˆë‹¤.\\n    e.  `target_code`ê°€ ì—¬ëŸ¬ ë¼ì¸ì— ê±¸ì³ ìˆëŠ” ê²½ìš°, `target_code`ì˜ **ì²« ë²ˆì§¸ ë¼ì¸**ì„ ê¸°ì¤€ìœ¼ë¡œ `issues[].line_number`ë¥¼ ê²°ì •í•©ë‹ˆë‹¤.\\n    f.  ë§Œì•½ `target_code`ë¥¼ `after_code` ë‚´ì—ì„œ ì°¾ì„ ìˆ˜ ì—†ê±°ë‚˜, \\\"ìƒëŒ€ ì‹œì‘ ë¼ì¸ ë²ˆí˜¸\\\"ë¥¼ ì •í™•íˆ íŠ¹ì •í•  ìˆ˜ ì—†ëŠ” ê²½ìš°, `issues[].line_number`ëŠ” `null`ë¡œ ì„¤ì •í•˜ê³ , í•„ìš”í•œ ê²½ìš° `description`ì— í•´ë‹¹ ìƒí™©ì„ ê°„ëµíˆ ì–¸ê¸‰í•©ë‹ˆë‹¤.\\n    g.  (ê¸°ì¡´ì˜ íŒŒì¼ ì „ì²´ì— ëŒ€í•œ ì´ìŠˆ ì²˜ë¦¬ ì‹œ `null` ì‚¬ìš© ë“± ê´€ë ¨ ê·œì¹™ ìœ ì§€)\\n8. íŠ¹ì • ì½”ë“œ ë¼ì¸ì„ ì‚­ì œí•˜ê±°ë‚˜ íŒŒì¼ì„ ì‚­ì œí•´ì•¼ í•˜ëŠ” ê²½ìš°, suggested_code ìµœìƒë‹¨ì— \\\"ì½”ë“œ ë¼ì¸ ì œê±°\\\" ë˜ëŠ” \\\"íŒŒì¼ ì œê±°\\\" ë¼ëŠ” ë¬¸êµ¬ë¥¼ ëª…ì‹œí•˜ê³ , ê·¸ ì•„ë˜ì— ì œê±° ëŒ€ìƒ ì½”ë“œë¥¼ ì£¼ì„ ì²˜ë¦¬í•˜ì—¬ ì œê³µí•˜ì„¸ìš”.\\n   ì˜ˆë¥¼ ë“¤ì–´, Python ì½”ë“œ ì‚­ì œ ì‹œ # ì½”ë“œ ë¼ì¸ ì œê±°\\\\n# print(\\\"ì‚­ì œë  ì½”ë“œ\\\") ì™€ ê°™ì´ í‘œí˜„í•©ë‹ˆë‹¤. ë§Œì•½ ì—¬ëŸ¬ ë¼ì¸ì´ë¼ë©´ ê° ë¼ì¸ì„ ì£¼ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.\"}, {\"role\": \"user\", \"content\": \"{\\\"file_name\\\": \\\"reviewer/src/ui.py\\\", \\\"file_content\\\": \\\"\\\\\\\"\\\\\\\"\\\\\\\"\\\\në¦¬ë·° ê²°ê³¼ë¥¼ ë³´ì—¬ì£¼ëŠ” Streamlit ì›¹ ì¸í„°í˜ì´ìŠ¤ ëª¨ë“ˆ\\\\n\\\\nì´ ëª¨ë“ˆì€ ì €ì¥ëœ ë¦¬ë·° ê²°ê³¼ë¥¼ Streamlitì„ ì‚¬ìš©í•˜ì—¬ ì›¹ ë¸Œë¼ìš°ì €ì— í‘œì‹œí•©ë‹ˆë‹¤.\\\\n\\\\\\\"\\\\\\\"\\\\\\\"\\\\n\\\\nimport copy\\\\nimport json\\\\nimport logging\\\\nimport os\\\\nimport sys\\\\nfrom datetime import datetime\\\\nfrom pathlib import Path\\\\nfrom typing import Any, Optional\\\\n\\\\nimport streamlit as st\\\\n\\\\nfrom reviewer.src.utils.token.models import ReviewResponse\\\\n\\\\n# ë¡œê±° ì„¤ì •\\\\nlogger = logging.getLogger(__name__)\\\\n\\\\n# ìƒëŒ€ ê²½ë¡œ ì„í¬íŠ¸ë¥¼ ìœ„í•œ ê²½ë¡œ ì„¤ì •\\\\nsys.path.append(os.path.abspath(os.path.join(os.path.dirname(__file__), \\\\\\\"..\\\\\\\")))\\\\nfrom reviewer.src.config import get_default_review_log_dir\\\\nfrom reviewer.src.utils.review_formatter import ReviewFormatter\\\\n\\\\n\\\\ndef get_default_llm_eval_data_dir() -> Path:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"llm_eval ë°ì´í„°ê°€ ì €ì¥ëœ data ë””ë ‰í† ë¦¬ ê²½ë¡œë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    project_root = Path(__file__).resolve().parent.parent.parent\\\\n    return project_root / \\\\\\\"llm_eval\\\\\\\" / \\\\\\\"results\\\\\\\"\\\\n\\\\n\\\\ndef get_llm_eval_data_files() -> list[Path]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"llm_eval ë°ì´í„° ë””ë ‰í† ë¦¬ì—ì„œ ëª¨ë“  íŒŒì¼ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    llm_eval_data_dir = get_default_llm_eval_data_dir()\\\\n    if not llm_eval_data_dir.exists():\\\\n        return []\\\\n\\\\n    llm_eval_files = list(llm_eval_data_dir.glob(\\\\\\\"*\\\\\\\"))\\\\n    llm_eval_files.sort(key=lambda f: f.stat().st_mtime, reverse=True)\\\\n    return llm_eval_files\\\\n\\\\n\\\\ndef get_review_log_files() -> list[Path]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ë¦¬ë·° ë¡œê·¸ ë””ë ‰í† ë¦¬ì—ì„œ ëª¨ë“  ë¦¬ë·° ë¡œê·¸ íŒŒì¼ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    log_dir = get_default_review_log_dir()\\\\n    if not log_dir.exists():\\\\n        return []\\\\n\\\\n    log_files = list(log_dir.glob(\\\\\\\"*.json\\\\\\\"))\\\\n    log_files.sort(key=lambda f: f.stat().st_mtime, reverse=True)\\\\n    return log_files\\\\n\\\\n\\\\ndef parse_date_from_filename(filename: str) -> Optional[datetime]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"íŒŒì¼ëª…ì—ì„œ ë‚ ì§œ ì •ë³´ë¥¼ ì¶”ì¶œí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    parts = filename.split(\\\\\\\"_\\\\\\\")\\\\n\\\\n    # YYYYMMDD_HHMMSS í˜•ì‹ ê²€ìƒ‰\\\\n    if len(parts) >= 2:\\\\n        # ì ‘ë‘ì‚¬ì— ë‚ ì§œê°€ ìˆëŠ” ê²½ìš°: YYYYMMDD_HHMMSS_...\\\\n        if (\\\\n            parts[0].isdigit()\\\\n            and len(parts[0]) == 8\\\\n            and parts[1].isdigit()\\\\n            and len(parts[1]) == 6\\\\n        ):\\\\n            try:\\\\n                return datetime.strptime(f\\\\\\\"{parts[0]}_{parts[1]}\\\\\\\", \\\\\\\"%Y%m%d_%H%M%S\\\\\\\")\\\\n            except ValueError:\\\\n                pass\\\\n\\\\n        # ì ‘ë¯¸ì‚¬ì— ë‚ ì§œê°€ ìˆëŠ” ê²½ìš°: ..._YYYYMMDD_HHMMSS\\\\n        if (\\\\n            parts[-2].isdigit()\\\\n            and len(parts[-2]) == 8\\\\n            and parts[-1].isdigit()\\\\n            and len(parts[-1]) == 6\\\\n        ):\\\\n            try:\\\\n                return datetime.strptime(f\\\\\\\"{parts[-2]}_{parts[-1]}\\\\\\\", \\\\\\\"%Y%m%d_%H%M%S\\\\\\\")\\\\n            except ValueError:\\\\n                pass\\\\n\\\\n        # ì¤‘ê°„ì— ë‚ ì§œê°€ ìˆëŠ” ê²½ìš°\\\\n        for i in range(len(parts) - 1):\\\\n            if (\\\\n                parts[i].isdigit()\\\\n                and len(parts[i]) == 8\\\\n                and parts[i + 1].isdigit()\\\\n                and len(parts[i + 1]) == 6\\\\n            ):\\\\n                try:\\\\n                    return datetime.strptime(\\\\n                        f\\\\\\\"{parts[i]}_{parts[i + 1]}\\\\\\\", \\\\\\\"%Y%m%d_%H%M%S\\\\\\\"\\\\n                    )\\\\n                except ValueError:\\\\n                    pass\\\\n\\\\n    return None\\\\n\\\\n\\\\ndef extract_model_name_from_filename(filename: str, date_parts_count: int = 0) -> str:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"íŒŒì¼ëª…ì—ì„œ ëª¨ë¸ ì´ë¦„ì„ ì¶”ì¶œí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    parts = filename.split(\\\\\\\"_\\\\\\\")\\\\n\\\\n    if date_parts_count == 2 and len(parts) > 2:\\\\n        # ë‚ ì§œ ë¶€ë¶„ ì œì™¸í•œ ë‚˜ë¨¸ì§€ë¥¼ ëª¨ë¸ëª…ìœ¼ë¡œ ê°„ì£¼\\\\n        return \\\\\\\"_\\\\\\\".join(parts[2:])\\\\n    elif len(parts) > 0 and not parts[-1].isdigit():\\\\n        # ë§ˆì§€ë§‰ ë¶€ë¶„ì´ ìˆ«ìê°€ ì•„ë‹ˆë©´ ëª¨ë¸ëª…ìœ¼ë¡œ ê°„ì£¼\\\\n        return parts[-1]\\\\n\\\\n    return \\\\\\\"\\\\\\\"\\\\n\\\\n\\\\ndef determine_file_format(file_path: Path) -> str:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"íŒŒì¼ì˜ í˜•ì‹ì„ ê²°ì •í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    file_suffix = file_path.suffix.lstrip(\\\\\\\".\\\\\\\").lower()\\\\n\\\\n    if not file_suffix:\\\\n        # í™•ì¥ì ì—†ëŠ” íŒŒì¼ ì²˜ë¦¬\\\\n        try:\\\\n            # llm_eval ë””ë ‰í† ë¦¬ ë‚´ íŒŒì¼ì¸ì§€ í™•ì¸\\\\n            llm_eval_dir = get_default_llm_eval_data_dir().resolve()\\\\n            file_parent = file_path.parent.resolve()\\\\n\\\\n            is_in_llm_eval_dir = str(file_parent).startswith(str(llm_eval_dir))\\\\n\\\\n            # íŒŒì¼ëª…ì— ë‚ ì§œ í˜•ì‹ì´ ìˆëŠ”ì§€ í™•ì¸\\\\n            parts = file_path.stem.split(\\\\\\\"_\\\\\\\")\\\\n            has_date_format = (\\\\n                len(parts) >= 2\\\\n                and parts[0].isdigit()\\\\n                and len(parts[0]) == 8\\\\n                and parts[1].isdigit()\\\\n                and len(parts[1]) == 6\\\\n            )\\\\n\\\\n            if is_in_llm_eval_dir or has_date_format:\\\\n                return \\\\\\\"json\\\\\\\"\\\\n            return \\\\\\\"txt\\\\\\\"\\\\n        except Exception:\\\\n            return \\\\\\\"txt\\\\\\\"\\\\n\\\\n    return file_suffix if file_suffix in [\\\\\\\"json\\\\\\\", \\\\\\\"log\\\\\\\", \\\\\\\"html\\\\\\\", \\\\\\\"txt\\\\\\\"] else \\\\\\\"txt\\\\\\\"\\\\n\\\\n\\\\ndef get_file_info(file: Path) -> dict[str, Any]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"íŒŒì¼ ì •ë³´ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    mtime = datetime.fromtimestamp(file.stat().st_mtime)\\\\n    size = file.stat().st_size\\\\n    size_str = f\\\\\\\"{size / 1024:.1f}KB\\\\\\\" if size >= 1024 else f\\\\\\\"{size}B\\\\\\\"\\\\n\\\\n    # ë‚ ì§œ ì¶”ì¶œ\\\\n    date_candidate = parse_date_from_filename(file.stem)\\\\n    if date_candidate is None:\\\\n        date_candidate = mtime\\\\n        date_parts_count = 0\\\\n    else:\\\\n        date_parts_count = 2\\\\n\\\\n    # ëª¨ë¸ëª… ì¶”ì¶œ\\\\n    model_name_candidate = extract_model_name_from_filename(file.stem, date_parts_count)\\\\n\\\\n    # íŒŒì¼ í˜•ì‹ ê²°ì •\\\\n    file_format = determine_file_format(file)\\\\n\\\\n    return {\\\\n        \\\\\\\"path\\\\\\\": file,\\\\n        \\\\\\\"name\\\\\\\": file.name,\\\\n        \\\\\\\"model\\\\\\\": model_name_candidate,\\\\n        \\\\\\\"date\\\\\\\": date_candidate,\\\\n        \\\\\\\"mtime\\\\\\\": mtime,\\\\n        \\\\\\\"size\\\\\\\": size,\\\\n        \\\\\\\"size_str\\\\\\\": size_str,\\\\n        \\\\\\\"format\\\\\\\": file_format,\\\\n    }\\\\n\\\\n\\\\ndef display_file_info(file_info: dict[str, Any]) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"íŒŒì¼ ì •ë³´ë¥¼ í™”ë©´ì— í‘œì‹œí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    col1, col2, col3 = st.columns(3)\\\\n    with col1:\\\\n        st.markdown(f\\\\\\\"**íŒŒì¼ëª…**: {file_info['name']}\\\\\\\")\\\\n    with col2:\\\\n        st.markdown(f\\\\\\\"**ë‚ ì§œ**: {file_info['date'].strftime('%Y-%m-%d %H:%M')}\\\\\\\")\\\\n    with col3:\\\\n        st.markdown(f\\\\\\\"**í¬ê¸°**: {file_info['size_str']}\\\\\\\")\\\\n\\\\n\\\\ndef parse_json_content(content: str) -> dict[str, Any]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"JSON ë¬¸ìì—´ì„ íŒŒì‹±í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    try:\\\\n        return json.loads(content)\\\\n    except json.JSONDecodeError:\\\\n        return {}\\\\n\\\\n\\\\ndef parse_prompt_content(prompt_list: list) -> list:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"í”„ë¡¬í”„íŠ¸ ë°ì´í„°ì˜ content í•„ë“œë¥¼ íŒŒì‹±í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    if not isinstance(prompt_list, list):\\\\n        return prompt_list\\\\n\\\\n    parsed_list = []\\\\n    for item in prompt_list:\\\\n        item_copy = copy.deepcopy(item)\\\\n        if (\\\\n            isinstance(item_copy, dict)\\\\n            and \\\\\\\"content\\\\\\\" in item_copy\\\\n            and isinstance(item_copy[\\\\\\\"content\\\\\\\"], str)\\\\n        ):\\\\n            try:\\\\n                item_copy[\\\\\\\"content\\\\\\\"] = json.loads(item_copy[\\\\\\\"content\\\\\\\"])\\\\n            except json.JSONDecodeError:\\\\n                pass\\\\n        parsed_list.append(item_copy)\\\\n\\\\n    return parsed_list\\\\n\\\\n\\\\ndef display_json_field_in_expander(key: str, value: Any) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"JSON í•„ë“œë¥¼ ì ‘ì„ ìˆ˜ ìˆëŠ” expanderë¡œ í‘œì‹œí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    if not value:  # Noneì´ê±°ë‚˜ ë¹ˆ ê°’\\\\n        with st.expander(f\\\\\\\"{key} ë‚´ìš© ë³´ê¸°\\\\\\\", expanded=False):\\\\n            st.write(\\\\\\\"ë‚´ìš© ì—†ìŒ\\\\\\\")\\\\n        return\\\\n\\\\n    with st.expander(f\\\\\\\"{key} ë‚´ìš© ë³´ê¸°\\\\\\\", expanded=False):\\\\n        if key == \\\\\\\"prompt\\\\\\\" and isinstance(value, list):\\\\n            parsed_value = parse_prompt_content(value)\\\\n            st.json(parsed_value, expanded=True)\\\\n        else:\\\\n            st.json(value, expanded=True)\\\\n\\\\n\\\\ndef display_review_result_raw_json(json_data: dict[str, Any]) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ë¦¬ë·° ê²°ê³¼ì˜ ì›ë³¸ JSONì„ í‘œì‹œí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    st.markdown(\\\\\\\"## ì›ë³¸ JSON ë°ì´í„°\\\\\\\")\\\\n    data_to_display = copy.deepcopy(json_data)\\\\n\\\\n    # ì£¼ìš” í•„ë“œë¥¼ expanderë¡œ í‘œì‹œ\\\\n    target_keys = [\\\\\\\"prompt\\\\\\\", \\\\\\\"review_request\\\\\\\", \\\\\\\"review_response\\\\\\\"]\\\\n    for key in target_keys:\\\\n        if key in data_to_display:\\\\n            display_json_field_in_expander(key, data_to_display.pop(key))\\\\n\\\\n    # ë‚˜ë¨¸ì§€ ë°ì´í„° í‘œì‹œ\\\\n    if data_to_display:\\\\n        st.markdown(\\\\\\\"---\\\\\\\")\\\\n        st.markdown(\\\\\\\"### ì›ë³¸ ë°ì´í„°\\\\\\\")\\\\n        st.json(json_data, expanded=False)\\\\n\\\\n\\\\ndef filter_failed_test_cases(test_cases: list) -> tuple[list, int]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ì‹¤íŒ¨í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë§Œ í•„í„°ë§í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    if not isinstance(test_cases, list):\\\\n        return [], 0\\\\n\\\\n    filtered_cases = []\\\\n\\\\n    for tc in test_cases:\\\\n        if not isinstance(tc, dict) or tc.get(\\\\\\\"success\\\\\\\") is not False:\\\\n            continue\\\\n\\\\n        tc_copy = copy.deepcopy(tc)\\\\n\\\\n        # metricsData ë‚´ë¶€ì—ì„œ ì‹¤íŒ¨í•œ í•­ëª©ë§Œ í•„í„°ë§\\\\n        if \\\\\\\"metricsData\\\\\\\" in tc_copy and isinstance(tc_copy[\\\\\\\"metricsData\\\\\\\"], list):\\\\n            filtered_metrics = [\\\\n                m\\\\n                for m in tc_copy[\\\\\\\"metricsData\\\\\\\"]\\\\n                if isinstance(m, dict) and m.get(\\\\\\\"success\\\\\\\") is False\\\\n            ]\\\\n            tc_copy[\\\\\\\"metricsData\\\\\\\"] = filtered_metrics or []\\\\n\\\\n        filtered_cases.append(tc_copy)\\\\n\\\\n    return filtered_cases, len(filtered_cases)\\\\n\\\\n\\\\ndef parse_test_case_inputs(test_cases: list) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì˜ ì…ë ¥ í•„ë“œë¥¼ íŒŒì‹±í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    if not isinstance(test_cases, list):\\\\n        return\\\\n\\\\n    for test_case in test_cases:\\\\n        if not isinstance(test_case, dict):\\\\n            continue\\\\n\\\\n        # input í•„ë“œ ì²˜ë¦¬\\\\n        if \\\\\\\"input\\\\\\\" in test_case and isinstance(test_case[\\\\\\\"input\\\\\\\"], str):\\\\n            try:\\\\n                parsed_input = json.loads(test_case[\\\\\\\"input\\\\\\\"])\\\\n                if isinstance(parsed_input, list):\\\\n                    parsed_input = parse_prompt_content(parsed_input)\\\\n                test_case[\\\\\\\"input\\\\\\\"] = parsed_input\\\\n            except json.JSONDecodeError:\\\\n                pass\\\\n\\\\n        # actualOutput í•„ë“œ ì²˜ë¦¬\\\\n        if \\\\\\\"actualOutput\\\\\\\" in test_case and isinstance(test_case[\\\\\\\"actualOutput\\\\\\\"], str):\\\\n            try:\\\\n                test_case[\\\\\\\"actualOutput\\\\\\\"] = json.loads(test_case[\\\\\\\"actualOutput\\\\\\\"])\\\\n            except json.JSONDecodeError:\\\\n                pass\\\\n\\\\n\\\\ndef display_llm_eval_results(json_data: dict[str, Any]) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"llm_eval ê²°ê³¼ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    st.markdown(\\\\\\\"## llm_eval ê²°ê³¼ ë‚´ìš©\\\\\\\")\\\\n\\\\n    # ë°ì´í„° ë³µì‚¬\\\\n    display_data = copy.deepcopy(json_data)\\\\n\\\\n    # í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ìˆ˜ ê³„ì‚°\\\\n    test_cases = (\\\\n        display_data.get(\\\\\\\"testCases\\\\\\\", []) if isinstance(display_data, dict) else []\\\\n    )\\\\n    num_total_cases = len(test_cases) if isinstance(test_cases, list) else 0\\\\n\\\\n    # í•„í„°ë§ ì»¨íŠ¸ë¡¤\\\\n    col_checkbox, col_count = st.columns([0.8, 0.2])\\\\n    with col_checkbox:\\\\n        filter_failed_tests = st.checkbox(\\\\n            \\\\\\\"ì‹¤íŒ¨í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë§Œ ë³´ê¸° (success=false)\\\\\\\",\\\\n            key=\\\\\\\"llm_eval_filter_checkbox\\\\\\\",\\\\n        )\\\\n\\\\n    # í•„í„°ë§ ì ìš©\\\\n    num_displayed_cases = num_total_cases\\\\n    if (\\\\n        filter_failed_tests\\\\n        and isinstance(display_data, dict)\\\\n        and \\\\\\\"testCases\\\\\\\" in display_data\\\\n    ):\\\\n        filtered_cases, num_displayed_cases = filter_failed_test_cases(\\\\n            display_data[\\\\\\\"testCases\\\\\\\"]\\\\n        )\\\\n        display_data[\\\\\\\"testCases\\\\\\\"] = filtered_cases\\\\n        count_caption_text = (\\\\n            f\\\\\\\"(í‘œì‹œ: {num_displayed_cases} / ì´: {num_total_cases}ê±´, ì‹¤íŒ¨ë§Œ)\\\\\\\"\\\\n        )\\\\n    else:\\\\n        count_caption_text = f\\\\\\\"(ì´ {num_total_cases}ê±´)\\\\\\\"\\\\n\\\\n    with col_count:\\\\n        st.caption(count_caption_text)\\\\n\\\\n    # ì…ë ¥ í•„ë“œ íŒŒì‹±\\\\n    if isinstance(display_data, dict) and \\\\\\\"testCases\\\\\\\" in display_data:\\\\n        parse_test_case_inputs(display_data[\\\\\\\"testCases\\\\\\\"])\\\\n\\\\n    # ê²°ê³¼ í‘œì‹œ\\\\n    st.json(display_data, expanded=False)\\\\n\\\\n\\\\ndef display_review_result(json_data: dict[str, Any]) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ë¦¬ë·° ê²°ê³¼ë¥¼ HTMLë¡œ í‘œì‹œí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    if \\\\\\\"review_response\\\\\\\" not in json_data or not json_data[\\\\\\\"review_response\\\\\\\"]:\\\\n        st.warning(\\\\\\\"ë¦¬ë·° ì‘ë‹µ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n        return\\\\n\\\\n    try:\\\\n        review_response = ReviewResponse.model_validate(json_data[\\\\\\\"review_response\\\\\\\"])\\\\n        formatter = ReviewFormatter()\\\\n        html_content = formatter.to_markdown(review_response)\\\\n        st.markdown(html_content)\\\\n    except Exception as e:\\\\n        st.error(f\\\\\\\"ë¦¬ë·° ì‘ë‹µ ë°ì´í„° ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ ë°œìƒ: {e}\\\\\\\")\\\\n        st.json(json_data[\\\\\\\"review_response\\\\\\\"], expanded=False)\\\\n\\\\n\\\\ndef load_and_display_file_content(file_path: Path) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"íŒŒì¼ ë‚´ìš©ì„ ë¡œë“œí•˜ê³  í‘œì‹œí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    try:\\\\n        with open(file_path, encoding=\\\\\\\"utf-8\\\\\\\") as f:\\\\n            content = f.read()\\\\n\\\\n        format = determine_file_format(file_path)\\\\n\\\\n        if format == \\\\\\\"json\\\\\\\":\\\\n            json_data = parse_json_content(content)\\\\n            if not json_data:\\\\n                st.error(\\\\\\\"ìœ íš¨í•˜ì§€ ì•Šì€ JSON í˜•ì‹ì…ë‹ˆë‹¤.\\\\\\\")\\\\n                st.text(content)\\\\n                return\\\\n\\\\n            view_type = st.session_state.get(\\\\\\\"view_type\\\\\\\")\\\\n\\\\n            if view_type == \\\\\\\"ë¦¬ë·° ê²°ê³¼\\\\\\\":\\\\n                if \\\\\\\"show_raw_json\\\\\\\" not in st.session_state:\\\\n                    st.session_state.show_raw_json = False\\\\n\\\\n                show_raw_json = st.checkbox(\\\\n                    \\\\\\\"ì›ë³¸ JSON ë°ì´í„° ë³´ê¸°\\\\\\\", key=\\\\\\\"show_raw_json\\\\\\\"\\\\n                )\\\\n\\\\n                if show_raw_json:\\\\n                    display_review_result_raw_json(json_data)\\\\n                else:\\\\n                    display_review_result(json_data)\\\\n\\\\n            elif view_type == \\\\\\\"llm_eval ê²°ê³¼\\\\\\\":\\\\n                display_llm_eval_results(json_data)\\\\n        else:\\\\n            # í…ìŠ¤íŠ¸ íŒŒì¼ì€ ê·¸ëŒ€ë¡œ í‘œì‹œ\\\\n            st.text(content)\\\\n\\\\n    except Exception as e:\\\\n        st.error(f\\\\\\\"íŒŒì¼ì„ ì½ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: {str(e)}\\\\\\\")\\\\n\\\\n\\\\ndef sort_file_infos(\\\\n    file_infos: list[dict[str, Any]], sort_option: str\\\\n) -> list[dict[str, Any]]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"íŒŒì¼ ì •ë³´ ëª©ë¡ì„ ì •ë ¬í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    if sort_option == \\\\\\\"ìµœì‹ ìˆœ\\\\\\\":\\\\n        file_infos.sort(key=lambda x: x[\\\\\\\"date\\\\\\\"], reverse=True)\\\\n    elif sort_option == \\\\\\\"ì˜¤ë˜ëœìˆœ\\\\\\\":\\\\n        file_infos.sort(key=lambda x: x[\\\\\\\"date\\\\\\\"])\\\\n    return file_infos\\\\n\\\\n\\\\ndef app():\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"Streamlit ì•± ë©”ì¸ í•¨ìˆ˜\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    st.set_page_config(\\\\n        page_title=\\\\\\\"Reviewer - ì½”ë“œ ë¦¬ë·° ê²°ê³¼\\\\\\\",\\\\n        page_icon=\\\\\\\"ğŸ“\\\\\\\",\\\\n        layout=\\\\\\\"wide\\\\\\\",\\\\n        initial_sidebar_state=\\\\\\\"expanded\\\\\\\",\\\\n    )\\\\n\\\\n    st.title(\\\\\\\"ì½”ë“œ ë¦¬ë·° ê²°ê³¼\\\\\\\")\\\\n\\\\n    # ê²°ê³¼ ë””ë ‰í† ë¦¬ í‘œì‹œ\\\\n    review_log_dir = get_default_review_log_dir()\\\\n    st.sidebar.markdown(f\\\\\\\"**ë¦¬ë·° ë¡œê·¸ ì €ì¥ ìœ„ì¹˜**: {review_log_dir}\\\\\\\")\\\\n    st.sidebar.markdown(\\\\n        f\\\\\\\"**llm_eval ê²°ê³¼ ì €ì¥ ìœ„ì¹˜**: {get_default_llm_eval_data_dir()}\\\\\\\"\\\\n    )\\\\n\\\\n    # ê²°ê³¼ ì„ íƒ\\\\n    view_type = st.sidebar.selectbox(\\\\n        \\\\\\\"ë³´ê¸° ìœ í˜•:\\\\\\\",\\\\n        [\\\\n            \\\\\\\"ë¦¬ë·° ê²°ê³¼\\\\\\\",\\\\n            \\\\\\\"llm_eval ê²°ê³¼\\\\\\\",\\\\n        ],\\\\n        index=0,\\\\n    )\\\\n\\\\n    # ë·° íƒ€ì… ì„¸ì…˜ ì €ì¥\\\\n    st.session_state.view_type = view_type\\\\n\\\\n    # íŒŒì¼ ëª©ë¡ ê°€ì ¸ì˜¤ê¸°\\\\n    if view_type == \\\\\\\"ë¦¬ë·° ê²°ê³¼\\\\\\\":\\\\n        files = get_review_log_files()\\\\n        if not files:\\\\n            st.info(\\\\\\\"ì €ì¥ëœ ë¦¬ë·° ë¡œê·¸ê°€ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n            st.markdown(\\\\\\\"\\\\\\\"\\\\\\\"\\\\n            ### ë¦¬ë·° ìƒì„± ë°©ë²•\\\\n            \\\\n            í„°ë¯¸ë„ì—ì„œ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì—¬ ì½”ë“œ ë¦¬ë·°ë¥¼ ìƒì„±í•˜ì„¸ìš”:\\\\n            ```bash\\\\n            reviewer review\\\\n            ```\\\\n            \\\\n            ìì„¸í•œ ì‚¬ìš©ë²•ì€ README.md íŒŒì¼ì„ ì°¸ì¡°í•˜ì„¸ìš”.\\\\n            \\\\\\\"\\\\\\\"\\\\\\\")\\\\n            return\\\\n    else:  # llm_eval ê²°ê³¼\\\\n        files = get_llm_eval_data_files()\\\\n        if not files:\\\\n            st.info(\\\\\\\"ì €ì¥ëœ llm_eval ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n            return\\\\n\\\\n    # íŒŒì¼ ëª©ë¡ ì •ë³´ ìƒì„±\\\\n    file_infos = [get_file_info(f) for f in files]\\\\n\\\\n    # ì‚¬ì´ë“œë°”ì— íŒŒì¼ ëª©ë¡ í‘œì‹œ\\\\n    st.sidebar.markdown(f\\\\\\\"## {view_type} ëª©ë¡\\\\\\\")\\\\n\\\\n    # ì •ë ¬ ì˜µì…˜\\\\n    sort_option = st.sidebar.selectbox(\\\\\\\"ì •ë ¬ ê¸°ì¤€:\\\\\\\", [\\\\\\\"ìµœì‹ ìˆœ\\\\\\\", \\\\\\\"ì˜¤ë˜ëœìˆœ\\\\\\\"], index=0)\\\\n\\\\n    # ì •ë ¬ ì ìš©\\\\n    file_infos = sort_file_infos(file_infos, sort_option)\\\\n\\\\n    # ì„ íƒ ê°€ëŠ¥í•œ íŒŒì¼ ì˜µì…˜ ìƒì„±\\\\n    file_options = {\\\\n        f\\\\\\\"{info['name']} ({info['date'].strftime('%Y-%m-%d %H:%M')}\\\\\\\": info\\\\n        for info in file_infos\\\\n    }\\\\n\\\\n    # íŒŒì¼ ì„ íƒ ìœ„ì ¯\\\\n    selected_file_name = st.sidebar.selectbox(\\\\n        \\\\\\\"íŒŒì¼ ì„ íƒ:\\\\\\\", list(file_options.keys()), index=0\\\\n    )\\\\n\\\\n    # ì„ íƒëœ íŒŒì¼ ì •ë³´ì™€ ë‚´ìš© í‘œì‹œ\\\\n    selected_file_info = file_options[selected_file_name]\\\\n    display_file_info(selected_file_info)\\\\n    load_and_display_file_content(selected_file_info[\\\\\\\"path\\\\\\\"])\\\\n\\\\n\\\\ndef run_app() -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"Streamlit ì•±ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    import os\\\\n    import subprocess\\\\n    import sys\\\\n\\\\n    file_path = os.path.abspath(__file__)\\\\n    port = os.environ.get(\\\\\\\"STREAMLIT_SERVER_PORT\\\\\\\", \\\\\\\"8501\\\\\\\")\\\\n\\\\n    cmd = [\\\\n        sys.executable,\\\\n        \\\\\\\"-m\\\\\\\",\\\\n        \\\\\\\"streamlit\\\\\\\",\\\\n        \\\\\\\"run\\\\\\\",\\\\n        file_path,\\\\n        \\\\\\\"--server.headless\\\\\\\",\\\\n        \\\\\\\"true\\\\\\\",\\\\n        \\\\\\\"--browser.serverAddress\\\\\\\",\\\\n        \\\\\\\"localhost\\\\\\\",\\\\n        \\\\\\\"--server.port\\\\\\\",\\\\n        port,\\\\n    ]\\\\n\\\\n    subprocess.run(cmd)\\\\n\\\\n\\\\n# Streamlit ì•±ìœ¼ë¡œ ì§ì ‘ ì‹¤í–‰ë  ê²½ìš°\\\\nif __name__ == \\\\\\\"__main__\\\\\\\":\\\\n    app()\\\\n\\\", \\\"formatted_hunks\\\": [{\\\"hunk_idx\\\": \\\"1\\\", \\\"before_code\\\": \\\"```python\\\\n        return\\\\n\\\\n    try:\\\\n        review_response = ReviewResponse.model_validate(json_data[\\\\\\\"review_response\\\\\\\"])\\\\n        formatter = ReviewFormatter()\\\\n        html_content = formatter.to_html(review_response)\\\\n        st.html(html_content)\\\\n    except Exception as e:\\\\n        st.error(f\\\\\\\"ë¦¬ë·° ì‘ë‹µ ë°ì´í„° ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ ë°œìƒ: {e}\\\\\\\")\\\\n        st.json(json_data[\\\\\\\"review_response\\\\\\\"], expanded=False)\\\\n\\\\n\\\\n```\\\", \\\"after_code\\\": \\\"```python\\\\n        return\\\\n\\\\n    try:\\\\n        review_response = ReviewResponse.model_validate(json_data[\\\\\\\"review_response\\\\\\\"])\\\\n        formatter = ReviewFormatter()\\\\n        html_content = formatter.to_markdown(review_response)\\\\n        st.markdown(html_content)\\\\n    except Exception as e:\\\\n        st.error(f\\\\\\\"ë¦¬ë·° ì‘ë‹µ ë°ì´í„° ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ ë°œìƒ: {e}\\\\\\\")\\\\n        st.json(json_data[\\\\\\\"review_response\\\\\\\"], expanded=False)\\\\n\\\\n\\\\n```\\\", \\\"after_code_start_line_number\\\": 364, \\\"after_code_line_numbers\\\": [364, 365, 366, 367, 368, 369, 370, 371, 372, 373, 374, 375]}]}\"}, {\"role\": \"user\", \"content\": \"{\\\"file_name\\\": \\\"reviewer/src/utils/review_formatter.py\\\", \\\"file_content\\\": \\\"\\\\\\\"\\\\\\\"\\\\\\\"ReviewFormatter: ë¦¬ë·° ê²°ê³¼ë¥¼ ë‹¤ì–‘í•œ í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ë¡œì§ì„ í¬í•¨í•œ ëª¨ë“ˆ.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n\\\\nimport html\\\\n\\\\nfrom reviewer.src.utils.token.models import ReviewResponse\\\\n\\\\n\\\\nclass ReviewFormatter:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ë¦¬ë·° ê²°ê³¼ë¥¼ ë‹¤ì–‘í•œ í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” í´ë˜ìŠ¤\\\\\\\\n\\\\n    ì´ í´ë˜ìŠ¤ëŠ” ë¦¬ë·° ì‘ë‹µì„ ë§ˆí¬ë‹¤ìš´, HTML ë“± ë‹¤ì–‘í•œ ì¶œë ¥ í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n\\\\n    def format(self, review: ReviewResponse, output_format: str = \\\\\\\"markdown\\\\\\\") -> str:\\\\n        \\\\\\\"\\\\\\\"\\\\\\\"ë¦¬ë·° ê²°ê³¼ë¥¼ ì§€ì •ëœ í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.\\\\n\\\\n        Args:\\\\n            review: ë¦¬ë·° ì‘ë‹µ ê°ì²´\\\\n            output_format: ì¶œë ¥ í˜•ì‹ (markdown, html)\\\\n\\\\n        Returns:\\\\n            str: ë³€í™˜ëœ ë¦¬ë·° ê²°ê³¼\\\\n\\\\n        Raises:\\\\n            ValueError: ì§€ì›í•˜ì§€ ì•ŠëŠ” ì¶œë ¥ í˜•ì‹ì¸ ê²½ìš°\\\\n        \\\\\\\"\\\\\\\"\\\\\\\"\\\\n        if output_format == \\\\\\\"markdown\\\\\\\":\\\\n            return self.to_markdown(review)\\\\n        elif output_format == \\\\\\\"html\\\\\\\":\\\\n            return self.to_html(review)\\\\n        else:\\\\n            raise ValueError(f\\\\\\\"ì§€ì›í•˜ì§€ ì•ŠëŠ” ì¶œë ¥ í˜•ì‹: {output_format}\\\\\\\")\\\\n\\\\n    @staticmethod\\\\n    def to_markdown(review: ReviewResponse) -> str:\\\\n        \\\\\\\"\\\\\\\"\\\\\\\"ë¦¬ë·° ê²°ê³¼ë¥¼ ë§ˆí¬ë‹¤ìš´ í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.\\\\n\\\\n        Args:\\\\n            review: ë¦¬ë·° ì‘ë‹µ ê°ì²´\\\\n\\\\n        Returns:\\\\n            str: ë§ˆí¬ë‹¤ìš´ í˜•ì‹ì˜ ë¦¬ë·° ê²°ê³¼\\\\n        \\\\\\\"\\\\\\\"\\\\\\\"\\\\n        md_lines = [\\\\\\\"# ì½”ë“œ ë¦¬ë·° ê²°ê³¼\\\\\\\\n\\\\\\\"]\\\\n\\\\n        # ìš”ì•½ ë° ì ìˆ˜\\\\n        md_lines.append(\\\\\\\"## ìš”ì•½\\\\\\\\n\\\\\\\")\\\\n        md_lines.append(f\\\\\\\"{review.summary}\\\\\\\\n\\\\\\\")\\\\n\\\\n        if review.score is not None:\\\\n            md_lines.append(f\\\\\\\"**ì ìˆ˜**: {review.score}/10\\\\\\\\n\\\\\\\")\\\\n\\\\n        # ì´ìŠˆ ëª©ë¡\\\\n        if review.issues:\\\\n            md_lines.append(\\\\\\\"## ë°œê²¬ëœ ì´ìŠˆ\\\\\\\\n\\\\\\\")\\\\n\\\\n            for i, issue in enumerate(review.issues, 1):\\\\n                severity_emoji = {\\\\\\\"info\\\\\\\": \\\\\\\"â„¹ï¸\\\\\\\", \\\\\\\"warning\\\\\\\": \\\\\\\"âš ï¸\\\\\\\", \\\\\\\"error\\\\\\\": \\\\\\\"ğŸ›‘\\\\\\\"}.get(\\\\n                    issue.severity, \\\\\\\"â„¹ï¸\\\\\\\"\\\\n                )\\\\n\\\\n                md_lines.append(f\\\\\\\"### {i}. {severity_emoji} {issue.type}\\\\\\\\n\\\\\\\")\\\\n\\\\n                if issue.file:\\\\n                    file_info = f\\\\\\\"**íŒŒì¼**: `{issue.file}`\\\\\\\"\\\\n                    if issue.line_number:\\\\n                        file_info += f\\\\\\\", **ë¼ì¸**: {issue.line_number}\\\\\\\"\\\\n                    md_lines.append(f\\\\\\\"{file_info}\\\\\\\\n\\\\\\\")\\\\n\\\\n                md_lines.append(f\\\\\\\"**ì„¤ëª…**: {issue.description}\\\\\\\\n\\\\\\\")\\\\n\\\\n                if issue.suggestion:\\\\n                    md_lines.append(f\\\\\\\"**ì œì•ˆ**: {issue.suggestion}\\\\\\\\n\\\\\\\")\\\\n\\\\n                # ë¦¬ë·° ëŒ€ìƒ ì½”ë“œ ì¶”ê°€\\\\n                if issue.original_code:\\\\n                    md_lines.append(\\\\n                        \\\\\\\"**ë¦¬ë·° ëŒ€ìƒ ì½”ë“œ**:\\\\\\\\n```\\\\\\\\n\\\\\\\" + issue.original_code + \\\\\\\"\\\\\\\\n```\\\\\\\\n\\\\\\\"\\\\n                    )\\\\n\\\\n                # ê°œì„ ëœ ì½”ë“œ ì¶”ê°€\\\\n                if issue.improved_code:\\\\n                    md_lines.append(\\\\n                        \\\\\\\"**ê°œì„ ëœ ì½”ë“œ**:\\\\\\\\n```\\\\\\\\n\\\\\\\" + issue.improved_code + \\\\\\\"\\\\\\\\n```\\\\\\\\n\\\\\\\"\\\\n                    )\\\\n\\\\n        # ê¶Œì¥ì‚¬í•­\\\\n        if review.recommendations:\\\\n            md_lines.append(\\\\\\\"## ê¶Œì¥ì‚¬í•­\\\\\\\\n\\\\\\\")\\\\n            for i, rec in enumerate(review.recommendations, 1):\\\\n                md_lines.append(f\\\\\\\"{i}. {rec}\\\\\\\\n\\\\\\\")\\\\n\\\\n        return \\\\\\\"\\\\\\\\n\\\\\\\".join(md_lines)\\\\n\\\\n    @staticmethod\\\\n    def to_html(review: ReviewResponse) -> str:\\\\n        \\\\\\\"\\\\\\\"\\\\\\\"ë¦¬ë·° ê²°ê³¼ë¥¼ HTML í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.\\\\n\\\\n        Args:\\\\n            review: ë¦¬ë·° ì‘ë‹µ ê°ì²´\\\\n\\\\n        Returns:\\\\n            str: HTML í˜•ì‹ì˜ ë¦¬ë·° ê²°ê³¼\\\\n        \\\\\\\"\\\\\\\"\\\\\\\"\\\\n        html_lines = [\\\\n            \\\\\\\"<!DOCTYPE html>\\\\\\\",\\\\n            \\\\\\\"<html>\\\\\\\",\\\\n            \\\\\\\"<head>\\\\\\\",\\\\n            \\\\\\\"<meta charset='UTF-8'>\\\\\\\",\\\\n            \\\\\\\"<title>ì½”ë“œ ë¦¬ë·° ê²°ê³¼</title>\\\\\\\",\\\\n            \\\\\\\"<style>\\\\\\\",\\\\n            \\\\\\\"body { font-family: Arial, sans-serif; line-height: 1.6; max-width: 800px; margin: 0 auto; padding: 20px; }\\\\\\\",\\\\n            \\\\\\\"h1 { color: #333; }\\\\\\\",\\\\n            \\\\\\\"h2 { color: #444; border-bottom: 1px solid #eee; padding-bottom: 5px; }\\\\\\\",\\\\n            \\\\\\\"h3 { color: #555; }\\\\\\\",\\\\n            \\\\\\\".issue { padding: 10px; margin-bottom: 15px; }\\\\\\\",\\\\n            \\\\\\\".info {  }\\\\\\\",\\\\n            \\\\\\\".warning {  }\\\\\\\",\\\\n            \\\\\\\".error {  }\\\\\\\",\\\\n            \\\\\\\".file-info { font-family: monospace; background-color: #eee; padding: 3px 5px; border-radius: 3px; }\\\\\\\",\\\\n            \\\\\\\".recommendations { padding: 10px; border-radius: 5px; }\\\\\\\",\\\\n            \\\\\\\"</style>\\\\\\\",\\\\n            \\\\\\\"<style>\\\\\\\",\\\\n            \\\\\\\"pre { background-color: #f5f5f5; padding: 10px; border-radius: 5px; overflow-x: auto; }\\\\\\\",\\\\n            \\\\\\\"code { font-family: 'Courier New', Courier, monospace; }\\\\\\\",\\\\n            \\\\\\\"</style>\\\\\\\",\\\\n            \\\\\\\"</head>\\\\\\\",\\\\n            \\\\\\\"<body>\\\\\\\",\\\\n            \\\\\\\"<h1>ì½”ë“œ ë¦¬ë·° ê²°ê³¼</h1>\\\\\\\",\\\\n        ]\\\\n\\\\n        # ìš”ì•½ ë° ì ìˆ˜\\\\n        html_lines.append(\\\\\\\"<h2>ìš”ì•½</h2>\\\\\\\")\\\\n        html_lines.append(f\\\\\\\"<p>{review.summary}</p>\\\\\\\")\\\\n\\\\n        if review.score is not None:\\\\n            html_lines.append(f\\\\\\\"<p><strong>ì ìˆ˜</strong>: {review.score}/10</p>\\\\\\\")\\\\n\\\\n        # ì´ìŠˆ ëª©ë¡\\\\n        if review.issues:\\\\n            html_lines.append(\\\\\\\"<h2>ë°œê²¬ëœ ì´ìŠˆ</h2>\\\\\\\")\\\\n\\\\n            for i, issue in enumerate(review.issues, 1):\\\\n                severity_emoji = {\\\\\\\"info\\\\\\\": \\\\\\\"â„¹ï¸\\\\\\\", \\\\\\\"warning\\\\\\\": \\\\\\\"âš ï¸\\\\\\\", \\\\\\\"error\\\\\\\": \\\\\\\"ğŸ›‘\\\\\\\"}.get(\\\\n                    issue.severity, \\\\\\\"â„¹ï¸\\\\\\\"\\\\n                )\\\\n\\\\n                html_lines.append(f\\\\\\\"<div class='issue {issue.severity}'>\\\\\\\")\\\\n                html_lines.append(f\\\\\\\"<h3>{i}. {severity_emoji} {issue.type}</h3>\\\\\\\")\\\\n\\\\n                if issue.file:\\\\n                    file_info = f\\\\\\\"<strong>íŒŒì¼</strong>: <span class='file-info'>{issue.file}</span>\\\\\\\"\\\\n                    if issue.line_number:\\\\n                        file_info += f\\\\\\\", <strong>ë¼ì¸</strong>: {issue.line_number}\\\\\\\"\\\\n                    html_lines.append(f\\\\\\\"<p>{file_info}</p>\\\\\\\")\\\\n\\\\n                html_lines.append(f\\\\\\\"<p><strong>ì„¤ëª…</strong>: {issue.description}</p>\\\\\\\")\\\\n\\\\n                if issue.suggestion:\\\\n                    html_lines.append(\\\\n                        f\\\\\\\"<p><strong>ì œì•ˆ</strong>: {issue.suggestion}</p>\\\\\\\"\\\\n                    )\\\\n\\\\n                # ë¦¬ë·° ëŒ€ìƒ ì½”ë“œ ì¶”ê°€\\\\n                if issue.original_code:\\\\n                    html_lines.append(\\\\\\\"<p><strong>ë¦¬ë·° ëŒ€ìƒ ì½”ë“œ</strong>:</p>\\\\\\\")\\\\n                    html_lines.append(\\\\n                        f\\\\\\\"<pre><code>{html.escape(issue.original_code)}</code></pre>\\\\\\\"\\\\n                    )\\\\n\\\\n                # ê°œì„ ëœ ì½”ë“œ ì¶”ê°€\\\\n                if issue.improved_code:\\\\n                    html_lines.append(\\\\\\\"<p><strong>ê°œì„ ëœ ì½”ë“œ</strong>:</p>\\\\\\\")\\\\n                    html_lines.append(\\\\n                        f\\\\\\\"<pre><code>{html.escape(issue.improved_code)}</code></pre>\\\\\\\"\\\\n                    )\\\\n\\\\n                html_lines.append(\\\\\\\"</div>\\\\\\\")\\\\n\\\\n        # ê¶Œì¥ì‚¬í•­\\\\n        if review.recommendations:\\\\n            html_lines.append(\\\\\\\"<h2>ê¶Œì¥ì‚¬í•­</h2>\\\\\\\")\\\\n            html_lines.append(\\\\\\\"<div class='recommendations'>\\\\\\\")\\\\n            html_lines.append(\\\\\\\"<ol>\\\\\\\")\\\\n            for rec in review.recommendations:\\\\n                html_lines.append(f\\\\\\\"<li>{rec}</li>\\\\\\\")\\\\n            html_lines.append(\\\\\\\"</ol>\\\\\\\")\\\\n            html_lines.append(\\\\\\\"</div>\\\\\\\")\\\\n\\\\n        html_lines.extend([\\\\\\\"</body>\\\\\\\", \\\\\\\"</html>\\\\\\\"])\\\\n\\\\n        return \\\\\\\"\\\\\\\\n\\\\\\\".join(html_lines)\\\\n\\\", \\\"formatted_hunks\\\": [{\\\"hunk_idx\\\": \\\"1\\\", \\\"before_code\\\": \\\"```python\\\\n            \\\\\\\"<style>\\\\\\\",\\\\n            \\\\\\\"body { font-family: Arial, sans-serif; line-height: 1.6; max-width: 800px; margin: 0 auto; padding: 20px; }\\\\\\\",\\\\n            \\\\\\\"h1 { color: #333; }\\\\\\\",\\\\n            \\\\\\\"h2 { color: #444; border-bottom: 1px solid #eee; padding-bottom: 5px; }\\\\\\\",\\\\n            \\\\\\\"h3 { color: #555; }\\\\\\\",\\\\n            \\\\\\\".issue { background-color: #f9f9f9; border-left: 4px solid #ddd; padding: 10px; margin-bottom: 15px; }\\\\\\\",\\\\n            \\\\\\\".info { border-left-color: #2196F3; }\\\\\\\",\\\\n            \\\\\\\".warning { border-left-color: #FF9800; }\\\\\\\",\\\\n            \\\\\\\".error { border-left-color: #F44336; }\\\\\\\",\\\\n            \\\\\\\".file-info { font-family: monospace; background-color: #eee; padding: 3px 5px; border-radius: 3px; }\\\\\\\",\\\\n            \\\\\\\".recommendations { background-color: #e8f5e9; padding: 10px; border-radius: 5px; }\\\\\\\",\\\\n            \\\\\\\"</style>\\\\\\\",\\\\n            \\\\\\\"<style>\\\\\\\",\\\\n            \\\\\\\"pre { background-color: #f5f5f5; padding: 10px; border-radius: 5px; overflow-x: auto; }\\\\\\\",\\\\n            \\\\\\\"code { font-family: 'Courier New', Courier, monospace; }\\\\\\\",\\\\n            \\\\\\\"</style>\\\\\\\",\\\\n```\\\", \\\"after_code\\\": \\\"```python\\\\n            \\\\\\\"<style>\\\\\\\",\\\\n            \\\\\\\"body { font-family: Arial, sans-serif; line-height: 1.6; max-width: 800px; margin: 0 auto; padding: 20px; }\\\\\\\",\\\\n            \\\\\\\"h1 { color: #333; }\\\\\\\",\\\\n            \\\\\\\"h2 { color: #444; border-bottom: 1px solid #eee; padding-bottom: 5px; }\\\\\\\",\\\\n            \\\\\\\"h3 { color: #555; }\\\\\\\",\\\\n            \\\\\\\".issue { padding: 10px; margin-bottom: 15px; }\\\\\\\",\\\\n            \\\\\\\".info {  }\\\\\\\",\\\\n            \\\\\\\".warning {  }\\\\\\\",\\\\n            \\\\\\\".error {  }\\\\\\\",\\\\n            \\\\\\\".file-info { font-family: monospace; background-color: #eee; padding: 3px 5px; border-radius: 3px; }\\\\\\\",\\\\n            \\\\\\\".recommendations { padding: 10px; border-radius: 5px; }\\\\\\\",\\\\n            \\\\\\\"</style>\\\\\\\",\\\\n            \\\\\\\"<style>\\\\\\\",\\\\n            \\\\\\\"pre { background-color: #f5f5f5; padding: 10px; border-radius: 5px; overflow-x: auto; }\\\\\\\",\\\\n            \\\\\\\"code { font-family: 'Courier New', Courier, monospace; }\\\\\\\",\\\\n            \\\\\\\"</style>\\\\\\\",\\\\n```\\\", \\\"after_code_start_line_number\\\": 109, \\\"after_code_line_numbers\\\": [109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124]}]}\"}]",
    "actual_output": "{\"issues\": [{\"type\": \"style\", \"line_number\": 114, \"file\": \"reviewer/src/utils/review_formatter.py\", \"description\": \"HTML ì¶œë ¥ ì‹œ ì´ìŠˆ ì‹¬ê°ë„ì— ë”°ë¥¸ ì‹œê°ì  êµ¬ë¶„ì„ ìœ„í•œ CSS ìŠ¤íƒ€ì¼(`.issue`, `.info`, `.warning`, `.error`ì˜ `background-color`, `border-left` ë“±)ì´ ì œê±°ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ë¡œ ì¸í•´ HTML ê²°ê³¼ì—ì„œ ì´ìŠˆì˜ ì‹¬ê°ë„ë¥¼ í•œëˆˆì— íŒŒì•…í•˜ê¸° ì–´ë ¤ì›Œì¡ŒìŠµë‹ˆë‹¤.\", \"suggestion\": \"ì´ìŠˆ ì‹¬ê°ë„ì— ë”°ë¼ ë‹¤ë¥¸ ë°°ê²½ìƒ‰ì´ë‚˜ í…Œë‘ë¦¬ ìƒ‰ìƒì„ ì ìš©í•˜ëŠ” CSS ìŠ¤íƒ€ì¼ì„ ë³µì›í•˜ì—¬ ê°€ë…ì„±ì„ ë†’ì´ëŠ” ê²ƒì„ ê³ ë ¤í•´ ë³´ì„¸ìš”.\", \"severity\": \"info\", \"target_code\": \".issue { padding: 10px; margin-bottom: 15px; }\\n.info {  }\\n.warning {  }\\n.error {  }\", \"suggested_code\": \".issue { background-color: #f9f9f9; border-left: 4px solid #ddd; padding: 10px; margin-bottom: 15px; }\\n.info { border-left-color: #2196F3; }\\n.warning { border-left-color: #FF9800; }\\n.error { border-left-color: #F44336; }\"}], \"summary\": \"Streamlit UIì—ì„œ ë¦¬ë·° ê²°ê³¼ í‘œì‹œ í˜•ì‹ì„ HTMLì—ì„œ ë§ˆí¬ë‹¤ìš´ìœ¼ë¡œ ë³€ê²½í•˜ê³ , ë¦¬ë·° ê²°ê³¼ HTML í˜•ì‹ì—ì„œ ì´ìŠˆ ì‹¬ê°ë„ì— ë”°ë¥¸ ì‹œê°ì  ìŠ¤íƒ€ì¼ì´ ì œê±°ë˜ì—ˆìŠµë‹ˆë‹¤.\", \"score\": 8.0, \"recommendations\": [\"HTML ì¶œë ¥ì„ ì‚¬ìš©í•˜ëŠ” ë‹¤ë¥¸ ë¶€ë¶„ì´ ìˆë‹¤ë©´, í•´ë‹¹ ë¶€ë¶„ì˜ ê°€ë…ì„±ì„ ìœ„í•´ `to_html` ë©”ì„œë“œì˜ ìŠ¤íƒ€ì¼ ë³µì›ì„ ê³ ë ¤í•˜ì‹­ì‹œì˜¤.\", \"Streamlit UIì—ì„œ ë§ˆí¬ë‹¤ìš´ í˜•ì‹ì„ ì‚¬ìš©í•˜ê¸°ë¡œ ê²°ì •í–ˆë‹¤ë©´, `ReviewFormatter` í´ë˜ìŠ¤ì—ì„œ `to_html` ë©”ì„œë“œë¥¼ ì œê±°í•˜ê±°ë‚˜ deprecated ì²˜ë¦¬í•˜ëŠ” ê²ƒì„ ê³ ë ¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ (ë§Œì•½ ë‹¤ë¥¸ ê³³ì—ì„œ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤ë©´).\"]}"
  },
  {
    "input": "[{\"role\": \"system\", \"content\": \"ë‹¹ì‹ ì€ ìˆ™ë ¨ëœ ì½”ë“œ ë¦¬ë·°ì–´ì…ë‹ˆë‹¤. ì œê³µëœ ì…ë ¥(JSON) ë°ì´í„°ë¥¼ ë¶„ì„í•˜ì—¬ ì½”ë“œ í’ˆì§ˆ, ë²„ê·¸, ë³´ì•ˆ ë¬¸ì œ, ì„±ëŠ¥ ì´ìŠˆ ë“± ì£¼ìš” ë¬¸ì œì ì„ ì¢…í•©ì ìœ¼ë¡œ í‰ê°€í•˜ê³ , ê°œì„  ë°©í–¥ì— ëŒ€í•´ ììœ ë¡­ê²Œ ì˜ê²¬ì„ ì œì‹œí•˜ì„¸ìš”.\\n\\nì¤‘ìš” ê·œì¹™\\n  - ëª¨ë“  ì‘ë‹µì€ ë°˜ë“œì‹œ í•œêµ­ì–´ë¡œ ì‘ì„±í•´ì•¼ í•©ë‹ˆë‹¤. ì˜ì–´ë‚˜ ë‹¤ë¥¸ ì–¸ì–´ë¡œ ì‘ë‹µí•˜ì§€ ë§ˆì„¸ìš”.\\n  - ì´ìŠˆ ì„¤ëª…(description) ë° ì œì•ˆ(suggestion)ì˜ ëª…í™•ì„±(Clarity): ë…ìê°€ ì‰½ê²Œ ì´í•´í•  ìˆ˜ ìˆë„ë¡ ê°„ê²°í•˜ê³  ëª…í™•í•œ ì–¸ì–´ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”. \\n  - ì½”ë“œ ì˜ˆì‹œ ì œê³µ: suggestionì´ ì½”ë“œ ë³€ê²½ì„ í¬í•¨í•œë‹¤ë©´, issues ê°ì²´ì˜ suggested_code í•„ë“œë¥¼ ì ê·¹ í™œìš©í•˜ì„¸ìš”. ë§Œì•½ issuesê°€ ì—†ë‹¤ë©´, recommendations í•­ëª©ì—ì„œ ì „ë°˜ì ì¸ ê°œì„  ë°©í–¥ê³¼ í•¨ê»˜ ì°¸ê³ í•  ë§Œí•œ ì½”ë“œ ìŠ¤íƒ€ì¼ ë˜ëŠ” ê°„ë‹¨í•œ ê°œì„  ì½”ë“œ ì˜ˆì‹œë¥¼ ì œì‹œí•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤. (ì˜ˆ: \\\"ê¶Œì¥ ì‚¬í•­: ì „ë°˜ì ìœ¼ë¡œ ë³€ìˆ˜ëª…ì— snake_caseë¥¼ ì¼ê´€ë˜ê²Œ ì‚¬ìš©í•˜ë©´ ê°€ë…ì„±ì´ í–¥ìƒë©ë‹ˆë‹¤. (ì˜ˆ: existingVariable -> existing_variable)\\\")\\n----------------------\\n### ì…ë ¥(JSON) êµ¬ì¡°\\n```json\\n{\\n  \\\"file_name\\\":   string,             // ë³€ê²½ì´ ë°œìƒí•œ íŒŒì¼ ê²½ë¡œ, ì‘ë‹µ JSONì˜ issues ê°ì²´ ë‚´ file í•„ë“œì— ì´ ê°’ì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.\\n  \\\"file_content\\\": string,            // ì‚¬ìš©ìê°€ **ìˆ˜ì • í›„** ì €ì¥í•œ íŒŒì¼ì˜ ì „ì²´ ë‚´ìš©, ë³€ê²½ëœ ì½”ë“œ ì£¼ë³€ì˜ ì „ì²´ì ì¸ ë§¥ë½ì„ íŒŒì•…í•˜ëŠ” ë° ì°¸ê³ ìš©\\n  \\\"formatted_hunks\\\": [ // Git diff ì •ë³´ë¥¼ êµ¬ì¡°í™”í•œ ë°°ì—´\\n    {\\n      \\\"hunk_idx\\\":     string,  // (ë¬´ì‹œ ê°€ëŠ¥) ë‚´ë¶€ ì‹ë³„ì\\n      \\\"after_code_start_line_number\\\":  int,     // after_codeê°€ file_content ë‚´ì—ì„œ ì‹œì‘í•˜ëŠ” ë¼ì¸ ë²ˆí˜¸\\n      \\\"before_code\\\":  string,  // **ìˆ˜ì • ì „** ì½”ë“œ\\n      \\\"after_code\\\":   string   // **ìˆ˜ì • í›„** ì½”ë“œ â€” âŸµ ë¦¬ë·° ëŒ€ìƒ\\n      // ê·¸ ë°–ì˜ í•„ë“œëŠ” ìˆì–´ë„ ë¬´ì‹œí•´ë„ ë©ë‹ˆë‹¤.\\n    },\\n    ...\\n  ]\\n}\\n```\\n\\nê·œì¹™ \\n- ë°˜ë“œì‹œ **after_code ìœ„ì£¼**ë¡œ ë¶„ì„â€§ë¦¬ë·°í•˜ì„¸ìš”. before_codeì™€ file_contentëŠ” ì°¸ê³  ì»¨í…ìŠ¤íŠ¸ë¡œë§Œ í™œìš©í•©ë‹ˆë‹¤.\\n- ë§Œì•½ before_code, file_contentì— ì œì•ˆ ì‚¬í•­ì´ ìˆë‹¤ë©´ recommendationsì— ëª…ì‹œí•´ì£¼ì„¸ìš”.\\n----------------------\\n### ì¶œë ¥(JSON) í˜•ì‹\\nê° ì´ìŠˆëŠ” ë‹¤ìŒ ì •ë³´ë¥¼ í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤:\\n- type: ì´ìŠˆ ìœ í˜• (ë°˜ë“œì‹œ bug, security, performance, style, design ì¤‘ í•˜ë‚˜)\\n- line_number: ë¬¸ì œê°€ ìˆëŠ” ì½”ë“œì˜ ë¼ì¸ ë²ˆí˜¸, file_content ì „ì²´ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í•˜ëŠ” ì ˆëŒ€ì ì¸ ë¼ì¸ ë²ˆí˜¸ (ìˆ«ì, ì•Œ ìˆ˜ ì—†ìœ¼ë©´ null)\\n- file: ë¬¸ì œê°€ ìˆëŠ” íŒŒì¼ ì´ë¦„ (ì •í™•í•œ ê²½ë¡œ, ì„ì˜ ì´ë¦„ ê¸ˆì§€)\\n- description: ì´ìŠˆì— ëŒ€í•œ ìì„¸í•œ ì„¤ëª…\\n- suggestion: ë¬¸ì œ í•´ê²°ì„ ìœ„í•œ êµ¬ì²´ì ì¸ ì œì•ˆ\\n- severity: ì´ìŠˆì˜ ì‹¬ê°ë„ (info, warning, error ì¤‘ í•˜ë‚˜)\\n- target_code    : ë¦¬ë·° ëŒ€ìƒ ì½”ë“œ ìŠ¤ë‹ˆí«(after_code ì¤‘ ë¬¸ì œ ë¶€ë¶„)\\n- suggested_code : ê°œì„  ì œì•ˆì´ ë°˜ì˜ëœ ì½”ë“œ ìŠ¤ë‹ˆí«\\n\\në˜í•œ ë‹¤ìŒ ì •ë³´ë„ ì œê³µí•´ì•¼ í•©ë‹ˆë‹¤:\\n- summary: ì „ì²´ ì½”ë“œ ë³€ê²½ì— ëŒ€í•œ ìš”ì•½\\n- score: ì½”ë“œ í’ˆì§ˆì— ëŒ€í•œ 0-10 ì‚¬ì´ì˜ ì ìˆ˜\\n- recommendations: ì „ë°˜ì ì¸ ê°œì„ ì„ ìœ„í•œ ê¶Œì¥ì‚¬í•­ ëª©ë¡ (í•„ìš”ì‹œ ì½”ë“œ ì˜ˆì‹œ í¬í•¨)\\n\\n---------------------\\n### ì¶œë ¥(JSON) ì˜ˆì‹œ\\n\\n```json\\n{\\n  \\\"issues\\\": [\\n    {\\n      \\\"type\\\": \\\"ë²„ê·¸\\\",\\n      \\\"line_number\\\": 42,\\n      \\\"file\\\": \\\"src/app.py\\\",\\n      \\\"description\\\": \\\"NullPointerException ê°€ëŠ¥ì„±ì´ ìˆìŠµë‹ˆë‹¤.\\\",\\n      \\\"suggestion\\\": \\\"ë³€ìˆ˜ê°€ nullì¸ì§€ í™•ì¸ í›„ ì‚¬ìš©í•˜ì„¸ìš”.\\\",\\n      \\\"severity\\\": \\\"error\\\",\\n      \\\"target_code\\\": \\\"if (user.isActive) { ... }\\\",\\n      \\\"suggested_code\\\": \\\"if (user != null && user.isActive) { ... }\\\"\\n    }\\n  ],\\n  \\\"summary\\\": \\\"ë¡œê·¸ì¸ ë¡œì§ ê°œì„  ë° ì˜ˆì™¸ ì²˜ë¦¬ ê°•í™” í•„ìš”.\\\",\\n  \\\"score\\\": 7,\\n  \\\"recommendations\\\": [\\\"ëª¨ë“  ì…ë ¥ê°’ì— ëŒ€í•œ null ì²´í¬ ê°•í™”\\\", \\\"í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì¶”ê°€\\\"]\\n}\\n```\\n---------------------\\n## ê·œì¹™\\n1. ì´ìŠˆ ì„¤ëª…ê³¼ ì œì•ˆì€ êµ¬ì²´ì ì´ê³  ëª…í™•í•˜ê²Œ ì‘ì„±í•˜ì„¸ìš”. ëª¨í˜¸í•œ í‘œí˜„ì´ë‚˜ ì¼ë°˜ì ì¸ ì¡°ì–¸ì€ í”¼í•˜ê³ , ì½”ë“œì˜ íŠ¹ì • ë¶€ë¶„(target_code)ì„ ì–¸ê¸‰í•˜ë©° ì‹¤ì§ˆì ì¸ ê°œì„  ë°©ì•ˆ(suggested_code)ì„ ì œì‹œí•˜ì„¸ìš”.\\n2. JSON ì™¸ ë‹¤ë¥¸ í˜•ì‹ì˜ ì¶œë ¥(í…ìŠ¤íŠ¸, ë§ˆí¬ë‹¤ìš´ ë“±)ì„ ì ˆëŒ€ í¬í•¨í•˜ì§€ ë§ˆì„¸ìš”.\\n3. target_codeì™€ suggested_code ê°’ì—ëŠ” ìˆœìˆ˜í•œ ì½”ë“œ ë¬¸ìì—´ë§Œ í¬í•¨í•©ë‹ˆë‹¤. ì½”ë“œ ìŠ¤ë‹ˆí« ì‹œì‘ê³¼ ëì— ë¶ˆí•„ìš”í•œ ë¹ˆ ì¤„ì„ ë„£ì§€ ë§ê³ , ë°±í‹±(```)ì´ë‚˜ ê¸°íƒ€ ë§ˆí¬ë‹¤ìš´ìœ¼ë¡œ ê°ì‹¸ì§€ ë§ˆì„¸ìš”.\\n4. íŠ¹ë³„íˆ ì§€ì í•  ì´ìŠˆê°€ ì—†ë‹¤ë©´ \\\"issues\\\": [] ë¡œ ë¹„ì›Œ ë‘ê³ , summary ì— â€œì½”ë“œ ë³€ê²½ ì‚¬í•­ì—ì„œ íŠ¹ë³„í•œ ì´ìŠˆë¥¼ ë°œê²¬í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.â€ì™€ ê°™ì´ ëª…ì‹œí•˜ì„¸ìš”.\\n5. ë¦¬ë·° ëŒ€ìƒì€ after_code ì…ë‹ˆë‹¤. before_codeì™€ file_contentëŠ” ì°¸ê³ ìš©ì…ë‹ˆë‹¤.\\n6. íŒŒì¼ëª…(file)ì€ ì£¼ì–´ì§„ ê°’ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ì„¸ìš”.\\n7.  `issues[].line_number` ê²°ì • ë°©ë²•:\\n    a.  `issues[].line_number`ëŠ” `target_code` (ë¦¬ë·° ëŒ€ìƒ ì½”ë“œ ìŠ¤ë‹ˆí«)ê°€ `file_content` ì „ì²´ì—ì„œ ì‹œì‘í•˜ëŠ” **ì ˆëŒ€ì ì¸ 1-based ë¼ì¸ ë²ˆí˜¸**ì—¬ì•¼ í•©ë‹ˆë‹¤.\\n    b.  ì´ ê°’ì„ ê²°ì •í•˜ê¸° ìœ„í•´ `target_code`ê°€ ì†í•œ `hunk`ì˜ ë‹¤ìŒ ì •ë³´ë“¤ì„ ì‚¬ìš©í•©ë‹ˆë‹¤:\\n        i.  `formatted_hunks[].after_code`: ìˆ˜ì • í›„ ì½”ë“œ ë¸”ë¡ ë¬¸ìì—´ì…ë‹ˆë‹¤.\\n        ii. `formatted_hunks[].after_code_line_numbers`: `after_code`ì˜ ê° ë¼ì¸ì— í•´ë‹¹í•˜ëŠ” `file_content` ê¸°ì¤€ ì ˆëŒ€ 1-based ë¼ì¸ ë²ˆí˜¸ë“¤ì´ ìˆœì„œëŒ€ë¡œ ë‹´ê¸´ ë¦¬ìŠ¤íŠ¸ì…ë‹ˆë‹¤. ì´ ë¦¬ìŠ¤íŠ¸ì˜ ê¸¸ì´ëŠ” `after_code`ì˜ ì´ ë¼ì¸ ìˆ˜ì™€ ì •í™•íˆ ì¼ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤.\\n        iii. `target_code`: ë¦¬ë·° ëŒ€ìƒ ì½”ë“œ ìŠ¤ë‹ˆí«ìœ¼ë¡œ, `after_code`ì˜ ì¼ë¶€ì—¬ì•¼ í•©ë‹ˆë‹¤.\\n    c.  **ê³„ì‚° ë‹¨ê³„:**\\n        1.  **`target_code`ì˜ ìƒëŒ€ ì‹œì‘ ìœ„ì¹˜ íŒŒì•…:** `target_code`ì˜ ì²« ë²ˆì§¸ ë¼ì¸ì´ `after_code` ë‚´ì—ì„œ ëª‡ ë²ˆì§¸ ë¼ì¸(1-based)ì—ì„œ ì‹œì‘í•˜ëŠ”ì§€ ì •í™•íˆ íŒŒì•…í•©ë‹ˆë‹¤. ì´ë¥¼ \\\"ìƒëŒ€ ì‹œì‘ ë¼ì¸ ë²ˆí˜¸\\\"ë¼ê³  í•©ë‹ˆë‹¤. (ì˜ˆ: `target_code`ì˜ ì²« ì¤„ì´ `after_code`ì˜ 3ë²ˆì§¸ ì¤„ê³¼ ë‚´ìš©ì´ ê°™ë‹¤ë©´, \\\"ìƒëŒ€ ì‹œì‘ ë¼ì¸ ë²ˆí˜¸\\\"ëŠ” `3`ì…ë‹ˆë‹¤.)\\n        2.  **ì ˆëŒ€ ë¼ì¸ ë²ˆí˜¸ ì¡°íšŒ:** íŒŒì•…ëœ \\\"ìƒëŒ€ ì‹œì‘ ë¼ì¸ ë²ˆí˜¸\\\"ë¥¼ ì‚¬ìš©í•˜ì—¬ `after_code_line_numbers` ë¦¬ìŠ¤íŠ¸ì—ì„œ í•´ë‹¹ ìœ„ì¹˜ì˜ ê°’ì„ ê°€ì ¸ì˜µë‹ˆë‹¤. ë¦¬ìŠ¤íŠ¸ëŠ” 0-based ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë¯€ë¡œ, `issues[].line_number = after_code_line_numbers[ (ìƒëŒ€ ì‹œì‘ ë¼ì¸ ë²ˆí˜¸) - 1 ]` ê³µì‹ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.\\n    d.  **ì˜ˆì‹œ:**\\n        `after_code`ê°€ 3ì¤„ì´ê³ , `after_code_line_numbers`ê°€ `[50, 51, 52]`ë¼ê³  ê°€ì •í•©ë‹ˆë‹¤.\\n        ë§Œì•½ `target_code`ì˜ ì²« ë²ˆì§¸ ë¼ì¸ì´ `after_code`ì˜ `2`ë²ˆì§¸ ë¼ì¸ ë‚´ìš©ê³¼ ì¼ì¹˜í•œë‹¤ë©´, \\\"ìƒëŒ€ ì‹œì‘ ë¼ì¸ ë²ˆí˜¸\\\"ëŠ” `2`ì…ë‹ˆë‹¤.\\n        ë”°ë¼ì„œ, `issues[].line_number = after_code_line_numbers[2 - 1] = after_code_line_numbers[1]` ì´ë¯€ë¡œ, `issues[].line_number`ëŠ” `51`ì´ ë©ë‹ˆë‹¤.\\n    e.  `target_code`ê°€ ì—¬ëŸ¬ ë¼ì¸ì— ê±¸ì³ ìˆëŠ” ê²½ìš°, `target_code`ì˜ **ì²« ë²ˆì§¸ ë¼ì¸**ì„ ê¸°ì¤€ìœ¼ë¡œ `issues[].line_number`ë¥¼ ê²°ì •í•©ë‹ˆë‹¤.\\n    f.  ë§Œì•½ `target_code`ë¥¼ `after_code` ë‚´ì—ì„œ ì°¾ì„ ìˆ˜ ì—†ê±°ë‚˜, \\\"ìƒëŒ€ ì‹œì‘ ë¼ì¸ ë²ˆí˜¸\\\"ë¥¼ ì •í™•íˆ íŠ¹ì •í•  ìˆ˜ ì—†ëŠ” ê²½ìš°, `issues[].line_number`ëŠ” `null`ë¡œ ì„¤ì •í•˜ê³ , í•„ìš”í•œ ê²½ìš° `description`ì— í•´ë‹¹ ìƒí™©ì„ ê°„ëµíˆ ì–¸ê¸‰í•©ë‹ˆë‹¤.\\n    g.  (ê¸°ì¡´ì˜ íŒŒì¼ ì „ì²´ì— ëŒ€í•œ ì´ìŠˆ ì²˜ë¦¬ ì‹œ `null` ì‚¬ìš© ë“± ê´€ë ¨ ê·œì¹™ ìœ ì§€)\\n8. íŠ¹ì • ì½”ë“œ ë¼ì¸ì„ ì‚­ì œí•˜ê±°ë‚˜ íŒŒì¼ì„ ì‚­ì œí•´ì•¼ í•˜ëŠ” ê²½ìš°, suggested_code ìµœìƒë‹¨ì— \\\"ì½”ë“œ ë¼ì¸ ì œê±°\\\" ë˜ëŠ” \\\"íŒŒì¼ ì œê±°\\\" ë¼ëŠ” ë¬¸êµ¬ë¥¼ ëª…ì‹œí•˜ê³ , ê·¸ ì•„ë˜ì— ì œê±° ëŒ€ìƒ ì½”ë“œë¥¼ ì£¼ì„ ì²˜ë¦¬í•˜ì—¬ ì œê³µí•˜ì„¸ìš”.\\n   ì˜ˆë¥¼ ë“¤ì–´, Python ì½”ë“œ ì‚­ì œ ì‹œ # ì½”ë“œ ë¼ì¸ ì œê±°\\\\n# print(\\\"ì‚­ì œë  ì½”ë“œ\\\") ì™€ ê°™ì´ í‘œí˜„í•©ë‹ˆë‹¤. ë§Œì•½ ì—¬ëŸ¬ ë¼ì¸ì´ë¼ë©´ ê° ë¼ì¸ì„ ì£¼ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.\"}, {\"role\": \"user\", \"content\": \"{\\\"file_name\\\": \\\"reviewer/src/ui.py\\\", \\\"file_content\\\": \\\"\\\\\\\"\\\\\\\"\\\\\\\"\\\\në¦¬ë·° ê²°ê³¼ë¥¼ ë³´ì—¬ì£¼ëŠ” Streamlit ì›¹ ì¸í„°í˜ì´ìŠ¤ ëª¨ë“ˆ\\\\n\\\\nì´ ëª¨ë“ˆì€ ì €ì¥ëœ ë¦¬ë·° ê²°ê³¼ë¥¼ Streamlitì„ ì‚¬ìš©í•˜ì—¬ ì›¹ ë¸Œë¼ìš°ì €ì— í‘œì‹œí•©ë‹ˆë‹¤.\\\\n\\\\\\\"\\\\\\\"\\\\\\\"\\\\n\\\\nimport copy\\\\nimport json\\\\nimport logging\\\\nimport os\\\\nimport sys\\\\nfrom datetime import datetime\\\\nfrom pathlib import Path\\\\nfrom typing import Any, Optional\\\\n\\\\nimport streamlit as st\\\\n\\\\nfrom reviewer.src.utils.token.models import ReviewResponse\\\\n\\\\n# ë¡œê±° ì„¤ì •\\\\nlogger = logging.getLogger(__name__)\\\\n\\\\n# ìƒëŒ€ ê²½ë¡œ ì„í¬íŠ¸ë¥¼ ìœ„í•œ ê²½ë¡œ ì„¤ì •\\\\nsys.path.append(os.path.abspath(os.path.join(os.path.dirname(__file__), \\\\\\\"..\\\\\\\")))\\\\nfrom reviewer.src.config import get_default_results_dir, get_default_review_log_dir\\\\nfrom reviewer.src.utils.review_formatter import ReviewFormatter\\\\n\\\\n\\\\ndef get_default_llm_eval_data_dir() -> Path:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"llm_eval ë°ì´í„°ê°€ ì €ì¥ëœ data ë””ë ‰í† ë¦¬ ê²½ë¡œë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    project_root = Path(__file__).resolve().parent.parent.parent\\\\n    return project_root / \\\\\\\"llm_eval\\\\\\\" / \\\\\\\"results\\\\\\\"\\\\n\\\\n\\\\ndef get_llm_eval_data_files() -> list[Path]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"llm_eval ë°ì´í„° ë””ë ‰í† ë¦¬ì—ì„œ ëª¨ë“  íŒŒì¼ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    llm_eval_data_dir = get_default_llm_eval_data_dir()\\\\n    if not llm_eval_data_dir.exists():\\\\n        return []\\\\n\\\\n    llm_eval_files = list(llm_eval_data_dir.glob(\\\\\\\"*\\\\\\\"))\\\\n    llm_eval_files.sort(key=lambda f: f.stat().st_mtime, reverse=True)\\\\n    return llm_eval_files\\\\n\\\\n\\\\ndef get_review_log_files() -> list[Path]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ë¦¬ë·° ë¡œê·¸ ë””ë ‰í† ë¦¬ì—ì„œ ëª¨ë“  ë¦¬ë·° ë¡œê·¸ íŒŒì¼ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    log_dir = get_default_review_log_dir()\\\\n    if not log_dir.exists():\\\\n        return []\\\\n\\\\n    log_files = list(log_dir.glob(\\\\\\\"*.json\\\\\\\"))\\\\n    log_files.sort(key=lambda f: f.stat().st_mtime, reverse=True)\\\\n    return log_files\\\\n\\\\n\\\\ndef parse_date_from_filename(filename: str) -> Optional[datetime]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"íŒŒì¼ëª…ì—ì„œ ë‚ ì§œ ì •ë³´ë¥¼ ì¶”ì¶œí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    parts = filename.split(\\\\\\\"_\\\\\\\")\\\\n\\\\n    # YYYYMMDD_HHMMSS í˜•ì‹ ê²€ìƒ‰\\\\n    if len(parts) >= 2:\\\\n        # ì ‘ë‘ì‚¬ì— ë‚ ì§œê°€ ìˆëŠ” ê²½ìš°: YYYYMMDD_HHMMSS_...\\\\n        if (\\\\n            parts[0].isdigit()\\\\n            and len(parts[0]) == 8\\\\n            and parts[1].isdigit()\\\\n            and len(parts[1]) == 6\\\\n        ):\\\\n            try:\\\\n                return datetime.strptime(f\\\\\\\"{parts[0]}_{parts[1]}\\\\\\\", \\\\\\\"%Y%m%d_%H%M%S\\\\\\\")\\\\n            except ValueError:\\\\n                pass\\\\n\\\\n        # ì ‘ë¯¸ì‚¬ì— ë‚ ì§œê°€ ìˆëŠ” ê²½ìš°: ..._YYYYMMDD_HHMMSS\\\\n        if (\\\\n            parts[-2].isdigit()\\\\n            and len(parts[-2]) == 8\\\\n            and parts[-1].isdigit()\\\\n            and len(parts[-1]) == 6\\\\n        ):\\\\n            try:\\\\n                return datetime.strptime(f\\\\\\\"{parts[-2]}_{parts[-1]}\\\\\\\", \\\\\\\"%Y%m%d_%H%M%S\\\\\\\")\\\\n            except ValueError:\\\\n                pass\\\\n\\\\n        # ì¤‘ê°„ì— ë‚ ì§œê°€ ìˆëŠ” ê²½ìš°\\\\n        for i in range(len(parts) - 1):\\\\n            if (\\\\n                parts[i].isdigit()\\\\n                and len(parts[i]) == 8\\\\n                and parts[i + 1].isdigit()\\\\n                and len(parts[i + 1]) == 6\\\\n            ):\\\\n                try:\\\\n                    return datetime.strptime(\\\\n                        f\\\\\\\"{parts[i]}_{parts[i + 1]}\\\\\\\", \\\\\\\"%Y%m%d_%H%M%S\\\\\\\"\\\\n                    )\\\\n                except ValueError:\\\\n                    pass\\\\n\\\\n    return None\\\\n\\\\n\\\\ndef extract_model_name_from_filename(filename: str, date_parts_count: int = 0) -> str:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"íŒŒì¼ëª…ì—ì„œ ëª¨ë¸ ì´ë¦„ì„ ì¶”ì¶œí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    parts = filename.split(\\\\\\\"_\\\\\\\")\\\\n\\\\n    if date_parts_count == 2 and len(parts) > 2:\\\\n        # ë‚ ì§œ ë¶€ë¶„ ì œì™¸í•œ ë‚˜ë¨¸ì§€ë¥¼ ëª¨ë¸ëª…ìœ¼ë¡œ ê°„ì£¼\\\\n        return \\\\\\\"_\\\\\\\".join(parts[2:])\\\\n    elif len(parts) > 0 and not parts[-1].isdigit():\\\\n        # ë§ˆì§€ë§‰ ë¶€ë¶„ì´ ìˆ«ìê°€ ì•„ë‹ˆë©´ ëª¨ë¸ëª…ìœ¼ë¡œ ê°„ì£¼\\\\n        return parts[-1]\\\\n\\\\n    return \\\\\\\"\\\\\\\"\\\\n\\\\n\\\\ndef determine_file_format(file_path: Path) -> str:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"íŒŒì¼ì˜ í˜•ì‹ì„ ê²°ì •í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    file_suffix = file_path.suffix.lstrip(\\\\\\\".\\\\\\\").lower()\\\\n\\\\n    if not file_suffix:\\\\n        # í™•ì¥ì ì—†ëŠ” íŒŒì¼ ì²˜ë¦¬\\\\n        try:\\\\n            # llm_eval ë””ë ‰í† ë¦¬ ë‚´ íŒŒì¼ì¸ì§€ í™•ì¸\\\\n            llm_eval_dir = get_default_llm_eval_data_dir().resolve()\\\\n            file_parent = file_path.parent.resolve()\\\\n\\\\n            is_in_llm_eval_dir = str(file_parent).startswith(str(llm_eval_dir))\\\\n\\\\n            # íŒŒì¼ëª…ì— ë‚ ì§œ í˜•ì‹ì´ ìˆëŠ”ì§€ í™•ì¸\\\\n            parts = file_path.stem.split(\\\\\\\"_\\\\\\\")\\\\n            has_date_format = (\\\\n                len(parts) >= 2\\\\n                and parts[0].isdigit()\\\\n                and len(parts[0]) == 8\\\\n                and parts[1].isdigit()\\\\n                and len(parts[1]) == 6\\\\n            )\\\\n\\\\n            if is_in_llm_eval_dir or has_date_format:\\\\n                return \\\\\\\"json\\\\\\\"\\\\n            return \\\\\\\"txt\\\\\\\"\\\\n        except Exception:\\\\n            return \\\\\\\"txt\\\\\\\"\\\\n\\\\n    return file_suffix if file_suffix in [\\\\\\\"json\\\\\\\", \\\\\\\"log\\\\\\\", \\\\\\\"html\\\\\\\", \\\\\\\"txt\\\\\\\"] else \\\\\\\"txt\\\\\\\"\\\\n\\\\n\\\\ndef get_file_info(file: Path) -> dict[str, Any]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"íŒŒì¼ ì •ë³´ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    mtime = datetime.fromtimestamp(file.stat().st_mtime)\\\\n    size = file.stat().st_size\\\\n    size_str = f\\\\\\\"{size / 1024:.1f}KB\\\\\\\" if size >= 1024 else f\\\\\\\"{size}B\\\\\\\"\\\\n\\\\n    # ë‚ ì§œ ì¶”ì¶œ\\\\n    date_candidate = parse_date_from_filename(file.stem)\\\\n    if date_candidate is None:\\\\n        date_candidate = mtime\\\\n        date_parts_count = 0\\\\n    else:\\\\n        date_parts_count = 2\\\\n\\\\n    # ëª¨ë¸ëª… ì¶”ì¶œ\\\\n    model_name_candidate = extract_model_name_from_filename(file.stem, date_parts_count)\\\\n\\\\n    # íŒŒì¼ í˜•ì‹ ê²°ì •\\\\n    file_format = determine_file_format(file)\\\\n\\\\n    return {\\\\n        \\\\\\\"path\\\\\\\": file,\\\\n        \\\\\\\"name\\\\\\\": file.name,\\\\n        \\\\\\\"model\\\\\\\": model_name_candidate,\\\\n        \\\\\\\"date\\\\\\\": date_candidate,\\\\n        \\\\\\\"mtime\\\\\\\": mtime,\\\\n        \\\\\\\"size\\\\\\\": size,\\\\n        \\\\\\\"size_str\\\\\\\": size_str,\\\\n        \\\\\\\"format\\\\\\\": file_format,\\\\n    }\\\\n\\\\n\\\\ndef display_file_info(file_info: dict[str, Any]) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"íŒŒì¼ ì •ë³´ë¥¼ í™”ë©´ì— í‘œì‹œí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    col1, col2, col3 = st.columns(3)\\\\n    with col1:\\\\n        st.markdown(f\\\\\\\"**íŒŒì¼ëª…**: {file_info['name']}\\\\\\\")\\\\n    with col2:\\\\n        st.markdown(f\\\\\\\"**ë‚ ì§œ**: {file_info['date'].strftime('%Y-%m-%d %H:%M')}\\\\\\\")\\\\n    with col3:\\\\n        st.markdown(f\\\\\\\"**í¬ê¸°**: {file_info['size_str']}\\\\\\\")\\\\n\\\\n\\\\ndef parse_json_content(content: str) -> dict[str, Any]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"JSON ë¬¸ìì—´ì„ íŒŒì‹±í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    try:\\\\n        return json.loads(content)\\\\n    except json.JSONDecodeError:\\\\n        return {}\\\\n\\\\n\\\\ndef parse_prompt_content(prompt_list: list) -> list:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"í”„ë¡¬í”„íŠ¸ ë°ì´í„°ì˜ content í•„ë“œë¥¼ íŒŒì‹±í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    if not isinstance(prompt_list, list):\\\\n        return prompt_list\\\\n\\\\n    parsed_list = []\\\\n    for item in prompt_list:\\\\n        item_copy = copy.deepcopy(item)\\\\n        if (\\\\n            isinstance(item_copy, dict)\\\\n            and \\\\\\\"content\\\\\\\" in item_copy\\\\n            and isinstance(item_copy[\\\\\\\"content\\\\\\\"], str)\\\\n        ):\\\\n            try:\\\\n                item_copy[\\\\\\\"content\\\\\\\"] = json.loads(item_copy[\\\\\\\"content\\\\\\\"])\\\\n            except json.JSONDecodeError:\\\\n                pass\\\\n        parsed_list.append(item_copy)\\\\n\\\\n    return parsed_list\\\\n\\\\n\\\\ndef display_json_field_in_expander(key: str, value: Any) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"JSON í•„ë“œë¥¼ ì ‘ì„ ìˆ˜ ìˆëŠ” expanderë¡œ í‘œì‹œí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    if not value:  # Noneì´ê±°ë‚˜ ë¹ˆ ê°’\\\\n        with st.expander(f\\\\\\\"{key} ë‚´ìš© ë³´ê¸°\\\\\\\", expanded=False):\\\\n            st.write(\\\\\\\"ë‚´ìš© ì—†ìŒ\\\\\\\")\\\\n        return\\\\n\\\\n    with st.expander(f\\\\\\\"{key} ë‚´ìš© ë³´ê¸°\\\\\\\", expanded=False):\\\\n        if key == \\\\\\\"prompt\\\\\\\" and isinstance(value, list):\\\\n            parsed_value = parse_prompt_content(value)\\\\n            st.json(parsed_value, expanded=True)\\\\n        else:\\\\n            st.json(value, expanded=True)\\\\n\\\\n\\\\ndef display_review_result_raw_json(json_data: dict[str, Any]) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ë¦¬ë·° ê²°ê³¼ì˜ ì›ë³¸ JSONì„ í‘œì‹œí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    st.markdown(\\\\\\\"## ì›ë³¸ JSON ë°ì´í„°\\\\\\\")\\\\n    data_to_display = copy.deepcopy(json_data)\\\\n\\\\n    # ì£¼ìš” í•„ë“œë¥¼ expanderë¡œ í‘œì‹œ\\\\n    target_keys = [\\\\\\\"prompt\\\\\\\", \\\\\\\"review_request\\\\\\\", \\\\\\\"review_response\\\\\\\"]\\\\n    for key in target_keys:\\\\n        if key in data_to_display:\\\\n            display_json_field_in_expander(key, data_to_display.pop(key))\\\\n\\\\n    # ë‚˜ë¨¸ì§€ ë°ì´í„° í‘œì‹œ\\\\n    if data_to_display:\\\\n        st.markdown(\\\\\\\"---\\\\\\\")\\\\n        st.markdown(\\\\\\\"### ì›ë³¸ ë°ì´í„°\\\\\\\")\\\\n        st.json(json_data, expanded=False)\\\\n\\\\n\\\\ndef filter_failed_test_cases(test_cases: list) -> tuple[list, int]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ì‹¤íŒ¨í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë§Œ í•„í„°ë§í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    if not isinstance(test_cases, list):\\\\n        return [], 0\\\\n\\\\n    filtered_cases = []\\\\n\\\\n    for tc in test_cases:\\\\n        if not isinstance(tc, dict) or tc.get(\\\\\\\"success\\\\\\\") is not False:\\\\n            continue\\\\n\\\\n        tc_copy = copy.deepcopy(tc)\\\\n\\\\n        # metricsData ë‚´ë¶€ì—ì„œ ì‹¤íŒ¨í•œ í•­ëª©ë§Œ í•„í„°ë§\\\\n        if \\\\\\\"metricsData\\\\\\\" in tc_copy and isinstance(tc_copy[\\\\\\\"metricsData\\\\\\\"], list):\\\\n            filtered_metrics = [\\\\n                m\\\\n                for m in tc_copy[\\\\\\\"metricsData\\\\\\\"]\\\\n                if isinstance(m, dict) and m.get(\\\\\\\"success\\\\\\\") is False\\\\n            ]\\\\n            tc_copy[\\\\\\\"metricsData\\\\\\\"] = filtered_metrics or []\\\\n\\\\n        filtered_cases.append(tc_copy)\\\\n\\\\n    return filtered_cases, len(filtered_cases)\\\\n\\\\n\\\\ndef parse_test_case_inputs(test_cases: list) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì˜ ì…ë ¥ í•„ë“œë¥¼ íŒŒì‹±í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    if not isinstance(test_cases, list):\\\\n        return\\\\n\\\\n    for test_case in test_cases:\\\\n        if not isinstance(test_case, dict):\\\\n            continue\\\\n\\\\n        # input í•„ë“œ ì²˜ë¦¬\\\\n        if \\\\\\\"input\\\\\\\" in test_case and isinstance(test_case[\\\\\\\"input\\\\\\\"], str):\\\\n            try:\\\\n                parsed_input = json.loads(test_case[\\\\\\\"input\\\\\\\"])\\\\n                if isinstance(parsed_input, list):\\\\n                    parsed_input = parse_prompt_content(parsed_input)\\\\n                test_case[\\\\\\\"input\\\\\\\"] = parsed_input\\\\n            except json.JSONDecodeError:\\\\n                pass\\\\n\\\\n        # actualOutput í•„ë“œ ì²˜ë¦¬\\\\n        if \\\\\\\"actualOutput\\\\\\\" in test_case and isinstance(test_case[\\\\\\\"actualOutput\\\\\\\"], str):\\\\n            try:\\\\n                test_case[\\\\\\\"actualOutput\\\\\\\"] = json.loads(test_case[\\\\\\\"actualOutput\\\\\\\"])\\\\n            except json.JSONDecodeError:\\\\n                pass\\\\n\\\\n\\\\ndef display_llm_eval_results(json_data: dict[str, Any]) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"llm_eval ê²°ê³¼ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    st.markdown(\\\\\\\"## llm_eval ê²°ê³¼ ë‚´ìš©\\\\\\\")\\\\n\\\\n    # ë°ì´í„° ë³µì‚¬\\\\n    display_data = copy.deepcopy(json_data)\\\\n\\\\n    # í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ìˆ˜ ê³„ì‚°\\\\n    test_cases = (\\\\n        display_data.get(\\\\\\\"testCases\\\\\\\", []) if isinstance(display_data, dict) else []\\\\n    )\\\\n    num_total_cases = len(test_cases) if isinstance(test_cases, list) else 0\\\\n\\\\n    # í•„í„°ë§ ì»¨íŠ¸ë¡¤\\\\n    col_checkbox, col_count = st.columns([0.8, 0.2])\\\\n    with col_checkbox:\\\\n        filter_failed_tests = st.checkbox(\\\\n            \\\\\\\"ì‹¤íŒ¨í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë§Œ ë³´ê¸° (success=false)\\\\\\\",\\\\n            key=\\\\\\\"llm_eval_filter_checkbox\\\\\\\",\\\\n        )\\\\n\\\\n    # í•„í„°ë§ ì ìš©\\\\n    num_displayed_cases = num_total_cases\\\\n    if (\\\\n        filter_failed_tests\\\\n        and isinstance(display_data, dict)\\\\n        and \\\\\\\"testCases\\\\\\\" in display_data\\\\n    ):\\\\n        filtered_cases, num_displayed_cases = filter_failed_test_cases(\\\\n            display_data[\\\\\\\"testCases\\\\\\\"]\\\\n        )\\\\n        display_data[\\\\\\\"testCases\\\\\\\"] = filtered_cases\\\\n        count_caption_text = (\\\\n            f\\\\\\\"(í‘œì‹œ: {num_displayed_cases} / ì´: {num_total_cases}ê±´, ì‹¤íŒ¨ë§Œ)\\\\\\\"\\\\n        )\\\\n    else:\\\\n        count_caption_text = f\\\\\\\"(ì´ {num_total_cases}ê±´)\\\\\\\"\\\\n\\\\n    with col_count:\\\\n        st.caption(count_caption_text)\\\\n\\\\n    # ì…ë ¥ í•„ë“œ íŒŒì‹±\\\\n    if isinstance(display_data, dict) and \\\\\\\"testCases\\\\\\\" in display_data:\\\\n        parse_test_case_inputs(display_data[\\\\\\\"testCases\\\\\\\"])\\\\n\\\\n    # ê²°ê³¼ í‘œì‹œ\\\\n    st.json(display_data, expanded=False)\\\\n\\\\n\\\\ndef display_review_result(json_data: dict[str, Any]) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ë¦¬ë·° ê²°ê³¼ë¥¼ HTMLë¡œ í‘œì‹œí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    if \\\\\\\"review_response\\\\\\\" not in json_data or not json_data[\\\\\\\"review_response\\\\\\\"]:\\\\n        st.warning(\\\\\\\"ë¦¬ë·° ì‘ë‹µ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n        return\\\\n\\\\n    try:\\\\n        review_response = ReviewResponse.model_validate(json_data[\\\\\\\"review_response\\\\\\\"])\\\\n        formatter = ReviewFormatter()\\\\n        html_content = formatter.to_html(review_response)\\\\n        st.html(html_content)\\\\n    except Exception as e:\\\\n        st.error(f\\\\\\\"ë¦¬ë·° ì‘ë‹µ ë°ì´í„° ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ ë°œìƒ: {e}\\\\\\\")\\\\n        st.json(json_data[\\\\\\\"review_response\\\\\\\"], expanded=False)\\\\n\\\\n\\\\ndef load_and_display_file_content(file_path: Path) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"íŒŒì¼ ë‚´ìš©ì„ ë¡œë“œí•˜ê³  í‘œì‹œí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    try:\\\\n        with open(file_path, encoding=\\\\\\\"utf-8\\\\\\\") as f:\\\\n            content = f.read()\\\\n\\\\n        format = determine_file_format(file_path)\\\\n\\\\n        if format == \\\\\\\"json\\\\\\\":\\\\n            json_data = parse_json_content(content)\\\\n            if not json_data:\\\\n                st.error(\\\\\\\"ìœ íš¨í•˜ì§€ ì•Šì€ JSON í˜•ì‹ì…ë‹ˆë‹¤.\\\\\\\")\\\\n                st.text(content)\\\\n                return\\\\n\\\\n            view_type = st.session_state.get(\\\\\\\"view_type\\\\\\\")\\\\n\\\\n            if view_type == \\\\\\\"ë¦¬ë·° ê²°ê³¼\\\\\\\":\\\\n                if \\\\\\\"show_raw_json\\\\\\\" not in st.session_state:\\\\n                    st.session_state.show_raw_json = False\\\\n\\\\n                show_raw_json = st.checkbox(\\\\n                    \\\\\\\"ì›ë³¸ JSON ë°ì´í„° ë³´ê¸°\\\\\\\", key=\\\\\\\"show_raw_json\\\\\\\"\\\\n                )\\\\n\\\\n                if show_raw_json:\\\\n                    display_review_result_raw_json(json_data)\\\\n                else:\\\\n                    display_review_result(json_data)\\\\n\\\\n            elif view_type == \\\\\\\"llm_eval ê²°ê³¼\\\\\\\":\\\\n                display_llm_eval_results(json_data)\\\\n        else:\\\\n            # í…ìŠ¤íŠ¸ íŒŒì¼ì€ ê·¸ëŒ€ë¡œ í‘œì‹œ\\\\n            st.text(content)\\\\n\\\\n    except Exception as e:\\\\n        st.error(f\\\\\\\"íŒŒì¼ì„ ì½ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: {str(e)}\\\\\\\")\\\\n\\\\n\\\\ndef sort_file_infos(\\\\n    file_infos: list[dict[str, Any]], sort_option: str\\\\n) -> list[dict[str, Any]]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"íŒŒì¼ ì •ë³´ ëª©ë¡ì„ ì •ë ¬í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    if sort_option == \\\\\\\"ìµœì‹ ìˆœ\\\\\\\":\\\\n        file_infos.sort(key=lambda x: x[\\\\\\\"date\\\\\\\"], reverse=True)\\\\n    elif sort_option == \\\\\\\"ì˜¤ë˜ëœìˆœ\\\\\\\":\\\\n        file_infos.sort(key=lambda x: x[\\\\\\\"date\\\\\\\"])\\\\n    elif sort_option == \\\\\\\"íŒŒì¼ëª…\\\\\\\":\\\\n        file_infos.sort(key=lambda x: x[\\\\\\\"name\\\\\\\"])\\\\n    elif sort_option == \\\\\\\"ëª¨ë¸ëª…\\\\\\\":\\\\n        file_infos.sort(key=lambda x: x[\\\\\\\"model\\\\\\\"])\\\\n    return file_infos\\\\n\\\\n\\\\ndef app():\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"Streamlit ì•± ë©”ì¸ í•¨ìˆ˜\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    st.set_page_config(\\\\n        page_title=\\\\\\\"Reviewer - ì½”ë“œ ë¦¬ë·° ê²°ê³¼\\\\\\\",\\\\n        page_icon=\\\\\\\"ğŸ“\\\\\\\",\\\\n        layout=\\\\\\\"wide\\\\\\\",\\\\n        initial_sidebar_state=\\\\\\\"expanded\\\\\\\",\\\\n    )\\\\n\\\\n    st.title(\\\\\\\"ì½”ë“œ ë¦¬ë·° ê²°ê³¼\\\\\\\")\\\\n\\\\n    # ê²°ê³¼ ë””ë ‰í† ë¦¬ í‘œì‹œ\\\\n    results_dir = get_default_results_dir()\\\\n    review_log_dir = get_default_review_log_dir()\\\\n    st.sidebar.markdown(f\\\\\\\"**ê²°ê³¼ ì €ì¥ ìœ„ì¹˜**: {results_dir}\\\\\\\")\\\\n    st.sidebar.markdown(f\\\\\\\"**ë¦¬ë·° ë¡œê·¸ ì €ì¥ ìœ„ì¹˜**: {review_log_dir}\\\\\\\")\\\\n    st.sidebar.markdown(\\\\n        f\\\\\\\"**llm_eval ê²°ê³¼ ì €ì¥ ìœ„ì¹˜**: {get_default_llm_eval_data_dir()}\\\\\\\"\\\\n    )\\\\n\\\\n    # ê²°ê³¼ ì„ íƒ\\\\n    view_type = st.sidebar.selectbox(\\\\n        \\\\\\\"ë³´ê¸° ìœ í˜•:\\\\\\\",\\\\n        [\\\\n            \\\\\\\"ë¦¬ë·° ê²°ê³¼\\\\\\\",\\\\n            \\\\\\\"llm_eval ê²°ê³¼\\\\\\\",\\\\n        ],\\\\n        index=0,\\\\n    )\\\\n\\\\n    # ë·° íƒ€ì… ì„¸ì…˜ ì €ì¥\\\\n    st.session_state.view_type = view_type\\\\n\\\\n    # íŒŒì¼ ëª©ë¡ ê°€ì ¸ì˜¤ê¸°\\\\n    if view_type == \\\\\\\"ë¦¬ë·° ê²°ê³¼\\\\\\\":\\\\n        files = get_review_log_files()\\\\n        if not files:\\\\n            st.info(\\\\\\\"ì €ì¥ëœ ë¦¬ë·° ë¡œê·¸ê°€ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n            st.markdown(\\\\\\\"\\\\\\\"\\\\\\\"\\\\n            ### ë¦¬ë·° ìƒì„± ë°©ë²•\\\\n            \\\\n            í„°ë¯¸ë„ì—ì„œ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì—¬ ì½”ë“œ ë¦¬ë·°ë¥¼ ìƒì„±í•˜ì„¸ìš”:\\\\n            ```bash\\\\n            reviewer review\\\\n            ```\\\\n            \\\\n            ìì„¸í•œ ì‚¬ìš©ë²•ì€ README.md íŒŒì¼ì„ ì°¸ì¡°í•˜ì„¸ìš”.\\\\n            \\\\\\\"\\\\\\\"\\\\\\\")\\\\n            return\\\\n    else:  # llm_eval ê²°ê³¼\\\\n        files = get_llm_eval_data_files()\\\\n        if not files:\\\\n            st.info(\\\\\\\"ì €ì¥ëœ llm_eval ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n            return\\\\n\\\\n    # íŒŒì¼ ëª©ë¡ ì •ë³´ ìƒì„±\\\\n    file_infos = [get_file_info(f) for f in files]\\\\n\\\\n    # ì‚¬ì´ë“œë°”ì— íŒŒì¼ ëª©ë¡ í‘œì‹œ\\\\n    st.sidebar.markdown(f\\\\\\\"## {view_type} ëª©ë¡\\\\\\\")\\\\n\\\\n    # ì •ë ¬ ì˜µì…˜\\\\n    sort_option = st.sidebar.selectbox(\\\\n        \\\\\\\"ì •ë ¬ ê¸°ì¤€:\\\\\\\", [\\\\\\\"ìµœì‹ ìˆœ\\\\\\\", \\\\\\\"ì˜¤ë˜ëœìˆœ\\\\\\\", \\\\\\\"íŒŒì¼ëª…\\\\\\\", \\\\\\\"ëª¨ë¸ëª…\\\\\\\"], index=0\\\\n    )\\\\n\\\\n    # ì •ë ¬ ì ìš©\\\\n    file_infos = sort_file_infos(file_infos, sort_option)\\\\n\\\\n    # ì„ íƒ ê°€ëŠ¥í•œ íŒŒì¼ ì˜µì…˜ ìƒì„±\\\\n    file_options = {\\\\n        f\\\\\\\"{info['name']} ({info['date'].strftime('%Y-%m-%d %H:%M')}\\\\\\\": info\\\\n        for info in file_infos\\\\n    }\\\\n\\\\n    # íŒŒì¼ ì„ íƒ ìœ„ì ¯\\\\n    selected_file_name = st.sidebar.selectbox(\\\\n        \\\\\\\"íŒŒì¼ ì„ íƒ:\\\\\\\", list(file_options.keys()), index=0\\\\n    )\\\\n\\\\n    # ì„ íƒëœ íŒŒì¼ ì •ë³´ì™€ ë‚´ìš© í‘œì‹œ\\\\n    selected_file_info = file_options[selected_file_name]\\\\n    display_file_info(selected_file_info)\\\\n    load_and_display_file_content(selected_file_info[\\\\\\\"path\\\\\\\"])\\\\n\\\\n\\\\ndef run_app() -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"Streamlit ì•±ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    import os\\\\n    import subprocess\\\\n    import sys\\\\n\\\\n    file_path = os.path.abspath(__file__)\\\\n    port = os.environ.get(\\\\\\\"STREAMLIT_SERVER_PORT\\\\\\\", \\\\\\\"8501\\\\\\\")\\\\n\\\\n    cmd = [\\\\n        sys.executable,\\\\n        \\\\\\\"-m\\\\\\\",\\\\n        \\\\\\\"streamlit\\\\\\\",\\\\n        \\\\\\\"run\\\\\\\",\\\\n        file_path,\\\\n        \\\\\\\"--server.headless\\\\\\\",\\\\n        \\\\\\\"true\\\\\\\",\\\\n        \\\\\\\"--browser.serverAddress\\\\\\\",\\\\n        \\\\\\\"localhost\\\\\\\",\\\\n        \\\\\\\"--server.port\\\\\\\",\\\\n        port,\\\\n    ]\\\\n\\\\n    subprocess.run(cmd)\\\\n\\\\n\\\\n# Streamlit ì•±ìœ¼ë¡œ ì§ì ‘ ì‹¤í–‰ë  ê²½ìš°\\\\nif __name__ == \\\\\\\"__main__\\\\\\\":\\\\n    app()\\\\n\\\", \\\"formatted_hunks\\\": [{\\\"hunk_idx\\\": \\\"1\\\", \\\"before_code\\\": \\\"```python\\\\nimport logging\\\\nimport os\\\\nimport sys\\\\nfrom datetime import datetime\\\\nfrom pathlib import Path\\\\nfrom typing import Any\\\\n\\\\nimport streamlit as st\\\\n\\\\nfrom reviewer.src.utils.token.models import ReviewResponse\\\\n\\\\n# ë¡œê±° ì„¤ì •\\\\nlogger = logging.getLogger(__name__)\\\\n\\\\n# ìƒëŒ€ ê²½ë¡œ ì„í¬íŠ¸ë¥¼ ìœ„í•œ ê²½ë¡œ ì„¤ì •\\\\nsys.path.append(os.path.abspath(os.path.join(os.path.dirname(__file__), \\\\\\\"..\\\\\\\")))\\\\nfrom reviewer.src.config import (\\\\n    get_default_raw_log_dir,\\\\n    get_default_results_dir,\\\\n    get_default_review_log_dir,\\\\n    get_default_review_prompt_dir,\\\\n    get_default_review_request_dir,\\\\n)\\\\nfrom reviewer.src.utils.review_formatter import ReviewFormatter\\\\n\\\\n\\\\ndef get_default_llm_eval_data_dir() -> Path:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"llm_eval ë°ì´í„°ê°€ ì €ì¥ëœ data ë””ë ‰í† ë¦¬ ê²½ë¡œë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    # ui.py íŒŒì¼ì˜ ìœ„ì¹˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í”„ë¡œì íŠ¸ ë£¨íŠ¸ë¥¼ ì°¾ê³ , ê·¸ ì•„ë˜ data í´ë”ë¥¼ ì§€ì •í•©ë‹ˆë‹¤.\\\\n    # reviewer/src/ui.py -> reviewer/ -> project_root\\\\n    project_root = Path(__file__).resolve().parent.parent.parent\\\\n    return project_root / \\\\\\\"llm_eval\\\\\\\" / \\\\\\\"results\\\\\\\"\\\\n\\\\n\\\\ndef get_default_merged_data_dir() -> Path:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ê¸°ë³¸ í†µí•© ë°ì´í„° ë””ë ‰í† ë¦¬ ê²½ë¡œë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    # ì‚¬ìš©ìë³„ Application Support ë””ë ‰í† ë¦¬ ì•„ë˜ì— reviewer/merged_data ê²½ë¡œë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.\\\\n    # macOS ê¸°ì¤€ ê²½ë¡œì…ë‹ˆë‹¤. ë‹¤ë¥¸ OSì—ì„œëŠ” ì ì ˆíˆ ìˆ˜ì •í•´ì•¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\\\\n    if sys.platform == \\\\\\\"darwin\\\\\\\":  # macOS\\\\n        return (\\\\n            Path.home() / \\\\\\\"Library\\\\\\\" / \\\\\\\"Application Support\\\\\\\" / \\\\\\\"reviewer\\\\\\\" / \\\\\\\"merged_data\\\\\\\"\\\\n        )\\\\n    elif sys.platform == \\\\\\\"win32\\\\\\\":  # Windows\\\\n        return Path(os.getenv(\\\\\\\"APPDATA\\\\\\\", \\\\\\\"\\\\\\\")) / \\\\\\\"reviewer\\\\\\\" / \\\\\\\"merged_data\\\\\\\"\\\\n    else:  # Linux ë“± ê¸°íƒ€\\\\n        return Path.home() / \\\\\\\".config\\\\\\\" / \\\\\\\"reviewer\\\\\\\" / \\\\\\\"merged_data\\\\\\\"\\\\n\\\\n\\\\ndef get_result_files() -> list[Path]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ê²°ê³¼ ë””ë ‰í† ë¦¬ì—ì„œ ëª¨ë“  ê²°ê³¼ íŒŒì¼ì„ ê°€ì ¸ì˜µë‹ˆë‹¤. (ì‚¬ìš©ë˜ì§€ ì•ŠìŒ)\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    # ì´ í•¨ìˆ˜ëŠ” ë” ì´ìƒ ì‚¬ìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ëŒ€ì‹  get_review_log_files()ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.\\\\n    logger.warning(\\\\n        \\\\\\\"get_result_files()ëŠ” ë” ì´ìƒ ì‚¬ìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. get_review_log_files()ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.\\\\\\\"\\\\n    )\\\\n    return []\\\\n\\\\n\\\\ndef get_log_files() -> list[Path]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ë¡œê·¸ ë””ë ‰í† ë¦¬ì—ì„œ ëª¨ë“  ë¡œê·¸ íŒŒì¼ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    log_dir = get_default_raw_log_dir()\\\\n    if not log_dir.exists():\\\\n        return []\\\\n\\\\n    log_files = list(log_dir.glob(\\\\\\\"*.json\\\\\\\"))\\\\n    # ìˆ˜ì • ì‹œê°„ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬ (ìµœì‹ ìˆœ)\\\\n    log_files.sort(key=lambda f: f.stat().st_mtime, reverse=True)\\\\n    return log_files\\\\n\\\\n\\\\ndef get_review_request_files() -> list[Path]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ë¦¬ë·° ìš”ì²­ ë””ë ‰í† ë¦¬ì—ì„œ ëª¨ë“  ë¦¬ë·° ìš”ì²­ íŒŒì¼ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    request_dir = get_default_review_request_dir()\\\\n    if not request_dir.exists():\\\\n        return []\\\\n\\\\n    request_files = list(request_dir.glob(\\\\\\\"*.json\\\\\\\"))\\\\n    # ìˆ˜ì • ì‹œê°„ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬ (ìµœì‹ ìˆœ)\\\\n    request_files.sort(key=lambda f: f.stat().st_mtime, reverse=True)\\\\n    return request_files\\\\n\\\\n\\\\ndef get_review_prompt_files() -> list[Path]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ë¦¬ë·° í”„ë¡¬í”„íŠ¸ ë””ë ‰í† ë¦¬ì—ì„œ ëª¨ë“  í”„ë¡¬í”„íŠ¸ íŒŒì¼ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    prompt_dir = get_default_review_prompt_dir()\\\\n    if not prompt_dir.exists():\\\\n        return []\\\\n\\\\n    prompt_files = list(prompt_dir.glob(\\\\\\\"*.json\\\\\\\"))\\\\n    # ìˆ˜ì • ì‹œê°„ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬ (ìµœì‹ ìˆœ)\\\\n    prompt_files.sort(key=lambda f: f.stat().st_mtime, reverse=True)\\\\n    return prompt_files\\\\n\\\\n\\\\ndef get_llm_eval_data_files() -> list[Path]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"llm_eval ë°ì´í„° ë””ë ‰í† ë¦¬ì—ì„œ ëª¨ë“  íŒŒì¼ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    llm_eval_data_dir = get_default_llm_eval_data_dir()\\\\n    if not llm_eval_data_dir.exists():\\\\n        return []\\\\n\\\\n    # data í´ë” ë‚´ ëª¨ë“  íŒŒì¼ì„ ëŒ€ìƒìœ¼ë¡œ í•¨ (í™•ì¥ì ë¬´ê´€)\\\\n    llm_eval_files = list(llm_eval_data_dir.glob(\\\\\\\"*\\\\\\\"))\\\\n    # ìˆ˜ì • ì‹œê°„ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬ (ìµœì‹ ìˆœ)\\\\n    llm_eval_files.sort(key=lambda f: f.stat().st_mtime, reverse=True)\\\\n    return llm_eval_files\\\\n\\\\n\\\\ndef get_merged_data_files() -> list[Path]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"í†µí•© ë°ì´í„° ë””ë ‰í† ë¦¬ì—ì„œ ëª¨ë“  JSON íŒŒì¼ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    merged_data_dir = get_default_merged_data_dir()\\\\n    if not merged_data_dir.exists():\\\\n        return []\\\\n\\\\n    merged_files = list(merged_data_dir.glob(\\\\\\\"*.json\\\\\\\"))\\\\n    # ìˆ˜ì • ì‹œê°„ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬ (ìµœì‹ ìˆœ)\\\\n    merged_files.sort(key=lambda f: f.stat().st_mtime, reverse=True)\\\\n    return merged_files\\\\n\\\\n\\\\ndef get_review_log_files() -> list[Path]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ë¦¬ë·° ë¡œê·¸ ë””ë ‰í† ë¦¬ì—ì„œ ëª¨ë“  ë¦¬ë·° ë¡œê·¸ íŒŒì¼ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    log_dir = get_default_review_log_dir()\\\\n    if not log_dir.exists():\\\\n        return []\\\\n\\\\n    log_files = list(log_dir.glob(\\\\\\\"*.json\\\\\\\"))\\\\n    # ìˆ˜ì • ì‹œê°„ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬ (ìµœì‹ ìˆœ)\\\\n    log_files.sort(key=lambda f: f.stat().st_mtime, reverse=True)\\\\n    return log_files\\\\n\\\\n\\\\ndef get_file_info(file: Path) -> dict[str, Any]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"íŒŒì¼ ì •ë³´ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    mtime = datetime.fromtimestamp(file.stat().st_mtime)\\\\n    size = file.stat().st_size\\\\n    size_str = f\\\\\\\"{size / 1024:.1f}KB\\\\\\\" if size >= 1024 else f\\\\\\\"{size}B\\\\\\\"\\\\n\\\\n    # íŒŒì¼ëª…ì—ì„œ ëª¨ë¸ ì´ë¦„ê³¼ ë‚ ì§œ ì¶”ì¶œ ì‹œë„\\\\n    model_name_candidate = \\\\\\\"\\\\\\\"\\\\n    date_candidate = mtime  # ê¸°ë³¸ê°’ì€ íŒŒì¼ ìˆ˜ì • ì‹œê°„\\\\n\\\\n    try:\\\\n        parts = file.stem.split(\\\\\\\"_\\\\\\\")\\\\n        # íŒŒì¼ëª… ê·œì¹™: YYYYMMDD_HHMMSS_ModelName ë˜ëŠ” ìœ ì‚¬ í˜•ì‹\\\\n        # ë˜ëŠ” ModelName_YYYYMMDD_HHMMSS\\\\n        if len(parts) >= 3:\\\\n            # YYYYMMDD_HHMMSS_ModelName í˜•ì‹ ì²´í¬\\\\n            if (\\\\n                parts[0].isdigit()\\\\n                and len(parts[0]) == 8\\\\n                and parts[1].isdigit()\\\\n                and len(parts[1]) == 6\\\\n            ):\\\\n                date_str = f\\\\\\\"{parts[0]}_{parts[1]}\\\\\\\"\\\\n                date_candidate = datetime.strptime(date_str, \\\\\\\"%Y%m%d_%H%M%S\\\\\\\")\\\\n                model_name_candidate = \\\\\\\"_\\\\\\\".join(parts[2:])\\\\n            # ModelName_YYYYMMDD_HHMMSS í˜•ì‹ ì²´í¬ (ë§ˆì§€ë§‰ ë‘ íŒŒíŠ¸ê°€ ë‚ ì§œ/ì‹œê°„)\\\\n            elif (\\\\n                parts[-2].isdigit()\\\\n                and len(parts[-2]) == 8\\\\n                and parts[-1].isdigit()\\\\n                and len(parts[-1]) == 6\\\\n            ):\\\\n                date_str = f\\\\\\\"{parts[-2]}_{parts[-1]}\\\\\\\"\\\\n                date_candidate = datetime.strptime(date_str, \\\\\\\"%Y%m%d_%H%M%S\\\\\\\")\\\\n                model_name_candidate = \\\\\\\"_\\\\\\\".join(parts[:-2])\\\\n            # ê¸°íƒ€: ë§ˆì§€ë§‰ íŒŒíŠ¸ë¥¼ ëª¨ë¸ëª…ìœ¼ë¡œ ê°€ì •í•˜ê³ , ë‚ ì§œëŠ” mtime ì‚¬ìš©\\\\n            elif not parts[-1].isdigit():  # ë§ˆì§€ë§‰ íŒŒíŠ¸ê°€ ìˆ«ìê°€ ì•„ë‹ˆë©´ ëª¨ë¸ëª…ìœ¼ë¡œ ê°„ì£¼\\\\n                model_name_candidate = parts[-1]\\\\n                # ë‚ ì§œ/ì‹œê°„ ë¶€ë¶„ (YYYYMMDD_HHMMSS í˜•ì‹) - ì¤‘ê°„ì— ìˆì„ ê²½ìš°\\\\n                if (\\\\n                    len(parts) >= 3\\\\n                    and parts[-2].isdigit()\\\\n                    and len(parts[-2]) == 6\\\\n                    and parts[-3].isdigit()\\\\n                    and len(parts[-3]) == 8\\\\n                ):\\\\n                    date_str = f\\\\\\\"{parts[-3]}_{parts[-2]}\\\\\\\"\\\\n                    try:\\\\n                        date_candidate = datetime.strptime(date_str, \\\\\\\"%Y%m%d_%H%M%S\\\\\\\")\\\\n                    except ValueError:\\\\n                        pass  # ë‚ ì§œ í˜•ì‹ ì•ˆë§ìœ¼ë©´ mtime ìœ ì§€\\\\n        elif (\\\\n            len(parts) == 2 and not parts[0].isdigit() and not parts[1].isdigit()\\\\n        ):  # Model_Name í˜•ì‹ì´ê³  ë‚ ì§œ ì •ë³´ ì—†ì„ ë•Œ\\\\n            model_name_candidate = file.stem\\\\n        elif (\\\\n            len(parts) == 1 and not parts[0].isdigit()\\\\n        ):  # ModelName í˜•ì‹ì´ê³  ë‚ ì§œ ì •ë³´ ì—†ì„ ë•Œ\\\\n            model_name_candidate = parts[0]\\\\n\\\\n    except Exception:  # ë‚ ì§œ/ëª¨ë¸ëª… íŒŒì‹± ì¤‘ ì˜ˆì™¸ ë°œìƒ ì‹œ ê¸°ë³¸ê°’ ì‚¬ìš©\\\\n        pass  # model_name_candidate = \\\\\\\"\\\\\\\", date_candidate = mtime ìœ ì§€\\\\n\\\\n    file_suffix = file.suffix.lstrip(\\\\\\\".\\\\\\\").lower()\\\\n\\\\n    # í™•ì¥ìê°€ ì—†ëŠ” íŒŒì¼ ì²˜ë¦¬ ë¡œì§\\\\n    if not file_suffix:\\\\n        # 1. deepeval ê²°ê³¼ íŒŒì¼ì¸ì§€ í™•ì¸ (llm_eval_dir ë‚´ë¶€ì— ìˆëŠ”ì§€)\\\\n        try:\\\\n            llm_eval_dir = get_default_llm_eval_data_dir()\\\\n\\\\n            # ê²½ë¡œ ë¹„êµë¥¼ ìœ„í•´ ì ˆëŒ€ ê²½ë¡œë¡œ ë³€í™˜\\\\n            file_parent_resolved = file.parent.resolve()\\\\n            llm_eval_dir_resolved = llm_eval_dir.resolve()\\\\n\\\\n            # íŒŒì¼ì´ llm_eval_dirì˜ í•˜ìœ„ ê²½ë¡œì¸ì§€ í™•ì¸\\\\n            file_parent_str = str(file_parent_resolved)\\\\n            llm_eval_dir_str = str(llm_eval_dir_resolved)\\\\n\\\\n            # llm_eval ë””ë ‰í† ë¦¬ ë‚´ íŒŒì¼ì€ ëª¨ë‘ JSONìœ¼ë¡œ ì²˜ë¦¬\\\\n            is_in_llm_eval_dir = file_parent_str.startswith(llm_eval_dir_str)\\\\n\\\\n            # 2. ë‚ ì§œ í˜•ì‹ì˜ íŒŒì¼ëª…ì¸ì§€ í™•ì¸\\\\n            has_date_format = (\\\\n                len(parts) >= 2\\\\n                and parts[0].isdigit()\\\\n                and len(parts[0]) == 8\\\\n                and parts[1].isdigit()\\\\n                and len(parts[1]) == 6\\\\n            )\\\\n\\\\n            # deepeval ê²°ê³¼ íŒŒì¼(llm_eval ë””ë ‰í† ë¦¬)ì´ê±°ë‚˜ ë‚ ì§œ í˜•ì‹ì¸ ê²½ìš° JSONìœ¼ë¡œ ì²˜ë¦¬\\\\n            if is_in_llm_eval_dir:\\\\n                # deepeval íŒŒì¼ì€ ë¬´ì¡°ê±´ JSONìœ¼ë¡œ ì²˜ë¦¬\\\\n                file_format = \\\\\\\"json\\\\\\\"\\\\n            elif has_date_format:\\\\n                # ë‚ ì§œ í˜•ì‹ì€ JSONìœ¼ë¡œ ì²˜ë¦¬\\\\n                file_format = \\\\\\\"json\\\\\\\"\\\\n            else:\\\\n                file_format = \\\\\\\"txt\\\\\\\"\\\\n        except Exception:\\\\n            # ì˜ˆì™¸ ë°œìƒì‹œ ì•ˆì „í•˜ê²Œ txtë¡œ ì²˜ë¦¬\\\\n            file_format = \\\\\\\"txt\\\\\\\"\\\\n    elif file_suffix in [\\\\\\\"json\\\\\\\", \\\\\\\"log\\\\\\\", \\\\\\\"html\\\\\\\", \\\\\\\"txt\\\\\\\"]:\\\\n        file_format = file_suffix\\\\n    else:  # ê·¸ ì™¸ ëª¨ë¥´ëŠ” í™•ì¥ìëŠ” 'txt'ë¡œ ê°„ì£¼\\\\n        file_format = \\\\\\\"txt\\\\\\\"\\\\n\\\\n    return {\\\\n        \\\\\\\"path\\\\\\\": file,\\\\n        \\\\\\\"name\\\\\\\": file.name,\\\\n        \\\\\\\"model\\\\\\\": model_name_candidate,\\\\n```\\\", \\\"after_code\\\": \\\"```python\\\\nimport logging\\\\nimport os\\\\nimport sys\\\\nfrom datetime import datetime\\\\nfrom pathlib import Path\\\\nfrom typing import Any, Optional\\\\n\\\\nimport streamlit as st\\\\n\\\\nfrom reviewer.src.utils.token.models import ReviewResponse\\\\n\\\\n# ë¡œê±° ì„¤ì •\\\\nlogger = logging.getLogger(__name__)\\\\n\\\\n# ìƒëŒ€ ê²½ë¡œ ì„í¬íŠ¸ë¥¼ ìœ„í•œ ê²½ë¡œ ì„¤ì •\\\\nsys.path.append(os.path.abspath(os.path.join(os.path.dirname(__file__), \\\\\\\"..\\\\\\\")))\\\\nfrom reviewer.src.config import get_default_results_dir, get_default_review_log_dir\\\\nfrom reviewer.src.utils.review_formatter import ReviewFormatter\\\\n\\\\n\\\\ndef get_default_llm_eval_data_dir() -> Path:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"llm_eval ë°ì´í„°ê°€ ì €ì¥ëœ data ë””ë ‰í† ë¦¬ ê²½ë¡œë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    project_root = Path(__file__).resolve().parent.parent.parent\\\\n    return project_root / \\\\\\\"llm_eval\\\\\\\" / \\\\\\\"results\\\\\\\"\\\\n\\\\n\\\\ndef get_llm_eval_data_files() -> list[Path]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"llm_eval ë°ì´í„° ë””ë ‰í† ë¦¬ì—ì„œ ëª¨ë“  íŒŒì¼ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    llm_eval_data_dir = get_default_llm_eval_data_dir()\\\\n    if not llm_eval_data_dir.exists():\\\\n        return []\\\\n\\\\n    llm_eval_files = list(llm_eval_data_dir.glob(\\\\\\\"*\\\\\\\"))\\\\n    llm_eval_files.sort(key=lambda f: f.stat().st_mtime, reverse=True)\\\\n    return llm_eval_files\\\\n\\\\n\\\\ndef get_review_log_files() -> list[Path]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ë¦¬ë·° ë¡œê·¸ ë””ë ‰í† ë¦¬ì—ì„œ ëª¨ë“  ë¦¬ë·° ë¡œê·¸ íŒŒì¼ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    log_dir = get_default_review_log_dir()\\\\n    if not log_dir.exists():\\\\n        return []\\\\n\\\\n    log_files = list(log_dir.glob(\\\\\\\"*.json\\\\\\\"))\\\\n    log_files.sort(key=lambda f: f.stat().st_mtime, reverse=True)\\\\n    return log_files\\\\n\\\\n\\\\ndef parse_date_from_filename(filename: str) -> Optional[datetime]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"íŒŒì¼ëª…ì—ì„œ ë‚ ì§œ ì •ë³´ë¥¼ ì¶”ì¶œí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    parts = filename.split(\\\\\\\"_\\\\\\\")\\\\n\\\\n    # YYYYMMDD_HHMMSS í˜•ì‹ ê²€ìƒ‰\\\\n    if len(parts) >= 2:\\\\n        # ì ‘ë‘ì‚¬ì— ë‚ ì§œê°€ ìˆëŠ” ê²½ìš°: YYYYMMDD_HHMMSS_...\\\\n        if (\\\\n            parts[0].isdigit()\\\\n            and len(parts[0]) == 8\\\\n            and parts[1].isdigit()\\\\n            and len(parts[1]) == 6\\\\n        ):\\\\n            try:\\\\n                return datetime.strptime(f\\\\\\\"{parts[0]}_{parts[1]}\\\\\\\", \\\\\\\"%Y%m%d_%H%M%S\\\\\\\")\\\\n            except ValueError:\\\\n                pass\\\\n\\\\n        # ì ‘ë¯¸ì‚¬ì— ë‚ ì§œê°€ ìˆëŠ” ê²½ìš°: ..._YYYYMMDD_HHMMSS\\\\n        if (\\\\n            parts[-2].isdigit()\\\\n            and len(parts[-2]) == 8\\\\n            and parts[-1].isdigit()\\\\n            and len(parts[-1]) == 6\\\\n        ):\\\\n            try:\\\\n                return datetime.strptime(f\\\\\\\"{parts[-2]}_{parts[-1]}\\\\\\\", \\\\\\\"%Y%m%d_%H%M%S\\\\\\\")\\\\n            except ValueError:\\\\n                pass\\\\n\\\\n        # ì¤‘ê°„ì— ë‚ ì§œê°€ ìˆëŠ” ê²½ìš°\\\\n        for i in range(len(parts) - 1):\\\\n            if (\\\\n                parts[i].isdigit()\\\\n                and len(parts[i]) == 8\\\\n                and parts[i + 1].isdigit()\\\\n                and len(parts[i + 1]) == 6\\\\n            ):\\\\n                try:\\\\n                    return datetime.strptime(\\\\n                        f\\\\\\\"{parts[i]}_{parts[i + 1]}\\\\\\\", \\\\\\\"%Y%m%d_%H%M%S\\\\\\\"\\\\n                    )\\\\n                except ValueError:\\\\n                    pass\\\\n\\\\n    return None\\\\n\\\\n\\\\ndef extract_model_name_from_filename(filename: str, date_parts_count: int = 0) -> str:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"íŒŒì¼ëª…ì—ì„œ ëª¨ë¸ ì´ë¦„ì„ ì¶”ì¶œí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    parts = filename.split(\\\\\\\"_\\\\\\\")\\\\n\\\\n    if date_parts_count == 2 and len(parts) > 2:\\\\n        # ë‚ ì§œ ë¶€ë¶„ ì œì™¸í•œ ë‚˜ë¨¸ì§€ë¥¼ ëª¨ë¸ëª…ìœ¼ë¡œ ê°„ì£¼\\\\n        return \\\\\\\"_\\\\\\\".join(parts[2:])\\\\n    elif len(parts) > 0 and not parts[-1].isdigit():\\\\n        # ë§ˆì§€ë§‰ ë¶€ë¶„ì´ ìˆ«ìê°€ ì•„ë‹ˆë©´ ëª¨ë¸ëª…ìœ¼ë¡œ ê°„ì£¼\\\\n        return parts[-1]\\\\n\\\\n    return \\\\\\\"\\\\\\\"\\\\n\\\\n\\\\ndef determine_file_format(file_path: Path) -> str:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"íŒŒì¼ì˜ í˜•ì‹ì„ ê²°ì •í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    file_suffix = file_path.suffix.lstrip(\\\\\\\".\\\\\\\").lower()\\\\n\\\\n    if not file_suffix:\\\\n        # í™•ì¥ì ì—†ëŠ” íŒŒì¼ ì²˜ë¦¬\\\\n        try:\\\\n            # llm_eval ë””ë ‰í† ë¦¬ ë‚´ íŒŒì¼ì¸ì§€ í™•ì¸\\\\n            llm_eval_dir = get_default_llm_eval_data_dir().resolve()\\\\n            file_parent = file_path.parent.resolve()\\\\n\\\\n            is_in_llm_eval_dir = str(file_parent).startswith(str(llm_eval_dir))\\\\n\\\\n            # íŒŒì¼ëª…ì— ë‚ ì§œ í˜•ì‹ì´ ìˆëŠ”ì§€ í™•ì¸\\\\n            parts = file_path.stem.split(\\\\\\\"_\\\\\\\")\\\\n            has_date_format = (\\\\n                len(parts) >= 2\\\\n                and parts[0].isdigit()\\\\n                and len(parts[0]) == 8\\\\n                and parts[1].isdigit()\\\\n                and len(parts[1]) == 6\\\\n            )\\\\n\\\\n            if is_in_llm_eval_dir or has_date_format:\\\\n                return \\\\\\\"json\\\\\\\"\\\\n            return \\\\\\\"txt\\\\\\\"\\\\n        except Exception:\\\\n            return \\\\\\\"txt\\\\\\\"\\\\n\\\\n    return file_suffix if file_suffix in [\\\\\\\"json\\\\\\\", \\\\\\\"log\\\\\\\", \\\\\\\"html\\\\\\\", \\\\\\\"txt\\\\\\\"] else \\\\\\\"txt\\\\\\\"\\\\n\\\\n\\\\ndef get_file_info(file: Path) -> dict[str, Any]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"íŒŒì¼ ì •ë³´ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    mtime = datetime.fromtimestamp(file.stat().st_mtime)\\\\n    size = file.stat().st_size\\\\n    size_str = f\\\\\\\"{size / 1024:.1f}KB\\\\\\\" if size >= 1024 else f\\\\\\\"{size}B\\\\\\\"\\\\n\\\\n    # ë‚ ì§œ ì¶”ì¶œ\\\\n    date_candidate = parse_date_from_filename(file.stem)\\\\n    if date_candidate is None:\\\\n        date_candidate = mtime\\\\n        date_parts_count = 0\\\\n    else:\\\\n        date_parts_count = 2\\\\n\\\\n    # ëª¨ë¸ëª… ì¶”ì¶œ\\\\n    model_name_candidate = extract_model_name_from_filename(file.stem, date_parts_count)\\\\n\\\\n    # íŒŒì¼ í˜•ì‹ ê²°ì •\\\\n    file_format = determine_file_format(file)\\\\n\\\\n    return {\\\\n        \\\\\\\"path\\\\\\\": file,\\\\n        \\\\\\\"name\\\\\\\": file.name,\\\\n        \\\\\\\"model\\\\\\\": model_name_candidate,\\\\n```\\\", \\\"after_code_start_line_number\\\": 9, \\\"after_code_line_numbers\\\": [9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174]}, {\\\"hunk_idx\\\": \\\"2\\\", \\\"before_code\\\": \\\"```python\\\\n        \\\\\\\"size_str\\\\\\\": size_str,\\\\n        \\\\\\\"format\\\\\\\": file_format,\\\\n    }\\\\n\\\\n\\\\ndef app():\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"Streamlit ì•± ë©”ì¸ í•¨ìˆ˜\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    st.set_page_config(\\\\n        page_title=\\\\\\\"Reviewer - ì½”ë“œ ë¦¬ë·° ê²°ê³¼\\\\\\\",\\\\n        page_icon=\\\\\\\"ğŸ“\\\\\\\",\\\\n```\\\", \\\"after_code\\\": \\\"```python\\\\n        \\\\\\\"size_str\\\\\\\": size_str,\\\\n        \\\\\\\"format\\\\\\\": file_format,\\\\n    }\\\\n\\\\n\\\\ndef display_file_info(file_info: dict[str, Any]) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"íŒŒì¼ ì •ë³´ë¥¼ í™”ë©´ì— í‘œì‹œí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    col1, col2, col3 = st.columns(3)\\\\n    with col1:\\\\n        st.markdown(f\\\\\\\"**íŒŒì¼ëª…**: {file_info['name']}\\\\\\\")\\\\n    with col2:\\\\n        st.markdown(f\\\\\\\"**ë‚ ì§œ**: {file_info['date'].strftime('%Y-%m-%d %H:%M')}\\\\\\\")\\\\n    with col3:\\\\n        st.markdown(f\\\\\\\"**í¬ê¸°**: {file_info['size_str']}\\\\\\\")\\\\n\\\\n\\\\ndef parse_json_content(content: str) -> dict[str, Any]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"JSON ë¬¸ìì—´ì„ íŒŒì‹±í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    try:\\\\n        return json.loads(content)\\\\n    except json.JSONDecodeError:\\\\n        return {}\\\\n\\\\n\\\\ndef parse_prompt_content(prompt_list: list) -> list:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"í”„ë¡¬í”„íŠ¸ ë°ì´í„°ì˜ content í•„ë“œë¥¼ íŒŒì‹±í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    if not isinstance(prompt_list, list):\\\\n        return prompt_list\\\\n\\\\n    parsed_list = []\\\\n    for item in prompt_list:\\\\n        item_copy = copy.deepcopy(item)\\\\n        if (\\\\n            isinstance(item_copy, dict)\\\\n            and \\\\\\\"content\\\\\\\" in item_copy\\\\n            and isinstance(item_copy[\\\\\\\"content\\\\\\\"], str)\\\\n        ):\\\\n            try:\\\\n                item_copy[\\\\\\\"content\\\\\\\"] = json.loads(item_copy[\\\\\\\"content\\\\\\\"])\\\\n            except json.JSONDecodeError:\\\\n                pass\\\\n        parsed_list.append(item_copy)\\\\n\\\\n    return parsed_list\\\\n\\\\n\\\\ndef display_json_field_in_expander(key: str, value: Any) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"JSON í•„ë“œë¥¼ ì ‘ì„ ìˆ˜ ìˆëŠ” expanderë¡œ í‘œì‹œí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    if not value:  # Noneì´ê±°ë‚˜ ë¹ˆ ê°’\\\\n        with st.expander(f\\\\\\\"{key} ë‚´ìš© ë³´ê¸°\\\\\\\", expanded=False):\\\\n            st.write(\\\\\\\"ë‚´ìš© ì—†ìŒ\\\\\\\")\\\\n        return\\\\n\\\\n    with st.expander(f\\\\\\\"{key} ë‚´ìš© ë³´ê¸°\\\\\\\", expanded=False):\\\\n        if key == \\\\\\\"prompt\\\\\\\" and isinstance(value, list):\\\\n            parsed_value = parse_prompt_content(value)\\\\n            st.json(parsed_value, expanded=True)\\\\n        else:\\\\n            st.json(value, expanded=True)\\\\n\\\\n\\\\ndef display_review_result_raw_json(json_data: dict[str, Any]) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ë¦¬ë·° ê²°ê³¼ì˜ ì›ë³¸ JSONì„ í‘œì‹œí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    st.markdown(\\\\\\\"## ì›ë³¸ JSON ë°ì´í„°\\\\\\\")\\\\n    data_to_display = copy.deepcopy(json_data)\\\\n\\\\n    # ì£¼ìš” í•„ë“œë¥¼ expanderë¡œ í‘œì‹œ\\\\n    target_keys = [\\\\\\\"prompt\\\\\\\", \\\\\\\"review_request\\\\\\\", \\\\\\\"review_response\\\\\\\"]\\\\n    for key in target_keys:\\\\n        if key in data_to_display:\\\\n            display_json_field_in_expander(key, data_to_display.pop(key))\\\\n\\\\n    # ë‚˜ë¨¸ì§€ ë°ì´í„° í‘œì‹œ\\\\n    if data_to_display:\\\\n        st.markdown(\\\\\\\"---\\\\\\\")\\\\n        st.markdown(\\\\\\\"### ì›ë³¸ ë°ì´í„°\\\\\\\")\\\\n        st.json(json_data, expanded=False)\\\\n\\\\n\\\\ndef filter_failed_test_cases(test_cases: list) -> tuple[list, int]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ì‹¤íŒ¨í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë§Œ í•„í„°ë§í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    if not isinstance(test_cases, list):\\\\n        return [], 0\\\\n\\\\n    filtered_cases = []\\\\n\\\\n    for tc in test_cases:\\\\n        if not isinstance(tc, dict) or tc.get(\\\\\\\"success\\\\\\\") is not False:\\\\n            continue\\\\n\\\\n        tc_copy = copy.deepcopy(tc)\\\\n\\\\n        # metricsData ë‚´ë¶€ì—ì„œ ì‹¤íŒ¨í•œ í•­ëª©ë§Œ í•„í„°ë§\\\\n        if \\\\\\\"metricsData\\\\\\\" in tc_copy and isinstance(tc_copy[\\\\\\\"metricsData\\\\\\\"], list):\\\\n            filtered_metrics = [\\\\n                m\\\\n                for m in tc_copy[\\\\\\\"metricsData\\\\\\\"]\\\\n                if isinstance(m, dict) and m.get(\\\\\\\"success\\\\\\\") is False\\\\n            ]\\\\n            tc_copy[\\\\\\\"metricsData\\\\\\\"] = filtered_metrics or []\\\\n\\\\n        filtered_cases.append(tc_copy)\\\\n\\\\n    return filtered_cases, len(filtered_cases)\\\\n\\\\n\\\\ndef parse_test_case_inputs(test_cases: list) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì˜ ì…ë ¥ í•„ë“œë¥¼ íŒŒì‹±í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    if not isinstance(test_cases, list):\\\\n        return\\\\n\\\\n    for test_case in test_cases:\\\\n        if not isinstance(test_case, dict):\\\\n            continue\\\\n\\\\n        # input í•„ë“œ ì²˜ë¦¬\\\\n        if \\\\\\\"input\\\\\\\" in test_case and isinstance(test_case[\\\\\\\"input\\\\\\\"], str):\\\\n            try:\\\\n                parsed_input = json.loads(test_case[\\\\\\\"input\\\\\\\"])\\\\n                if isinstance(parsed_input, list):\\\\n                    parsed_input = parse_prompt_content(parsed_input)\\\\n                test_case[\\\\\\\"input\\\\\\\"] = parsed_input\\\\n            except json.JSONDecodeError:\\\\n                pass\\\\n\\\\n        # actualOutput í•„ë“œ ì²˜ë¦¬\\\\n        if \\\\\\\"actualOutput\\\\\\\" in test_case and isinstance(test_case[\\\\\\\"actualOutput\\\\\\\"], str):\\\\n            try:\\\\n                test_case[\\\\\\\"actualOutput\\\\\\\"] = json.loads(test_case[\\\\\\\"actualOutput\\\\\\\"])\\\\n            except json.JSONDecodeError:\\\\n                pass\\\\n\\\\n\\\\ndef display_llm_eval_results(json_data: dict[str, Any]) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"llm_eval ê²°ê³¼ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    st.markdown(\\\\\\\"## llm_eval ê²°ê³¼ ë‚´ìš©\\\\\\\")\\\\n\\\\n    # ë°ì´í„° ë³µì‚¬\\\\n    display_data = copy.deepcopy(json_data)\\\\n\\\\n    # í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ìˆ˜ ê³„ì‚°\\\\n    test_cases = (\\\\n        display_data.get(\\\\\\\"testCases\\\\\\\", []) if isinstance(display_data, dict) else []\\\\n    )\\\\n    num_total_cases = len(test_cases) if isinstance(test_cases, list) else 0\\\\n\\\\n    # í•„í„°ë§ ì»¨íŠ¸ë¡¤\\\\n    col_checkbox, col_count = st.columns([0.8, 0.2])\\\\n    with col_checkbox:\\\\n        filter_failed_tests = st.checkbox(\\\\n            \\\\\\\"ì‹¤íŒ¨í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë§Œ ë³´ê¸° (success=false)\\\\\\\",\\\\n            key=\\\\\\\"llm_eval_filter_checkbox\\\\\\\",\\\\n        )\\\\n\\\\n    # í•„í„°ë§ ì ìš©\\\\n    num_displayed_cases = num_total_cases\\\\n    if (\\\\n        filter_failed_tests\\\\n        and isinstance(display_data, dict)\\\\n        and \\\\\\\"testCases\\\\\\\" in display_data\\\\n    ):\\\\n        filtered_cases, num_displayed_cases = filter_failed_test_cases(\\\\n            display_data[\\\\\\\"testCases\\\\\\\"]\\\\n        )\\\\n        display_data[\\\\\\\"testCases\\\\\\\"] = filtered_cases\\\\n        count_caption_text = (\\\\n            f\\\\\\\"(í‘œì‹œ: {num_displayed_cases} / ì´: {num_total_cases}ê±´, ì‹¤íŒ¨ë§Œ)\\\\\\\"\\\\n        )\\\\n    else:\\\\n        count_caption_text = f\\\\\\\"(ì´ {num_total_cases}ê±´)\\\\\\\"\\\\n\\\\n    with col_count:\\\\n        st.caption(count_caption_text)\\\\n\\\\n    # ì…ë ¥ í•„ë“œ íŒŒì‹±\\\\n    if isinstance(display_data, dict) and \\\\\\\"testCases\\\\\\\" in display_data:\\\\n        parse_test_case_inputs(display_data[\\\\\\\"testCases\\\\\\\"])\\\\n\\\\n    # ê²°ê³¼ í‘œì‹œ\\\\n    st.json(display_data, expanded=False)\\\\n\\\\n\\\\ndef display_review_result(json_data: dict[str, Any]) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ë¦¬ë·° ê²°ê³¼ë¥¼ HTMLë¡œ í‘œì‹œí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    if \\\\\\\"review_response\\\\\\\" not in json_data or not json_data[\\\\\\\"review_response\\\\\\\"]:\\\\n        st.warning(\\\\\\\"ë¦¬ë·° ì‘ë‹µ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n        return\\\\n\\\\n    try:\\\\n        review_response = ReviewResponse.model_validate(json_data[\\\\\\\"review_response\\\\\\\"])\\\\n        formatter = ReviewFormatter()\\\\n        html_content = formatter.to_html(review_response)\\\\n        st.html(html_content)\\\\n    except Exception as e:\\\\n        st.error(f\\\\\\\"ë¦¬ë·° ì‘ë‹µ ë°ì´í„° ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ ë°œìƒ: {e}\\\\\\\")\\\\n        st.json(json_data[\\\\\\\"review_response\\\\\\\"], expanded=False)\\\\n\\\\n\\\\ndef load_and_display_file_content(file_path: Path) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"íŒŒì¼ ë‚´ìš©ì„ ë¡œë“œí•˜ê³  í‘œì‹œí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    try:\\\\n        with open(file_path, encoding=\\\\\\\"utf-8\\\\\\\") as f:\\\\n            content = f.read()\\\\n\\\\n        format = determine_file_format(file_path)\\\\n\\\\n        if format == \\\\\\\"json\\\\\\\":\\\\n            json_data = parse_json_content(content)\\\\n            if not json_data:\\\\n                st.error(\\\\\\\"ìœ íš¨í•˜ì§€ ì•Šì€ JSON í˜•ì‹ì…ë‹ˆë‹¤.\\\\\\\")\\\\n                st.text(content)\\\\n                return\\\\n\\\\n            view_type = st.session_state.get(\\\\\\\"view_type\\\\\\\")\\\\n\\\\n            if view_type == \\\\\\\"ë¦¬ë·° ê²°ê³¼\\\\\\\":\\\\n                if \\\\\\\"show_raw_json\\\\\\\" not in st.session_state:\\\\n                    st.session_state.show_raw_json = False\\\\n\\\\n                show_raw_json = st.checkbox(\\\\n                    \\\\\\\"ì›ë³¸ JSON ë°ì´í„° ë³´ê¸°\\\\\\\", key=\\\\\\\"show_raw_json\\\\\\\"\\\\n                )\\\\n\\\\n                if show_raw_json:\\\\n                    display_review_result_raw_json(json_data)\\\\n                else:\\\\n                    display_review_result(json_data)\\\\n\\\\n            elif view_type == \\\\\\\"llm_eval ê²°ê³¼\\\\\\\":\\\\n                display_llm_eval_results(json_data)\\\\n        else:\\\\n            # í…ìŠ¤íŠ¸ íŒŒì¼ì€ ê·¸ëŒ€ë¡œ í‘œì‹œ\\\\n            st.text(content)\\\\n\\\\n    except Exception as e:\\\\n        st.error(f\\\\\\\"íŒŒì¼ì„ ì½ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: {str(e)}\\\\\\\")\\\\n\\\\n\\\\ndef sort_file_infos(\\\\n    file_infos: list[dict[str, Any]], sort_option: str\\\\n) -> list[dict[str, Any]]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"íŒŒì¼ ì •ë³´ ëª©ë¡ì„ ì •ë ¬í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    if sort_option == \\\\\\\"ìµœì‹ ìˆœ\\\\\\\":\\\\n        file_infos.sort(key=lambda x: x[\\\\\\\"date\\\\\\\"], reverse=True)\\\\n    elif sort_option == \\\\\\\"ì˜¤ë˜ëœìˆœ\\\\\\\":\\\\n        file_infos.sort(key=lambda x: x[\\\\\\\"date\\\\\\\"])\\\\n    elif sort_option == \\\\\\\"íŒŒì¼ëª…\\\\\\\":\\\\n        file_infos.sort(key=lambda x: x[\\\\\\\"name\\\\\\\"])\\\\n    elif sort_option == \\\\\\\"ëª¨ë¸ëª…\\\\\\\":\\\\n        file_infos.sort(key=lambda x: x[\\\\\\\"model\\\\\\\"])\\\\n    return file_infos\\\\n\\\\n\\\\ndef app():\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"Streamlit ì•± ë©”ì¸ í•¨ìˆ˜\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    st.set_page_config(\\\\n        page_title=\\\\\\\"Reviewer - ì½”ë“œ ë¦¬ë·° ê²°ê³¼\\\\\\\",\\\\n        page_icon=\\\\\\\"ğŸ“\\\\\\\",\\\\n```\\\", \\\"after_code_start_line_number\\\": 178, \\\"after_code_line_numbers\\\": [178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, 323, 324, 325, 326, 327, 328, 329, 330, 331, 332, 333, 334, 335, 336, 337, 338, 339, 340, 341, 342, 343, 344, 345, 346, 347, 348, 349, 350, 351, 352, 353, 354, 355, 356, 357, 358, 359, 360, 361, 362, 363, 364, 365, 366, 367, 368, 369, 370, 371, 372, 373, 374, 375, 376, 377, 378, 379, 380, 381, 382, 383, 384, 385, 386, 387, 388, 389, 390, 391, 392, 393, 394, 395, 396, 397, 398, 399, 400, 401, 402, 403, 404, 405, 406, 407, 408, 409, 410, 411, 412, 413, 414, 415, 416, 417, 418, 419, 420, 421, 422, 423, 424, 425, 426, 427, 428, 429, 430, 431, 432, 433, 434, 435]}, {\\\"hunk_idx\\\": \\\"3\\\", \\\"before_code\\\": \\\"```python\\\\n        initial_sidebar_state=\\\\\\\"expanded\\\\\\\",\\\\n    )\\\\n\\\\n    st.title(\\\\\\\"ì½”ë“œ ë¦¬ë·° ê²°ê³¼\\\\\\\")\\\\n\\\\n    # ê²°ê³¼/ë¡œê·¸/ë¦¬ë·°ìš”ì²­/í”„ë¡¬í”„íŠ¸ ë””ë ‰í† ë¦¬ í‘œì‹œ\\\\n    results_dir = get_default_results_dir()\\\\n    log_dir = get_default_raw_log_dir()\\\\n    review_log_dir = get_default_review_log_dir()\\\\n    request_dir = get_default_review_request_dir()\\\\n    prompt_dir = get_default_review_prompt_dir()\\\\n    st.sidebar.markdown(f\\\\\\\"**ê²°ê³¼ ì €ì¥ ìœ„ì¹˜**: {results_dir}\\\\\\\")\\\\n    st.sidebar.markdown(f\\\\\\\"**ë¡œê·¸ ì €ì¥ ìœ„ì¹˜**: {log_dir}\\\\\\\")\\\\n    st.sidebar.markdown(f\\\\\\\"**ë¦¬ë·° ë¡œê·¸ ì €ì¥ ìœ„ì¹˜**: {review_log_dir}\\\\\\\")\\\\n    st.sidebar.markdown(f\\\\\\\"**reviewRequest ìš”ì²­ ì €ì¥ ìœ„ì¹˜**: {request_dir}\\\\\\\")\\\\n    st.sidebar.markdown(f\\\\\\\"**í”„ë¡¬í”„íŠ¸ ì €ì¥ ìœ„ì¹˜**: {prompt_dir}\\\\\\\")\\\\n    st.sidebar.markdown(\\\\n        f\\\\\\\"**llm_eval ê²°ê³¼ ì €ì¥ ìœ„ì¹˜**: {get_default_llm_eval_data_dir()}\\\\\\\"\\\\n    )\\\\n\\\\n    # ê²°ê³¼/ë¡œê·¸/ë¦¬ë·°ìš”ì²­/í”„ë¡¬í”„íŠ¸ ì„ íƒ\\\\n    view_type = st.sidebar.selectbox(\\\\n        \\\\\\\"ë³´ê¸° ìœ í˜•:\\\\\\\",\\\\n        [\\\\n            \\\\\\\"ë¦¬ë·° ê²°ê³¼\\\\\\\",\\\\n            \\\\\\\"ì‘ë‹µ ë¡œê·¸\\\\\\\",\\\\n            \\\\\\\"reviewRequest\\\\\\\",\\\\n            \\\\\\\"í”„ë¡¬í”„íŠ¸\\\\\\\",\\\\n            \\\\\\\"review log\\\\\\\",\\\\n            \\\\\\\"llm_eval ê²°ê³¼\\\\\\\",\\\\n        ],\\\\n        index=0,\\\\n    )\\\\n\\\\n    # íŒŒì¼ ëª©ë¡ ê°€ì ¸ì˜¤ê¸°\\\\n    if view_type == \\\\\\\"ë¦¬ë·° ê²°ê³¼\\\\\\\":\\\\n        files = get_review_log_files()\\\\n        if not files:\\\\n            st.info(\\\\\\\"ì €ì¥ëœ ë¦¬ë·° ë¡œê·¸ê°€ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n```\\\", \\\"after_code\\\": \\\"```python\\\\n        initial_sidebar_state=\\\\\\\"expanded\\\\\\\",\\\\n    )\\\\n\\\\n    st.title(\\\\\\\"ì½”ë“œ ë¦¬ë·° ê²°ê³¼\\\\\\\")\\\\n\\\\n    # ê²°ê³¼ ë””ë ‰í† ë¦¬ í‘œì‹œ\\\\n    results_dir = get_default_results_dir()\\\\n    review_log_dir = get_default_review_log_dir()\\\\n    st.sidebar.markdown(f\\\\\\\"**ê²°ê³¼ ì €ì¥ ìœ„ì¹˜**: {results_dir}\\\\\\\")\\\\n    st.sidebar.markdown(f\\\\\\\"**ë¦¬ë·° ë¡œê·¸ ì €ì¥ ìœ„ì¹˜**: {review_log_dir}\\\\\\\")\\\\n    st.sidebar.markdown(\\\\n        f\\\\\\\"**llm_eval ê²°ê³¼ ì €ì¥ ìœ„ì¹˜**: {get_default_llm_eval_data_dir()}\\\\\\\"\\\\n    )\\\\n\\\\n    # ê²°ê³¼ ì„ íƒ\\\\n    view_type = st.sidebar.selectbox(\\\\n        \\\\\\\"ë³´ê¸° ìœ í˜•:\\\\\\\",\\\\n        [\\\\n            \\\\\\\"ë¦¬ë·° ê²°ê³¼\\\\\\\",\\\\n            \\\\\\\"llm_eval ê²°ê³¼\\\\\\\",\\\\n        ],\\\\n        index=0,\\\\n    )\\\\n\\\\n    # ë·° íƒ€ì… ì„¸ì…˜ ì €ì¥\\\\n    st.session_state.view_type = view_type\\\\n\\\\n    # íŒŒì¼ ëª©ë¡ ê°€ì ¸ì˜¤ê¸°\\\\n    if view_type == \\\\\\\"ë¦¬ë·° ê²°ê³¼\\\\\\\":\\\\n        files = get_review_log_files()\\\\n        if not files:\\\\n            st.info(\\\\\\\"ì €ì¥ëœ ë¦¬ë·° ë¡œê·¸ê°€ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n```\\\", \\\"after_code_start_line_number\\\": 437, \\\"after_code_line_numbers\\\": [437, 438, 439, 440, 441, 442, 443, 444, 445, 446, 447, 448, 449, 450, 451, 452, 453, 454, 455, 456, 457, 458, 459, 460, 461, 462, 463, 464, 465, 466, 467, 468]}, {\\\"hunk_idx\\\": \\\"4\\\", \\\"before_code\\\": \\\"```python\\\\n            `â€‹``\\\\n            \\\\n            ìì„¸í•œ ì‚¬ìš©ë²•ì€ README.md íŒŒì¼ì„ ì°¸ì¡°í•˜ì„¸ìš”.\\\\n            \\\\\\\"\\\\\\\"\\\\\\\")\\\\n            return\\\\n    elif view_type == \\\\\\\"ì‘ë‹µ ë¡œê·¸\\\\\\\":\\\\n        files = get_log_files()\\\\n        if not files:\\\\n            st.info(\\\\\\\"ì €ì¥ëœ ì‘ë‹µ ë¡œê·¸ê°€ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n            return\\\\n    elif view_type == \\\\\\\"reviewRequest\\\\\\\":\\\\n        files = get_review_request_files()\\\\n        if not files:\\\\n            st.info(\\\\\\\"ì €ì¥ëœ ë¦¬ë·° ìš”ì²­ì´ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n            return\\\\n    elif view_type == \\\\\\\"í”„ë¡¬í”„íŠ¸\\\\\\\":\\\\n        files = get_review_prompt_files()\\\\n        if not files:\\\\n            st.info(\\\\\\\"ì €ì¥ëœ í”„ë¡¬í”„íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n            return\\\\n    elif view_type == \\\\\\\"review log\\\\\\\":\\\\n        files = get_review_log_files()\\\\n        if not files:\\\\n            st.info(\\\\\\\"ì €ì¥ëœ review logê°€ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n            return\\\\n    else:  # llm_eval ê²°ê³¼\\\\n        files = get_llm_eval_data_files()\\\\n        if not files:\\\\n            st.info(\\\\\\\"ì €ì¥ëœ llm_eval ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n            return\\\\n\\\\n    # íŒŒì¼ ëª©ë¡ì„ ì •ë³´ì™€ í•¨ê»˜ ì €ì¥\\\\n    file_infos = [get_file_info(f) for f in files]\\\\n\\\\n    # ì‚¬ì´ë“œë°”ì— íŒŒì¼ ëª©ë¡ í‘œì‹œ\\\\n    st.sidebar.markdown(f\\\\\\\"## {view_type} ëª©ë¡\\\\\\\")\\\\n\\\\n```\\\", \\\"after_code\\\": \\\"```python\\\\n            `â€‹``\\\\n            \\\\n            ìì„¸í•œ ì‚¬ìš©ë²•ì€ README.md íŒŒì¼ì„ ì°¸ì¡°í•˜ì„¸ìš”.\\\\n            \\\\\\\"\\\\\\\"\\\\\\\")\\\\n            return\\\\n    else:  # llm_eval ê²°ê³¼\\\\n        files = get_llm_eval_data_files()\\\\n        if not files:\\\\n            st.info(\\\\\\\"ì €ì¥ëœ llm_eval ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n            return\\\\n\\\\n    # íŒŒì¼ ëª©ë¡ ì •ë³´ ìƒì„±\\\\n    file_infos = [get_file_info(f) for f in files]\\\\n\\\\n    # ì‚¬ì´ë“œë°”ì— íŒŒì¼ ëª©ë¡ í‘œì‹œ\\\\n    st.sidebar.markdown(f\\\\\\\"## {view_type} ëª©ë¡\\\\\\\")\\\\n\\\\n```\\\", \\\"after_code_start_line_number\\\": 475, \\\"after_code_line_numbers\\\": [475, 476, 477, 478, 479, 480, 481, 482, 483, 484, 485, 486, 487, 488, 489, 490, 491]}, {\\\"hunk_idx\\\": \\\"5\\\", \\\"before_code\\\": \\\"```python\\\\n    sort_option = st.sidebar.selectbox(\\\\n        \\\\\\\"ì •ë ¬ ê¸°ì¤€:\\\\\\\", [\\\\\\\"ìµœì‹ ìˆœ\\\\\\\", \\\\\\\"ì˜¤ë˜ëœìˆœ\\\\\\\", \\\\\\\"íŒŒì¼ëª…\\\\\\\", \\\\\\\"ëª¨ë¸ëª…\\\\\\\"], index=0\\\\n    )\\\\n\\\\n    # ì •ë ¬ ì ìš©\\\\n    if sort_option == \\\\\\\"ìµœì‹ ìˆœ\\\\\\\":\\\\n        file_infos.sort(key=lambda x: x[\\\\\\\"date\\\\\\\"], reverse=True)\\\\n    elif sort_option == \\\\\\\"ì˜¤ë˜ëœìˆœ\\\\\\\":\\\\n        file_infos.sort(key=lambda x: x[\\\\\\\"date\\\\\\\"])\\\\n    elif sort_option == \\\\\\\"íŒŒì¼ëª…\\\\\\\":\\\\n        file_infos.sort(key=lambda x: x[\\\\\\\"name\\\\\\\"])\\\\n    elif sort_option == \\\\\\\"ëª¨ë¸ëª…\\\\\\\":\\\\n        file_infos.sort(key=lambda x: x[\\\\\\\"model\\\\\\\"])\\\\n\\\\n    # ì„ íƒ ê°€ëŠ¥í•œ íŒŒì¼ ì˜µì…˜ ìƒì„±\\\\n    file_options = {\\\\n        f\\\\\\\"{info['name']} ({info['date'].strftime('%Y-%m-%d %H:%M')}\\\\\\\": info\\\\n        for info in file_infos\\\\n```\\\", \\\"after_code\\\": \\\"```python\\\\n    sort_option = st.sidebar.selectbox(\\\\n        \\\\\\\"ì •ë ¬ ê¸°ì¤€:\\\\\\\", [\\\\\\\"ìµœì‹ ìˆœ\\\\\\\", \\\\\\\"ì˜¤ë˜ëœìˆœ\\\\\\\", \\\\\\\"íŒŒì¼ëª…\\\\\\\", \\\\\\\"ëª¨ë¸ëª…\\\\\\\"], index=0\\\\n    )\\\\n\\\\n    # ì •ë ¬ ì ìš©\\\\n    file_infos = sort_file_infos(file_infos, sort_option)\\\\n\\\\n    # ì„ íƒ ê°€ëŠ¥í•œ íŒŒì¼ ì˜µì…˜ ìƒì„±\\\\n    file_options = {\\\\n        f\\\\\\\"{info['name']} ({info['date'].strftime('%Y-%m-%d %H:%M')}\\\\\\\": info\\\\n        for info in file_infos\\\\n```\\\", \\\"after_code_start_line_number\\\": 493, \\\"after_code_line_numbers\\\": [493, 494, 495, 496, 497, 498, 499, 500, 501, 502, 503]}, {\\\"hunk_idx\\\": \\\"6\\\", \\\"before_code\\\": \\\"```python\\\\n    # íŒŒì¼ ì„ íƒ ìœ„ì ¯\\\\n    selected_file_name = st.sidebar.selectbox(\\\\n        \\\\\\\"íŒŒì¼ ì„ íƒ:\\\\\\\", list(file_options.keys()), index=0\\\\n    )\\\\n\\\\n    # ì„ íƒëœ íŒŒì¼ ì •ë³´\\\\n    selected_file_info = file_options[selected_file_name]\\\\n    selected_file_path = selected_file_info[\\\\\\\"path\\\\\\\"]\\\\n\\\\n    # íŒŒì¼ ë‚´ìš© ì½ê¸°\\\\n    try:\\\\n        with open(selected_file_path, encoding=\\\\\\\"utf-8\\\\\\\") as f:\\\\n            content = f.read()\\\\n\\\\n        # íŒŒì¼ ì •ë³´ í‘œì‹œ\\\\n        col1, col2, col3 = st.columns(3)\\\\n        with col1:\\\\n            st.markdown(f\\\\\\\"**íŒŒì¼ëª…**: {selected_file_info['name']}\\\\\\\")\\\\n        with col2:\\\\n            st.markdown(\\\\n                f\\\\\\\"**ë‚ ì§œ**: {selected_file_info['date'].strftime('%Y-%m-%d %H:%M')}\\\\\\\"\\\\n            )\\\\n        with col3:\\\\n            st.markdown(f\\\\\\\"**í¬ê¸°**: {selected_file_info['size_str']}\\\\\\\")\\\\n\\\\n        # íŒŒì¼ í˜•ì‹ì— ë”°ë¼ ë‹¤ë¥´ê²Œ í‘œì‹œ\\\\n        format = selected_file_info[\\\\\\\"format\\\\\\\"]\\\\n\\\\n        if format == \\\\\\\"json\\\\\\\":\\\\n            try:\\\\n                # JSON íŒŒì‹±\\\\n                json_data = json.loads(content)\\\\n\\\\n                if view_type == \\\\\\\"ë¦¬ë·° ê²°ê³¼\\\\\\\":\\\\n                    if \\\\\\\"show_raw_json\\\\\\\" not in st.session_state:\\\\n                        st.session_state.show_raw_json = False\\\\n                    show_raw_json = st.checkbox(\\\\n                        \\\\\\\"ì›ë³¸ JSON ë°ì´í„° ë³´ê¸°\\\\\\\", key=\\\\\\\"show_raw_json\\\\\\\"\\\\n                    )\\\\n\\\\n                    if show_raw_json:\\\\n                        st.markdown(\\\\\\\"## ì›ë³¸ JSON ë°ì´í„°\\\\\\\")\\\\n                        data_to_display = copy.deepcopy(json_data)\\\\n                        target_keys_in_order = [\\\\n                            \\\\\\\"prompt\\\\\\\",\\\\n                            \\\\\\\"review_request\\\\\\\",\\\\n                            \\\\\\\"review_response\\\\\\\",\\\\n                        ]\\\\n\\\\n                        for key_to_expand in target_keys_in_order:\\\\n                            if key_to_expand in data_to_display:\\\\n                                value = data_to_display.pop(key_to_expand)\\\\n                                with st.expander(\\\\n                                    f\\\\\\\"{key_to_expand} ë‚´ìš© ë³´ê¸°\\\\\\\", expanded=False\\\\n                                ):\\\\n                                    if key_to_expand == \\\\\\\"prompt\\\\\\\" and isinstance(\\\\n                                        value, list\\\\n                                    ):\\\\n                                        parsed_prompt_list = []\\\\n                                        for p_item in value:\\\\n                                            p_item_copy = copy.deepcopy(p_item)\\\\n                                            if (\\\\n                                                isinstance(p_item_copy, dict)\\\\n                                                and \\\\\\\"content\\\\\\\" in p_item_copy\\\\n                                                and isinstance(\\\\n                                                    p_item_copy[\\\\\\\"content\\\\\\\"], str\\\\n                                                )\\\\n                                            ):\\\\n                                                try:\\\\n                                                    p_item_copy[\\\\\\\"content\\\\\\\"] = json.loads(\\\\n                                                        p_item_copy[\\\\\\\"content\\\\\\\"]\\\\n                                                    )\\\\n                                                except json.JSONDecodeError:\\\\n                                                    pass\\\\n                                            parsed_prompt_list.append(p_item_copy)\\\\n                                        st.json(parsed_prompt_list, expanded=True)\\\\n                                    elif value:  # Check if value is not None or empty\\\\n                                        st.json(value, expanded=True)\\\\n                                    else:\\\\n                                        st.write(\\\\\\\"ë‚´ìš© ì—†ìŒ\\\\\\\")\\\\n\\\\n                        if data_to_display:\\\\n                            st.markdown(\\\\\\\"---\\\\\\\")\\\\n                            st.markdown(\\\\\\\"### ì›ë³¸ ë°ì´í„°\\\\\\\")\\\\n                            st.json(json_data, expanded=False)\\\\n                    else:\\\\n                        if (\\\\n                            \\\\\\\"review_response\\\\\\\" in json_data\\\\n                            and json_data[\\\\\\\"review_response\\\\\\\"]\\\\n                        ):\\\\n                            review_response = ReviewResponse.model_validate(\\\\n                                json_data[\\\\\\\"review_response\\\\\\\"]\\\\n                            )\\\\n                            formatter = ReviewFormatter()\\\\n                            html_content = formatter.to_html(review_response)\\\\n                            st.markdown(html_content, unsafe_allow_html=True)\\\\n                        else:\\\\n                            st.warning(\\\\\\\"ë¦¬ë·° ì‘ë‹µ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n                elif view_type == \\\\\\\"ì‘ë‹µ ë¡œê·¸\\\\\\\":\\\\n                    st.markdown(\\\\\\\"## ì‘ë‹µ ë¡œê·¸ ë‚´ìš©\\\\\\\")\\\\n                    st.json(json_data, expanded=False)\\\\n                elif view_type == \\\\\\\"reviewRequest\\\\\\\":\\\\n                    st.markdown(\\\\\\\"## reviewRequest ë‚´ìš©\\\\\\\")\\\\n                    st.json(json_data, expanded=False)\\\\n                elif view_type == \\\\\\\"í”„ë¡¬í”„íŠ¸\\\\\\\":\\\\n                    st.markdown(\\\\\\\"## í”„ë¡¬í”„íŠ¸ ë‚´ìš©\\\\\\\")\\\\n                    if isinstance(json_data, list):\\\\n                        for item in json_data:\\\\n                            if (\\\\n                                isinstance(item, dict)\\\\n                                and \\\\\\\"content\\\\\\\" in item\\\\n                                and isinstance(item[\\\\\\\"content\\\\\\\"], str)\\\\n                            ):\\\\n                                try:\\\\n                                    item[\\\\\\\"content\\\\\\\"] = json.loads(item[\\\\\\\"content\\\\\\\"])\\\\n                                except json.JSONDecodeError:\\\\n                                    pass\\\\n                    st.json(json_data, expanded=False)\\\\n                elif view_type == \\\\\\\"review log\\\\\\\":\\\\n                    st.markdown(\\\\\\\"## review log\\\\\\\")\\\\n                    data_to_display = copy.deepcopy(json_data)\\\\n\\\\n                    target_keys_in_order = [\\\\n                        \\\\\\\"prompt\\\\\\\",\\\\n                        \\\\\\\"review_request\\\\\\\",\\\\n                        \\\\\\\"review_response\\\\\\\",\\\\n                    ]\\\\n\\\\n                    for key_to_expand in target_keys_in_order:\\\\n                        if key_to_expand in data_to_display:\\\\n                            value = data_to_display.pop(key_to_expand)\\\\n                            with st.expander(\\\\n                                f\\\\\\\"{key_to_expand} ë‚´ìš© ë³´ê¸°\\\\\\\", expanded=False\\\\n                            ):\\\\n                                if key_to_expand == \\\\\\\"prompt\\\\\\\":\\\\n                                    parsed_prompt_content = []\\\\n                                    if isinstance(value, list):\\\\n                                        for item_prompt in value:\\\\n                                            item_c = copy.deepcopy(item_prompt)\\\\n                                            if (\\\\n                                                isinstance(item_c, dict)\\\\n                                                and \\\\\\\"content\\\\\\\" in item_c\\\\n                                                and isinstance(item_c[\\\\\\\"content\\\\\\\"], str)\\\\n                                            ):\\\\n                                                try:\\\\n                                                    item_c[\\\\\\\"content\\\\\\\"] = json.loads(\\\\n                                                        item_c[\\\\\\\"content\\\\\\\"]\\\\n                                                    )\\\\n                                                except json.JSONDecodeError:\\\\n                                                    pass\\\\n                                            parsed_prompt_content.append(item_c)\\\\n                                        st.json(parsed_prompt_content, expanded=True)\\\\n                                    else:\\\\n                                        st.json(value, expanded=True)  # Fallback\\\\n                                elif key_to_expand == \\\\\\\"review_response\\\\\\\":\\\\n                                    if value:\\\\n                                        try:\\\\n                                            review_response_obj = (\\\\n                                                ReviewResponse.model_validate(value)\\\\n                                            )\\\\n                                            formatter = ReviewFormatter()\\\\n                                            html_content = formatter.to_html(\\\\n                                                review_response_obj\\\\n                                            )\\\\n                                            st.markdown(\\\\n                                                html_content, unsafe_allow_html=True\\\\n                                            )\\\\n                                            with st.expander(\\\\n                                                f\\\\\\\"{key_to_expand} ì›ë³¸ JSON ë³´ê¸°\\\\\\\",\\\\n                                                expanded=False,\\\\n                                            ):\\\\n                                                st.json(value, expanded=True)\\\\n                                        except Exception:\\\\n                                            st.json(\\\\n                                                value, expanded=True\\\\n                                            )  # Fallback to raw JSON\\\\n                                    else:\\\\n                                        st.write(\\\\\\\"ë‚´ìš© ì—†ìŒ\\\\\\\")\\\\n                                elif (\\\\n                                    value\\\\n                                ):  # For review_request and other potential future keys\\\\n                                    st.json(value, expanded=True)\\\\n                                else:\\\\n                                    st.write(\\\\\\\"ë‚´ìš© ì—†ìŒ\\\\\\\")\\\\n\\\\n                    if data_to_display:\\\\n                        st.markdown(\\\\\\\"---\\\\\\\")\\\\n                        st.markdown(\\\\\\\"### ê¸°íƒ€ ë¡œê·¸ ì •ë³´\\\\\\\")\\\\n                        st.json(data_to_display, expanded=False)\\\\n                elif view_type == \\\\\\\"llm_eval ê²°ê³¼\\\\\\\":\\\\n                    st.markdown(\\\\\\\"## llm_eval ê²°ê³¼ ë‚´ìš©\\\\\\\")\\\\n\\\\n                    # ì›ë³¸ ë°ì´í„°ì˜ ê¹Šì€ ë³µì‚¬ë³¸ì„ ë§Œë“¤ì–´ í•„í„°ë§ ë° í‘œì‹œì— ì‚¬ìš©\\\\n                    display_data = copy.deepcopy(json_data)\\\\n\\\\n                    num_total_cases = 0\\\\n                    if (\\\\n                        isinstance(json_data, dict)\\\\n                        and \\\\\\\"testCases\\\\\\\" in json_data\\\\n                        and isinstance(json_data[\\\\\\\"testCases\\\\\\\"], list)\\\\n                    ):\\\\n                        num_total_cases = len(json_data[\\\\\\\"testCases\\\\\\\"])\\\\n\\\\n                    col_checkbox, col_count = st.columns(\\\\n                        [0.8, 0.2]\\\\n                    )  # ì²´í¬ë°•ìŠ¤ì™€ ì¹´ìš´íŠ¸ ì»¬ëŸ¼ ë¹„ìœ¨ ì¡°ì •\\\\n\\\\n                    with col_checkbox:\\\\n                        filter_failed_tests = st.checkbox(\\\\n                            \\\\\\\"ì‹¤íŒ¨í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë§Œ ë³´ê¸° (success=false)\\\\\\\",\\\\n                            key=\\\\\\\"llm_eval_filter_checkbox\\\\\\\",\\\\n                        )\\\\n\\\\n                    surviving_test_cases = []\\\\n                    if filter_failed_tests:\\\\n                        if (\\\\n                            isinstance(display_data, dict)\\\\n                            and \\\\\\\"testCases\\\\\\\" in display_data\\\\n                            and isinstance(display_data[\\\\\\\"testCases\\\\\\\"], list)\\\\n                        ):\\\\n                            surviving_test_cases = []\\\\n                            for tc_original in display_data[\\\\n                                \\\\\\\"testCases\\\\\\\"\\\\n                            ]:  # ì›ë³¸ ë¦¬ìŠ¤íŠ¸ ìˆœíšŒ\\\\n                                if (\\\\n                                    isinstance(tc_original, dict)\\\\n                                    and tc_original.get(\\\\\\\"success\\\\\\\") is False\\\\n                                ):\\\\n                                    # testCase.successê°€ falseì¸ ê²½ìš°ì—ë§Œ tc_to_add ë¡œì§ ìˆ˜í–‰\\\\n                                    tc_to_add = copy.deepcopy(\\\\n                                        tc_original\\\\n                                    )  # ë³µì‚¬ë³¸ ì‚¬ìš©\\\\n\\\\n                                    # metricsData ë‚´ë¶€ë¥¼ successê°€ falseì¸ í•­ëª©ë§Œ ë‚¨ë„ë¡ í•„í„°ë§\\\\n                                    if \\\\\\\"metricsData\\\\\\\" in tc_to_add and isinstance(\\\\n                                        tc_to_add[\\\\\\\"metricsData\\\\\\\"], list\\\\n                                    ):\\\\n                                        filtered_metrics = [\\\\n                                            m\\\\n                                            for m in tc_to_add[\\\\\\\"metricsData\\\\\\\"]\\\\n                                            if isinstance(m, dict)\\\\n                                            and m.get(\\\\\\\"success\\\\\\\") is False\\\\n                                        ]\\\\n                                        # metricsDataê°€ ë¹„ì–´ìˆì§€ ì•Šê±°ë‚˜, ì›ë˜ metricsDataê°€ ìˆì—ˆë˜ ê²½ìš°ì—ë§Œ í• ë‹¹\\\\n                                        # (í•­ìƒ metricsData í‚¤ë¥¼ ìœ ì§€í•˜ê³  ì‹¶ë‹¤ë©´ ì´ ì¡°ê±´ë¬¸ ì œê±° ê°€ëŠ¥)\\\\n                                        if (\\\\n                                            filtered_metrics\\\\n                                            or tc_to_add.get(\\\\\\\"metricsData\\\\\\\") is not None\\\\n                                        ):\\\\n                                            tc_to_add[\\\\\\\"metricsData\\\\\\\"] = filtered_metrics\\\\n                                        elif (\\\\n                                            not filtered_metrics\\\\n                                            and tc_to_add.get(\\\\\\\"metricsData\\\\\\\") is not None\\\\n                                        ):\\\\n                                            # ëª¨ë“  ë©”íŠ¸ë¦­ì´ trueì—¬ì„œ filtered_metricsê°€ ë¹„ì—ˆì§€ë§Œ, ì›ë˜ metricsDataê°€ ìˆì—ˆë‹¤ë©´ ë¹ˆ ë¦¬ìŠ¤íŠ¸ë¡œ ì„¤ì •\\\\n                                            tc_to_add[\\\\\\\"metricsData\\\\\\\"] = []\\\\n\\\\n                                    surviving_test_cases.append(tc_to_add)\\\\n\\\\n                            display_data[\\\\\\\"testCases\\\\\\\"] = surviving_test_cases\\\\n                            num_displayed_cases = len(\\\\n                                display_data[\\\\\\\"testCases\\\\\\\"]\\\\n                            )  # í•„í„°ë§ í›„ ê°œìˆ˜ ì—…ë°ì´íŠ¸\\\\n                        count_caption_text = f\\\\\\\"(í‘œì‹œ: {num_displayed_cases} / ì´: {num_total_cases}ê±´, ì‹¤íŒ¨ë§Œ)\\\\\\\"\\\\n                    else:\\\\n                        # ì²´í¬ë°•ìŠ¤ í•´ì œ ì‹œì—ëŠ” ì›ë³¸ metricsDataë¥¼ ë³´ì—¬ì£¼ê¸° ìœ„í•´ display_dataë¥¼ json_dataì˜ ë³µì‚¬ë³¸ìœ¼ë¡œ ë‹¤ì‹œ ì„¤ì •í•  í•„ìš”ëŠ” ì—†ìŒ\\\\n                        # ì–´ì°¨í”¼ ë§¤ë²ˆ json_dataì˜ deepcopyë¡œ ì‹œì‘í•¨.\\\\n                        count_caption_text = f\\\\\\\"(ì´ {num_total_cases}ê±´)\\\\\\\"\\\\n\\\\n                    with col_count:\\\\n                        st.caption(count_caption_text)\\\\n\\\\n                    # í•„í„°ë§ë˜ì—ˆê±°ë‚˜ ì „ì²´ testCasesì— ëŒ€í•´ ë‚´ë¶€ í•„ë“œ íŒŒì‹± ì ìš©\\\\n                    if (\\\\n                        isinstance(display_data, dict)\\\\n                        and \\\\\\\"testCases\\\\\\\" in display_data\\\\n                        and isinstance(display_data[\\\\\\\"testCases\\\\\\\"], list)\\\\n                    ):\\\\n                        for test_case in display_data[\\\\\\\"testCases\\\\\\\"]:\\\\n                            if isinstance(test_case, dict):\\\\n                                # input í•„ë“œ ì²˜ë¦¬: í”„ë¡¬í”„íŠ¸ì™€ ìœ ì‚¬í•œ êµ¬ì¡°ë¡œ íŒŒì‹±\\\\n                                if \\\\\\\"input\\\\\\\" in test_case and isinstance(\\\\n                                    test_case[\\\\\\\"input\\\\\\\"], str\\\\n                                ):\\\\n                                    try:\\\\n                                        parsed_input = json.loads(test_case[\\\\\\\"input\\\\\\\"])\\\\n                                        if isinstance(parsed_input, list):\\\\n                                            for item in parsed_input:\\\\n                                                if (\\\\n                                                    isinstance(item, dict)\\\\n                                                    and \\\\\\\"content\\\\\\\" in item\\\\n                                                    and isinstance(item[\\\\\\\"content\\\\\\\"], str)\\\\n                                                ):\\\\n                                                    try:\\\\n                                                        item[\\\\\\\"content\\\\\\\"] = json.loads(\\\\n                                                            item[\\\\\\\"content\\\\\\\"]\\\\n                                                        )\\\\n                                                    except json.JSONDecodeError:\\\\n                                                        pass\\\\n                                        test_case[\\\\\\\"input\\\\\\\"] = parsed_input\\\\n                                    except json.JSONDecodeError:\\\\n                                        pass\\\\n\\\\n                                # actualOutput í•„ë“œ ì²˜ë¦¬\\\\n                                if \\\\\\\"actualOutput\\\\\\\" in test_case and isinstance(\\\\n                                    test_case[\\\\\\\"actualOutput\\\\\\\"], str\\\\n                                ):\\\\n                                    try:\\\\n                                        test_case[\\\\\\\"actualOutput\\\\\\\"] = json.loads(\\\\n                                            test_case[\\\\\\\"actualOutput\\\\\\\"]\\\\n                                        )\\\\n                                    except json.JSONDecodeError:\\\\n                                        pass\\\\n                    st.json(display_data, expanded=False)\\\\n            except json.JSONDecodeError:\\\\n                # JSON íŒŒì‹± ì‹¤íŒ¨ ì‹œ ì¼ë°˜ í…ìŠ¤íŠ¸ë¡œ í‘œì‹œ\\\\n                st.text(content)\\\\n        elif format == \\\\\\\"html\\\\\\\":\\\\n            # HTMLì€ iframeìœ¼ë¡œ í‘œì‹œ\\\\n            # st.html(content, height=600, scrolling=True) # ì´ì „ ì½”ë“œ\\\\n            # HTML ë¬¸ìì—´ì— ì§ì ‘ ìŠ¤íƒ€ì¼ì„ ì ìš©í•˜ì—¬ ë†’ì´ì™€ ìŠ¤í¬ë¡¤ ì œì–´\\\\n            html_content_with_style = f\\\\\\\"\\\\\\\"\\\\\\\"\\\\n            <div style=\\\\\\\"height: 600px; overflow-y: scroll;\\\\\\\">\\\\n                {content}\\\\n            </div>\\\\n            \\\\\\\"\\\\\\\"\\\\\\\"\\\\n            # st.html(html_content_with_style, height=610) # ì´ì „ ì½”ë“œ\\\\n            st.markdown(html_content_with_style, unsafe_allow_html=True)\\\\n        else:\\\\n            # ë§ˆí¬ë‹¤ìš´ ë˜ëŠ” ë‹¤ë¥¸ í˜•ì‹ì€ ë§ˆí¬ë‹¤ìš´ìœ¼ë¡œ í‘œì‹œ\\\\n            st.markdown(content, unsafe_allow_html=True)\\\\n\\\\n    except Exception as e:\\\\n        st.error(f\\\\\\\"íŒŒì¼ì„ ì½ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: {str(e)}\\\\\\\")\\\\n\\\\n\\\\ndef run_app() -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"Streamlit ì•±ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    import os\\\\n    import subprocess\\\\n    import sys\\\\n\\\\n    # í˜„ì¬ íŒŒì¼ì˜ ê²½ë¡œ\\\\n    file_path = os.path.abspath(__file__)\\\\n\\\\n    # í¬íŠ¸ í™˜ê²½ë³€ìˆ˜ ê°€ì ¸ì˜¤ê¸°\\\\n    port = os.environ.get(\\\\\\\"STREAMLIT_SERVER_PORT\\\\\\\", \\\\\\\"8501\\\\\\\")\\\\n\\\\n    # Streamlit ì‹¤í–‰\\\\n    cmd = [\\\\n        sys.executable,\\\\n        \\\\\\\"-m\\\\\\\",\\\\n        \\\\\\\"streamlit\\\\\\\",\\\\n        \\\\\\\"run\\\\\\\",\\\\n```\\\", \\\"after_code\\\": \\\"```python\\\\n    # íŒŒì¼ ì„ íƒ ìœ„ì ¯\\\\n    selected_file_name = st.sidebar.selectbox(\\\\n        \\\\\\\"íŒŒì¼ ì„ íƒ:\\\\\\\", list(file_options.keys()), index=0\\\\n    )\\\\n\\\\n    # ì„ íƒëœ íŒŒì¼ ì •ë³´ì™€ ë‚´ìš© í‘œì‹œ\\\\n    selected_file_info = file_options[selected_file_name]\\\\n    display_file_info(selected_file_info)\\\\n    load_and_display_file_content(selected_file_info[\\\\\\\"path\\\\\\\"])\\\\n\\\\n\\\\ndef run_app() -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"Streamlit ì•±ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    import os\\\\n    import subprocess\\\\n    import sys\\\\n\\\\n    file_path = os.path.abspath(__file__)\\\\n    port = os.environ.get(\\\\\\\"STREAMLIT_SERVER_PORT\\\\\\\", \\\\\\\"8501\\\\\\\")\\\\n\\\\n    cmd = [\\\\n        sys.executable,\\\\n        \\\\\\\"-m\\\\\\\",\\\\n        \\\\\\\"streamlit\\\\\\\",\\\\n        \\\\\\\"run\\\\\\\",\\\\n```\\\", \\\"after_code_start_line_number\\\": 506, \\\"after_code_line_numbers\\\": [506, 507, 508, 509, 510, 511, 512, 513, 514, 515, 516, 517, 518, 519, 520, 521, 522, 523, 524, 525, 526, 527, 528, 529, 530]}]}\"}]",
    "actual_output": "{\"issues\": [{\"type\": \"design\", \"line_number\": 89, \"file\": \"reviewer/src/ui.py\", \"description\": \"íŒŒì¼ëª…ì—ì„œ ëª¨ë¸ ì´ë¦„ì„ ì¶”ì¶œí•˜ëŠ” ë¡œì§ì´ íŠ¹ì • íŒ¨í„´ì—ë§Œ ì˜ì¡´í•˜ë©°, ë§ˆì§€ë§‰ ë¶€ë¶„ì´ ìˆ«ìê°€ ì•„ë‹ˆë©´ ëª¨ë¸ëª…ìœ¼ë¡œ ê°„ì£¼í•˜ëŠ” ë¶€ë¶„ì´ ë¶€ì •í™•í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆìƒì¹˜ ëª»í•œ íŒŒì¼ëª… í˜•ì‹ì— ëŒ€í•´ ëª¨ë¸ ì´ë¦„ ì¶”ì¶œì´ ì‹¤íŒ¨í•˜ê±°ë‚˜ ì˜ëª»ëœ ê²°ê³¼ë¥¼ ë°˜í™˜í•  ê°€ëŠ¥ì„±ì´ ìˆìŠµë‹ˆë‹¤.\", \"suggestion\": \"íŒŒì¼ëª… ëª…ëª… ê·œì¹™ì„ ëª…í™•íˆ ì •ì˜í•˜ê³ , í•´ë‹¹ ê·œì¹™ì— ë§ì¶° ëª¨ë¸ ì´ë¦„ì„ ë” ì •í™•í•˜ê²Œ íŒŒì‹±í•˜ëŠ” ë¡œì§ì„ êµ¬í˜„í•˜ê±°ë‚˜, íŒŒì‹± ì‹¤íŒ¨ ì‹œ ê¸°ë³¸ê°’ ì²˜ë¦¬ ë“±ì„ ê°œì„ í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤. ë˜ëŠ” íŒŒì¼ëª… ê·œì¹™ì„ UIì— ëª…ì‹œí•˜ì—¬ ì‚¬ìš©ìê°€ ì´í•´í•˜ë„ë¡ ë•ëŠ” ë°©ë²•ë„ ìˆìŠµë‹ˆë‹¤.\", \"severity\": \"warning\", \"target_code\": \"def extract_model_name_from_filename(filename: str, date_parts_count: int = 0) -> str:\", \"suggested_code\": null}, {\"type\": \"style\", \"line_number\": 285, \"file\": \"reviewer/src/ui.py\", \"description\": \"`st.html` í•¨ìˆ˜ëŠ” ë” ì´ìƒ ì‚¬ìš©ë˜ì§€ ì•Šìœ¼ë©°, ëŒ€ì‹  `st.markdown`ì— `unsafe_allow_html=True` ì˜µì…˜ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ê¶Œì¥ë©ë‹ˆë‹¤.\", \"suggestion\": \"`st.html` í˜¸ì¶œì„ `st.markdown`ìœ¼ë¡œ ë³€ê²½í•˜ì—¬ ìµœì‹  Streamlit APIë¥¼ ë”°ë¥´ë„ë¡ ìˆ˜ì •í•˜ì„¸ìš”.\", \"severity\": \"info\", \"target_code\": \"st.html(html_content)\", \"suggested_code\": \"st.markdown(html_content, unsafe_allow_html=True)\"}, {\"type\": \"bug\", \"line_number\": 136, \"file\": \"reviewer/src/ui.py\", \"description\": \"`determine_file_format` í•¨ìˆ˜ì—ì„œ ë„“ì€ ë²”ìœ„ì˜ `Exception`ì„ í¬ì°©í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ì˜ˆìƒì¹˜ ëª»í•œ ì˜¤ë¥˜ë¥¼ ìˆ¨ê¸°ê³  ë””ë²„ê¹…ì„ ì–´ë µê²Œ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\", \"suggestion\": \"íŠ¹ì • ì˜ˆì™¸(ì˜ˆ: `FileNotFoundError`, `PermissionError` ë“±)ë§Œ í¬ì°©í•˜ê±°ë‚˜, ì˜ˆì™¸ ë°œìƒ ì‹œ ë¡œê¹…ì„ ì¶”ê°€í•˜ì—¬ ì–´ë–¤ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆëŠ”ì§€ íŒŒì•…í•  ìˆ˜ ìˆë„ë¡ ê°œì„ í•˜ì„¸ìš”.\", \"severity\": \"warning\", \"target_code\": \"except Exception:\", \"suggested_code\": \"except Exception as e:\\n    logger.error(f\\\"Error determining file format for {file_path}: {e}\\\")\\n    return \\\"txt\\\"\"}], \"summary\": \"Streamlit UI ì½”ë“œì—ì„œ íŒŒì¼ ì •ë³´ ì¶”ì¶œ ë° í‘œì‹œ ë¡œì§ì„ ì—¬ëŸ¬ í•¨ìˆ˜ë¡œ ë¶„ë¦¬í•˜ì—¬ ëª¨ë“ˆì„±ê³¼ ê°€ë…ì„±ì„ í¬ê²Œ ê°œì„ í–ˆìŠµë‹ˆë‹¤. ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ì½”ë“œì™€ ë³´ê¸° ìœ í˜•ì„ ì œê±°í•˜ì—¬ ì½”ë“œë¥¼ ê°„ì†Œí™”í–ˆìŠµë‹ˆë‹¤. íŒŒì¼ëª… íŒŒì‹±ì˜ ê²¬ê³ ì„±, deprecated í•¨ìˆ˜ ì‚¬ìš©, ë„“ì€ ë²”ìœ„ì˜ ì˜ˆì™¸ ì²˜ë¦¬ ë“± ëª‡ ê°€ì§€ ê°œì„ í•  ë¶€ë¶„ì´ ìˆìŠµë‹ˆë‹¤.\", \"score\": 8.0, \"recommendations\": [\"íŒŒì¼ëª… íŒŒì‹± ë¡œì§ì˜ ê²¬ê³ ì„±ì„ ë†’ì´ê±°ë‚˜, ì˜ˆìƒë˜ëŠ” íŒŒì¼ëª… íŒ¨í„´ì— ëŒ€í•œ ë¬¸ì„œë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.\", \"ë„“ì€ ë²”ìœ„ì˜ `except Exception` ëŒ€ì‹  ë” êµ¬ì²´ì ì¸ ì˜ˆì™¸ë¥¼ ì²˜ë¦¬í•˜ê±°ë‚˜, ì˜ˆì™¸ ë°œìƒ ì‹œ ìƒì„¸í•œ ë¡œê¹…ì„ ì¶”ê°€í•˜ì—¬ ë””ë²„ê¹…ì„ ìš©ì´í•˜ê²Œ í•©ë‹ˆë‹¤.\", \"ìƒˆë¡œ ì¶”ê°€ëœ í•¨ìˆ˜ë“¤ì— ëŒ€í•œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ì—¬ ê° í•¨ìˆ˜ì˜ ê¸°ëŠ¥ì´ ì˜ˆìƒëŒ€ë¡œ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.\"]}"
  },
  {
    "input": "[{\"role\": \"system\", \"content\": \"ë‹¹ì‹ ì€ ìˆ™ë ¨ëœ ì½”ë“œ ë¦¬ë·°ì–´ì…ë‹ˆë‹¤. ì œê³µëœ ì…ë ¥(JSON) ë°ì´í„°ë¥¼ ë¶„ì„í•˜ì—¬ ì½”ë“œ í’ˆì§ˆ, ë²„ê·¸, ë³´ì•ˆ ë¬¸ì œ, ì„±ëŠ¥ ì´ìŠˆ ë“± ì£¼ìš” ë¬¸ì œì ì„ ì¢…í•©ì ìœ¼ë¡œ í‰ê°€í•˜ê³ , ê°œì„  ë°©í–¥ì— ëŒ€í•´ ììœ ë¡­ê²Œ ì˜ê²¬ì„ ì œì‹œí•˜ì„¸ìš”.\\n\\nì¤‘ìš” ê·œì¹™\\n  - ëª¨ë“  ì‘ë‹µì€ ë°˜ë“œì‹œ í•œêµ­ì–´ë¡œ ì‘ì„±í•´ì•¼ í•©ë‹ˆë‹¤. ì˜ì–´ë‚˜ ë‹¤ë¥¸ ì–¸ì–´ë¡œ ì‘ë‹µí•˜ì§€ ë§ˆì„¸ìš”.\\n  - ì´ìŠˆ ì„¤ëª…(description) ë° ì œì•ˆ(suggestion)ì˜ ëª…í™•ì„±(Clarity): ë…ìê°€ ì‰½ê²Œ ì´í•´í•  ìˆ˜ ìˆë„ë¡ ê°„ê²°í•˜ê³  ëª…í™•í•œ ì–¸ì–´ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”. \\n  - ì½”ë“œ ì˜ˆì‹œ ì œê³µ: suggestionì´ ì½”ë“œ ë³€ê²½ì„ í¬í•¨í•œë‹¤ë©´, issues ê°ì²´ì˜ suggested_code í•„ë“œë¥¼ ì ê·¹ í™œìš©í•˜ì„¸ìš”. ë§Œì•½ issuesê°€ ì—†ë‹¤ë©´, recommendations í•­ëª©ì—ì„œ ì „ë°˜ì ì¸ ê°œì„  ë°©í–¥ê³¼ í•¨ê»˜ ì°¸ê³ í•  ë§Œí•œ ì½”ë“œ ìŠ¤íƒ€ì¼ ë˜ëŠ” ê°„ë‹¨í•œ ê°œì„  ì½”ë“œ ì˜ˆì‹œë¥¼ ì œì‹œí•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤. (ì˜ˆ: \\\"ê¶Œì¥ ì‚¬í•­: ì „ë°˜ì ìœ¼ë¡œ ë³€ìˆ˜ëª…ì— snake_caseë¥¼ ì¼ê´€ë˜ê²Œ ì‚¬ìš©í•˜ë©´ ê°€ë…ì„±ì´ í–¥ìƒë©ë‹ˆë‹¤. (ì˜ˆ: existingVariable -> existing_variable)\\\")\\n----------------------\\n### ì…ë ¥(JSON) êµ¬ì¡°\\n```json\\n{\\n  \\\"file_name\\\":   string,             // ë³€ê²½ì´ ë°œìƒí•œ íŒŒì¼ ê²½ë¡œ, ì‘ë‹µ JSONì˜ issues ê°ì²´ ë‚´ file í•„ë“œì— ì´ ê°’ì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.\\n  \\\"file_content\\\": string,            // ì‚¬ìš©ìê°€ **ìˆ˜ì • í›„** ì €ì¥í•œ íŒŒì¼ì˜ ì „ì²´ ë‚´ìš©, ë³€ê²½ëœ ì½”ë“œ ì£¼ë³€ì˜ ì „ì²´ì ì¸ ë§¥ë½ì„ íŒŒì•…í•˜ëŠ” ë° ì°¸ê³ ìš©\\n  \\\"formatted_hunks\\\": [ // Git diff ì •ë³´ë¥¼ êµ¬ì¡°í™”í•œ ë°°ì—´\\n    {\\n      \\\"hunk_idx\\\":     string,  // (ë¬´ì‹œ ê°€ëŠ¥) ë‚´ë¶€ ì‹ë³„ì\\n      \\\"after_code_start_line_number\\\":  int,     // after_codeê°€ file_content ë‚´ì—ì„œ ì‹œì‘í•˜ëŠ” ë¼ì¸ ë²ˆí˜¸\\n      \\\"before_code\\\":  string,  // **ìˆ˜ì • ì „** ì½”ë“œ\\n      \\\"after_code\\\":   string   // **ìˆ˜ì • í›„** ì½”ë“œ â€” âŸµ ë¦¬ë·° ëŒ€ìƒ\\n      // ê·¸ ë°–ì˜ í•„ë“œëŠ” ìˆì–´ë„ ë¬´ì‹œí•´ë„ ë©ë‹ˆë‹¤.\\n    },\\n    ...\\n  ]\\n}\\n```\\n\\nê·œì¹™ \\n- ë°˜ë“œì‹œ **after_code ìœ„ì£¼**ë¡œ ë¶„ì„â€§ë¦¬ë·°í•˜ì„¸ìš”. before_codeì™€ file_contentëŠ” ì°¸ê³  ì»¨í…ìŠ¤íŠ¸ë¡œë§Œ í™œìš©í•©ë‹ˆë‹¤.\\n- ë§Œì•½ before_code, file_contentì— ì œì•ˆ ì‚¬í•­ì´ ìˆë‹¤ë©´ recommendationsì— ëª…ì‹œí•´ì£¼ì„¸ìš”.\\n----------------------\\n### ì¶œë ¥(JSON) í˜•ì‹\\nê° ì´ìŠˆëŠ” ë‹¤ìŒ ì •ë³´ë¥¼ í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤:\\n- type: ì´ìŠˆ ìœ í˜• (ë°˜ë“œì‹œ bug, security, performance, style, design ì¤‘ í•˜ë‚˜)\\n- line_number: ë¬¸ì œê°€ ìˆëŠ” ì½”ë“œì˜ ë¼ì¸ ë²ˆí˜¸, file_content ì „ì²´ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í•˜ëŠ” ì ˆëŒ€ì ì¸ ë¼ì¸ ë²ˆí˜¸ (ìˆ«ì, ì•Œ ìˆ˜ ì—†ìœ¼ë©´ null)\\n- file: ë¬¸ì œê°€ ìˆëŠ” íŒŒì¼ ì´ë¦„ (ì •í™•í•œ ê²½ë¡œ, ì„ì˜ ì´ë¦„ ê¸ˆì§€)\\n- description: ì´ìŠˆì— ëŒ€í•œ ìì„¸í•œ ì„¤ëª…\\n- suggestion: ë¬¸ì œ í•´ê²°ì„ ìœ„í•œ êµ¬ì²´ì ì¸ ì œì•ˆ\\n- severity: ì´ìŠˆì˜ ì‹¬ê°ë„ (info, warning, error ì¤‘ í•˜ë‚˜)\\n- target_code    : ë¦¬ë·° ëŒ€ìƒ ì½”ë“œ ìŠ¤ë‹ˆí«(after_code ì¤‘ ë¬¸ì œ ë¶€ë¶„)\\n- suggested_code : ê°œì„  ì œì•ˆì´ ë°˜ì˜ëœ ì½”ë“œ ìŠ¤ë‹ˆí«\\n\\në˜í•œ ë‹¤ìŒ ì •ë³´ë„ ì œê³µí•´ì•¼ í•©ë‹ˆë‹¤:\\n- summary: ì „ì²´ ì½”ë“œ ë³€ê²½ì— ëŒ€í•œ ìš”ì•½\\n- score: ì½”ë“œ í’ˆì§ˆì— ëŒ€í•œ 0-10 ì‚¬ì´ì˜ ì ìˆ˜\\n- recommendations: ì „ë°˜ì ì¸ ê°œì„ ì„ ìœ„í•œ ê¶Œì¥ì‚¬í•­ ëª©ë¡ (í•„ìš”ì‹œ ì½”ë“œ ì˜ˆì‹œ í¬í•¨)\\n\\n---------------------\\n### ì¶œë ¥(JSON) ì˜ˆì‹œ\\n\\n```json\\n{\\n  \\\"issues\\\": [\\n    {\\n      \\\"type\\\": \\\"ë²„ê·¸\\\",\\n      \\\"line_number\\\": 42,\\n      \\\"file\\\": \\\"src/app.py\\\",\\n      \\\"description\\\": \\\"NullPointerException ê°€ëŠ¥ì„±ì´ ìˆìŠµë‹ˆë‹¤.\\\",\\n      \\\"suggestion\\\": \\\"ë³€ìˆ˜ê°€ nullì¸ì§€ í™•ì¸ í›„ ì‚¬ìš©í•˜ì„¸ìš”.\\\",\\n      \\\"severity\\\": \\\"error\\\",\\n      \\\"target_code\\\": \\\"if (user.isActive) { ... }\\\",\\n      \\\"suggested_code\\\": \\\"if (user != null && user.isActive) { ... }\\\"\\n    }\\n  ],\\n  \\\"summary\\\": \\\"ë¡œê·¸ì¸ ë¡œì§ ê°œì„  ë° ì˜ˆì™¸ ì²˜ë¦¬ ê°•í™” í•„ìš”.\\\",\\n  \\\"score\\\": 7,\\n  \\\"recommendations\\\": [\\\"ëª¨ë“  ì…ë ¥ê°’ì— ëŒ€í•œ null ì²´í¬ ê°•í™”\\\", \\\"í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì¶”ê°€\\\"]\\n}\\n```\\n---------------------\\n## ê·œì¹™\\n1. ì´ìŠˆ ì„¤ëª…ê³¼ ì œì•ˆì€ êµ¬ì²´ì ì´ê³  ëª…í™•í•˜ê²Œ ì‘ì„±í•˜ì„¸ìš”. ëª¨í˜¸í•œ í‘œí˜„ì´ë‚˜ ì¼ë°˜ì ì¸ ì¡°ì–¸ì€ í”¼í•˜ê³ , ì½”ë“œì˜ íŠ¹ì • ë¶€ë¶„(target_code)ì„ ì–¸ê¸‰í•˜ë©° ì‹¤ì§ˆì ì¸ ê°œì„  ë°©ì•ˆ(suggested_code)ì„ ì œì‹œí•˜ì„¸ìš”.\\n2. JSON ì™¸ ë‹¤ë¥¸ í˜•ì‹ì˜ ì¶œë ¥(í…ìŠ¤íŠ¸, ë§ˆí¬ë‹¤ìš´ ë“±)ì„ ì ˆëŒ€ í¬í•¨í•˜ì§€ ë§ˆì„¸ìš”.\\n3. target_codeì™€ suggested_code ê°’ì—ëŠ” ìˆœìˆ˜í•œ ì½”ë“œ ë¬¸ìì—´ë§Œ í¬í•¨í•©ë‹ˆë‹¤. ì½”ë“œ ìŠ¤ë‹ˆí« ì‹œì‘ê³¼ ëì— ë¶ˆí•„ìš”í•œ ë¹ˆ ì¤„ì„ ë„£ì§€ ë§ê³ , ë°±í‹±(```)ì´ë‚˜ ê¸°íƒ€ ë§ˆí¬ë‹¤ìš´ìœ¼ë¡œ ê°ì‹¸ì§€ ë§ˆì„¸ìš”.\\n4. íŠ¹ë³„íˆ ì§€ì í•  ì´ìŠˆê°€ ì—†ë‹¤ë©´ \\\"issues\\\": [] ë¡œ ë¹„ì›Œ ë‘ê³ , summary ì— â€œì½”ë“œ ë³€ê²½ ì‚¬í•­ì—ì„œ íŠ¹ë³„í•œ ì´ìŠˆë¥¼ ë°œê²¬í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.â€ì™€ ê°™ì´ ëª…ì‹œí•˜ì„¸ìš”.\\n5. ë¦¬ë·° ëŒ€ìƒì€ after_code ì…ë‹ˆë‹¤. before_codeì™€ file_contentëŠ” ì°¸ê³ ìš©ì…ë‹ˆë‹¤.\\n6. íŒŒì¼ëª…(file)ì€ ì£¼ì–´ì§„ ê°’ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ì„¸ìš”.\\n7.  `issues[].line_number` ê²°ì • ë°©ë²•:\\n    a.  `issues[].line_number`ëŠ” `target_code` (ë¦¬ë·° ëŒ€ìƒ ì½”ë“œ ìŠ¤ë‹ˆí«)ê°€ `file_content` ì „ì²´ì—ì„œ ì‹œì‘í•˜ëŠ” **ì ˆëŒ€ì ì¸ 1-based ë¼ì¸ ë²ˆí˜¸**ì—¬ì•¼ í•©ë‹ˆë‹¤.\\n    b.  ì´ ê°’ì„ ê²°ì •í•˜ê¸° ìœ„í•´ `target_code`ê°€ ì†í•œ `hunk`ì˜ ë‹¤ìŒ ì •ë³´ë“¤ì„ ì‚¬ìš©í•©ë‹ˆë‹¤:\\n        i.  `formatted_hunks[].after_code`: ìˆ˜ì • í›„ ì½”ë“œ ë¸”ë¡ ë¬¸ìì—´ì…ë‹ˆë‹¤.\\n        ii. `formatted_hunks[].after_code_line_numbers`: `after_code`ì˜ ê° ë¼ì¸ì— í•´ë‹¹í•˜ëŠ” `file_content` ê¸°ì¤€ ì ˆëŒ€ 1-based ë¼ì¸ ë²ˆí˜¸ë“¤ì´ ìˆœì„œëŒ€ë¡œ ë‹´ê¸´ ë¦¬ìŠ¤íŠ¸ì…ë‹ˆë‹¤. ì´ ë¦¬ìŠ¤íŠ¸ì˜ ê¸¸ì´ëŠ” `after_code`ì˜ ì´ ë¼ì¸ ìˆ˜ì™€ ì •í™•íˆ ì¼ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤.\\n        iii. `target_code`: ë¦¬ë·° ëŒ€ìƒ ì½”ë“œ ìŠ¤ë‹ˆí«ìœ¼ë¡œ, `after_code`ì˜ ì¼ë¶€ì—¬ì•¼ í•©ë‹ˆë‹¤.\\n    c.  **ê³„ì‚° ë‹¨ê³„:**\\n        1.  **`target_code`ì˜ ìƒëŒ€ ì‹œì‘ ìœ„ì¹˜ íŒŒì•…:** `target_code`ì˜ ì²« ë²ˆì§¸ ë¼ì¸ì´ `after_code` ë‚´ì—ì„œ ëª‡ ë²ˆì§¸ ë¼ì¸(1-based)ì—ì„œ ì‹œì‘í•˜ëŠ”ì§€ ì •í™•íˆ íŒŒì•…í•©ë‹ˆë‹¤. ì´ë¥¼ \\\"ìƒëŒ€ ì‹œì‘ ë¼ì¸ ë²ˆí˜¸\\\"ë¼ê³  í•©ë‹ˆë‹¤. (ì˜ˆ: `target_code`ì˜ ì²« ì¤„ì´ `after_code`ì˜ 3ë²ˆì§¸ ì¤„ê³¼ ë‚´ìš©ì´ ê°™ë‹¤ë©´, \\\"ìƒëŒ€ ì‹œì‘ ë¼ì¸ ë²ˆí˜¸\\\"ëŠ” `3`ì…ë‹ˆë‹¤.)\\n        2.  **ì ˆëŒ€ ë¼ì¸ ë²ˆí˜¸ ì¡°íšŒ:** íŒŒì•…ëœ \\\"ìƒëŒ€ ì‹œì‘ ë¼ì¸ ë²ˆí˜¸\\\"ë¥¼ ì‚¬ìš©í•˜ì—¬ `after_code_line_numbers` ë¦¬ìŠ¤íŠ¸ì—ì„œ í•´ë‹¹ ìœ„ì¹˜ì˜ ê°’ì„ ê°€ì ¸ì˜µë‹ˆë‹¤. ë¦¬ìŠ¤íŠ¸ëŠ” 0-based ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë¯€ë¡œ, `issues[].line_number = after_code_line_numbers[ (ìƒëŒ€ ì‹œì‘ ë¼ì¸ ë²ˆí˜¸) - 1 ]` ê³µì‹ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.\\n    d.  **ì˜ˆì‹œ:**\\n        `after_code`ê°€ 3ì¤„ì´ê³ , `after_code_line_numbers`ê°€ `[50, 51, 52]`ë¼ê³  ê°€ì •í•©ë‹ˆë‹¤.\\n        ë§Œì•½ `target_code`ì˜ ì²« ë²ˆì§¸ ë¼ì¸ì´ `after_code`ì˜ `2`ë²ˆì§¸ ë¼ì¸ ë‚´ìš©ê³¼ ì¼ì¹˜í•œë‹¤ë©´, \\\"ìƒëŒ€ ì‹œì‘ ë¼ì¸ ë²ˆí˜¸\\\"ëŠ” `2`ì…ë‹ˆë‹¤.\\n        ë”°ë¼ì„œ, `issues[].line_number = after_code_line_numbers[2 - 1] = after_code_line_numbers[1]` ì´ë¯€ë¡œ, `issues[].line_number`ëŠ” `51`ì´ ë©ë‹ˆë‹¤.\\n    e.  `target_code`ê°€ ì—¬ëŸ¬ ë¼ì¸ì— ê±¸ì³ ìˆëŠ” ê²½ìš°, `target_code`ì˜ **ì²« ë²ˆì§¸ ë¼ì¸**ì„ ê¸°ì¤€ìœ¼ë¡œ `issues[].line_number`ë¥¼ ê²°ì •í•©ë‹ˆë‹¤.\\n    f.  ë§Œì•½ `target_code`ë¥¼ `after_code` ë‚´ì—ì„œ ì°¾ì„ ìˆ˜ ì—†ê±°ë‚˜, \\\"ìƒëŒ€ ì‹œì‘ ë¼ì¸ ë²ˆí˜¸\\\"ë¥¼ ì •í™•íˆ íŠ¹ì •í•  ìˆ˜ ì—†ëŠ” ê²½ìš°, `issues[].line_number`ëŠ” `null`ë¡œ ì„¤ì •í•˜ê³ , í•„ìš”í•œ ê²½ìš° `description`ì— í•´ë‹¹ ìƒí™©ì„ ê°„ëµíˆ ì–¸ê¸‰í•©ë‹ˆë‹¤.\\n    g.  (ê¸°ì¡´ì˜ íŒŒì¼ ì „ì²´ì— ëŒ€í•œ ì´ìŠˆ ì²˜ë¦¬ ì‹œ `null` ì‚¬ìš© ë“± ê´€ë ¨ ê·œì¹™ ìœ ì§€)\\n8. íŠ¹ì • ì½”ë“œ ë¼ì¸ì„ ì‚­ì œí•˜ê±°ë‚˜ íŒŒì¼ì„ ì‚­ì œí•´ì•¼ í•˜ëŠ” ê²½ìš°, suggested_code ìµœìƒë‹¨ì— \\\"ì½”ë“œ ë¼ì¸ ì œê±°\\\" ë˜ëŠ” \\\"íŒŒì¼ ì œê±°\\\" ë¼ëŠ” ë¬¸êµ¬ë¥¼ ëª…ì‹œí•˜ê³ , ê·¸ ì•„ë˜ì— ì œê±° ëŒ€ìƒ ì½”ë“œë¥¼ ì£¼ì„ ì²˜ë¦¬í•˜ì—¬ ì œê³µí•˜ì„¸ìš”.\\n   ì˜ˆë¥¼ ë“¤ì–´, Python ì½”ë“œ ì‚­ì œ ì‹œ # ì½”ë“œ ë¼ì¸ ì œê±°\\\\n# print(\\\"ì‚­ì œë  ì½”ë“œ\\\") ì™€ ê°™ì´ í‘œí˜„í•©ë‹ˆë‹¤. ë§Œì•½ ì—¬ëŸ¬ ë¼ì¸ì´ë¼ë©´ ê° ë¼ì¸ì„ ì£¼ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.\"}, {\"role\": \"user\", \"content\": \"{\\\"file_name\\\": \\\"reviewer/src/ui.py\\\", \\\"file_content\\\": \\\"\\\\\\\"\\\\\\\"\\\\\\\"\\\\në¦¬ë·° ê²°ê³¼ë¥¼ ë³´ì—¬ì£¼ëŠ” Streamlit ì›¹ ì¸í„°í˜ì´ìŠ¤ ëª¨ë“ˆ\\\\n\\\\nì´ ëª¨ë“ˆì€ ì €ì¥ëœ ë¦¬ë·° ê²°ê³¼ë¥¼ Streamlitì„ ì‚¬ìš©í•˜ì—¬ ì›¹ ë¸Œë¼ìš°ì €ì— í‘œì‹œí•©ë‹ˆë‹¤.\\\\n\\\\\\\"\\\\\\\"\\\\\\\"\\\\n\\\\nimport copy\\\\nimport json\\\\nimport logging\\\\nimport os\\\\nimport sys\\\\nfrom datetime import datetime\\\\nfrom pathlib import Path\\\\nfrom typing import Any\\\\n\\\\nimport streamlit as st\\\\n\\\\nfrom reviewer.src.utils.token.models import ReviewResponse\\\\n\\\\n# ë¡œê±° ì„¤ì •\\\\nlogger = logging.getLogger(__name__)\\\\n\\\\n# ìƒëŒ€ ê²½ë¡œ ì„í¬íŠ¸ë¥¼ ìœ„í•œ ê²½ë¡œ ì„¤ì •\\\\nsys.path.append(os.path.abspath(os.path.join(os.path.dirname(__file__), \\\\\\\"..\\\\\\\")))\\\\nfrom reviewer.src.config import get_default_results_dir, get_default_review_log_dir\\\\nfrom reviewer.src.utils.review_formatter import ReviewFormatter\\\\n\\\\n\\\\ndef get_default_llm_eval_data_dir() -> Path:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"llm_eval ë°ì´í„°ê°€ ì €ì¥ëœ data ë””ë ‰í† ë¦¬ ê²½ë¡œë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    # ui.py íŒŒì¼ì˜ ìœ„ì¹˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í”„ë¡œì íŠ¸ ë£¨íŠ¸ë¥¼ ì°¾ê³ , ê·¸ ì•„ë˜ data í´ë”ë¥¼ ì§€ì •í•©ë‹ˆë‹¤.\\\\n    # reviewer/src/ui.py -> reviewer/ -> project_root\\\\n    project_root = Path(__file__).resolve().parent.parent.parent\\\\n    return project_root / \\\\\\\"llm_eval\\\\\\\" / \\\\\\\"results\\\\\\\"\\\\n\\\\n\\\\ndef get_llm_eval_data_files() -> list[Path]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"llm_eval ë°ì´í„° ë””ë ‰í† ë¦¬ì—ì„œ ëª¨ë“  íŒŒì¼ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    llm_eval_data_dir = get_default_llm_eval_data_dir()\\\\n    if not llm_eval_data_dir.exists():\\\\n        return []\\\\n\\\\n    # data í´ë” ë‚´ ëª¨ë“  íŒŒì¼ì„ ëŒ€ìƒìœ¼ë¡œ í•¨ (í™•ì¥ì ë¬´ê´€)\\\\n    llm_eval_files = list(llm_eval_data_dir.glob(\\\\\\\"*\\\\\\\"))\\\\n    # ìˆ˜ì • ì‹œê°„ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬ (ìµœì‹ ìˆœ)\\\\n    llm_eval_files.sort(key=lambda f: f.stat().st_mtime, reverse=True)\\\\n    return llm_eval_files\\\\n\\\\n\\\\ndef get_review_log_files() -> list[Path]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ë¦¬ë·° ë¡œê·¸ ë””ë ‰í† ë¦¬ì—ì„œ ëª¨ë“  ë¦¬ë·° ë¡œê·¸ íŒŒì¼ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    log_dir = get_default_review_log_dir()\\\\n    if not log_dir.exists():\\\\n        return []\\\\n\\\\n    log_files = list(log_dir.glob(\\\\\\\"*.json\\\\\\\"))\\\\n    # ìˆ˜ì • ì‹œê°„ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬ (ìµœì‹ ìˆœ)\\\\n    log_files.sort(key=lambda f: f.stat().st_mtime, reverse=True)\\\\n    return log_files\\\\n\\\\n\\\\ndef get_file_info(file: Path) -> dict[str, Any]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"íŒŒì¼ ì •ë³´ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    mtime = datetime.fromtimestamp(file.stat().st_mtime)\\\\n    size = file.stat().st_size\\\\n    size_str = f\\\\\\\"{size / 1024:.1f}KB\\\\\\\" if size >= 1024 else f\\\\\\\"{size}B\\\\\\\"\\\\n\\\\n    # íŒŒì¼ëª…ì—ì„œ ëª¨ë¸ ì´ë¦„ê³¼ ë‚ ì§œ ì¶”ì¶œ ì‹œë„\\\\n    model_name_candidate = \\\\\\\"\\\\\\\"\\\\n    date_candidate = mtime  # ê¸°ë³¸ê°’ì€ íŒŒì¼ ìˆ˜ì • ì‹œê°„\\\\n\\\\n    try:\\\\n        parts = file.stem.split(\\\\\\\"_\\\\\\\")\\\\n        # íŒŒì¼ëª… ê·œì¹™: YYYYMMDD_HHMMSS_ModelName ë˜ëŠ” ìœ ì‚¬ í˜•ì‹\\\\n        # ë˜ëŠ” ModelName_YYYYMMDD_HHMMSS\\\\n        if len(parts) >= 3:\\\\n            # YYYYMMDD_HHMMSS_ModelName í˜•ì‹ ì²´í¬\\\\n            if (\\\\n                parts[0].isdigit()\\\\n                and len(parts[0]) == 8\\\\n                and parts[1].isdigit()\\\\n                and len(parts[1]) == 6\\\\n            ):\\\\n                date_str = f\\\\\\\"{parts[0]}_{parts[1]}\\\\\\\"\\\\n                date_candidate = datetime.strptime(date_str, \\\\\\\"%Y%m%d_%H%M%S\\\\\\\")\\\\n                model_name_candidate = \\\\\\\"_\\\\\\\".join(parts[2:])\\\\n            # ModelName_YYYYMMDD_HHMMSS í˜•ì‹ ì²´í¬ (ë§ˆì§€ë§‰ ë‘ íŒŒíŠ¸ê°€ ë‚ ì§œ/ì‹œê°„)\\\\n            elif (\\\\n                parts[-2].isdigit()\\\\n                and len(parts[-2]) == 8\\\\n                and parts[-1].isdigit()\\\\n                and len(parts[-1]) == 6\\\\n            ):\\\\n                date_str = f\\\\\\\"{parts[-2]}_{parts[-1]}\\\\\\\"\\\\n                date_candidate = datetime.strptime(date_str, \\\\\\\"%Y%m%d_%H%M%S\\\\\\\")\\\\n                model_name_candidate = \\\\\\\"_\\\\\\\".join(parts[:-2])\\\\n            # ê¸°íƒ€: ë§ˆì§€ë§‰ íŒŒíŠ¸ë¥¼ ëª¨ë¸ëª…ìœ¼ë¡œ ê°€ì •í•˜ê³ , ë‚ ì§œëŠ” mtime ì‚¬ìš©\\\\n            elif not parts[-1].isdigit():  # ë§ˆì§€ë§‰ íŒŒíŠ¸ê°€ ìˆ«ìê°€ ì•„ë‹ˆë©´ ëª¨ë¸ëª…ìœ¼ë¡œ ê°„ì£¼\\\\n                model_name_candidate = parts[-1]\\\\n                # ë‚ ì§œ/ì‹œê°„ ë¶€ë¶„ (YYYYMMDD_HHMMSS í˜•ì‹) - ì¤‘ê°„ì— ìˆì„ ê²½ìš°\\\\n                if (\\\\n                    len(parts) >= 3\\\\n                    and parts[-2].isdigit()\\\\n                    and len(parts[-2]) == 6\\\\n                    and parts[-3].isdigit()\\\\n                    and len(parts[-3]) == 8\\\\n                ):\\\\n                    date_str = f\\\\\\\"{parts[-3]}_{parts[-2]}\\\\\\\"\\\\n                    try:\\\\n                        date_candidate = datetime.strptime(date_str, \\\\\\\"%Y%m%d_%H%M%S\\\\\\\")\\\\n                    except ValueError:\\\\n                        pass  # ë‚ ì§œ í˜•ì‹ ì•ˆë§ìœ¼ë©´ mtime ìœ ì§€\\\\n        elif (\\\\n            len(parts) == 2 and not parts[0].isdigit() and not parts[1].isdigit()\\\\n        ):  # Model_Name í˜•ì‹ì´ê³  ë‚ ì§œ ì •ë³´ ì—†ì„ ë•Œ\\\\n            model_name_candidate = file.stem\\\\n        elif (\\\\n            len(parts) == 1 and not parts[0].isdigit()\\\\n        ):  # ModelName í˜•ì‹ì´ê³  ë‚ ì§œ ì •ë³´ ì—†ì„ ë•Œ\\\\n            model_name_candidate = parts[0]\\\\n\\\\n    except Exception:  # ë‚ ì§œ/ëª¨ë¸ëª… íŒŒì‹± ì¤‘ ì˜ˆì™¸ ë°œìƒ ì‹œ ê¸°ë³¸ê°’ ì‚¬ìš©\\\\n        pass  # model_name_candidate = \\\\\\\"\\\\\\\", date_candidate = mtime ìœ ì§€\\\\n\\\\n    file_suffix = file.suffix.lstrip(\\\\\\\".\\\\\\\").lower()\\\\n\\\\n    # í™•ì¥ìê°€ ì—†ëŠ” íŒŒì¼ ì²˜ë¦¬ ë¡œì§\\\\n    if not file_suffix:\\\\n        # 1. deepeval ê²°ê³¼ íŒŒì¼ì¸ì§€ í™•ì¸ (llm_eval_dir ë‚´ë¶€ì— ìˆëŠ”ì§€)\\\\n        try:\\\\n            llm_eval_dir = get_default_llm_eval_data_dir()\\\\n\\\\n            # ê²½ë¡œ ë¹„êµë¥¼ ìœ„í•´ ì ˆëŒ€ ê²½ë¡œë¡œ ë³€í™˜\\\\n            file_parent_resolved = file.parent.resolve()\\\\n            llm_eval_dir_resolved = llm_eval_dir.resolve()\\\\n\\\\n            # íŒŒì¼ì´ llm_eval_dirì˜ í•˜ìœ„ ê²½ë¡œì¸ì§€ í™•ì¸\\\\n            file_parent_str = str(file_parent_resolved)\\\\n            llm_eval_dir_str = str(llm_eval_dir_resolved)\\\\n\\\\n            # llm_eval ë””ë ‰í† ë¦¬ ë‚´ íŒŒì¼ì€ ëª¨ë‘ JSONìœ¼ë¡œ ì²˜ë¦¬\\\\n            is_in_llm_eval_dir = file_parent_str.startswith(llm_eval_dir_str)\\\\n\\\\n            # 2. ë‚ ì§œ í˜•ì‹ì˜ íŒŒì¼ëª…ì¸ì§€ í™•ì¸\\\\n            has_date_format = (\\\\n                len(parts) >= 2\\\\n                and parts[0].isdigit()\\\\n                and len(parts[0]) == 8\\\\n                and parts[1].isdigit()\\\\n                and len(parts[1]) == 6\\\\n            )\\\\n\\\\n            # deepeval ê²°ê³¼ íŒŒì¼(llm_eval ë””ë ‰í† ë¦¬)ì´ê±°ë‚˜ ë‚ ì§œ í˜•ì‹ì¸ ê²½ìš° JSONìœ¼ë¡œ ì²˜ë¦¬\\\\n            if is_in_llm_eval_dir:\\\\n                # deepeval íŒŒì¼ì€ ë¬´ì¡°ê±´ JSONìœ¼ë¡œ ì²˜ë¦¬\\\\n                file_format = \\\\\\\"json\\\\\\\"\\\\n            elif has_date_format:\\\\n                # ë‚ ì§œ í˜•ì‹ì€ JSONìœ¼ë¡œ ì²˜ë¦¬\\\\n                file_format = \\\\\\\"json\\\\\\\"\\\\n            else:\\\\n                file_format = \\\\\\\"txt\\\\\\\"\\\\n        except Exception:\\\\n            # ì˜ˆì™¸ ë°œìƒì‹œ ì•ˆì „í•˜ê²Œ txtë¡œ ì²˜ë¦¬\\\\n            file_format = \\\\\\\"txt\\\\\\\"\\\\n    elif file_suffix in [\\\\\\\"json\\\\\\\", \\\\\\\"log\\\\\\\", \\\\\\\"html\\\\\\\", \\\\\\\"txt\\\\\\\"]:\\\\n        file_format = file_suffix\\\\n    else:  # ê·¸ ì™¸ ëª¨ë¥´ëŠ” í™•ì¥ìëŠ” 'txt'ë¡œ ê°„ì£¼\\\\n        file_format = \\\\\\\"txt\\\\\\\"\\\\n\\\\n    return {\\\\n        \\\\\\\"path\\\\\\\": file,\\\\n        \\\\\\\"name\\\\\\\": file.name,\\\\n        \\\\\\\"model\\\\\\\": model_name_candidate,\\\\n        \\\\\\\"date\\\\\\\": date_candidate,\\\\n        \\\\\\\"mtime\\\\\\\": mtime,\\\\n        \\\\\\\"size\\\\\\\": size,\\\\n        \\\\\\\"size_str\\\\\\\": size_str,\\\\n        \\\\\\\"format\\\\\\\": file_format,\\\\n    }\\\\n\\\\n\\\\ndef app():\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"Streamlit ì•± ë©”ì¸ í•¨ìˆ˜\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    st.set_page_config(\\\\n        page_title=\\\\\\\"Reviewer - ì½”ë“œ ë¦¬ë·° ê²°ê³¼\\\\\\\",\\\\n        page_icon=\\\\\\\"ğŸ“\\\\\\\",\\\\n        layout=\\\\\\\"wide\\\\\\\",\\\\n        initial_sidebar_state=\\\\\\\"expanded\\\\\\\",\\\\n    )\\\\n\\\\n    st.title(\\\\\\\"ì½”ë“œ ë¦¬ë·° ê²°ê³¼\\\\\\\")\\\\n\\\\n    # ê²°ê³¼ ë””ë ‰í† ë¦¬ í‘œì‹œ\\\\n    results_dir = get_default_results_dir()\\\\n    review_log_dir = get_default_review_log_dir()\\\\n    st.sidebar.markdown(f\\\\\\\"**ê²°ê³¼ ì €ì¥ ìœ„ì¹˜**: {results_dir}\\\\\\\")\\\\n    st.sidebar.markdown(f\\\\\\\"**ë¦¬ë·° ë¡œê·¸ ì €ì¥ ìœ„ì¹˜**: {review_log_dir}\\\\\\\")\\\\n    st.sidebar.markdown(\\\\n        f\\\\\\\"**llm_eval ê²°ê³¼ ì €ì¥ ìœ„ì¹˜**: {get_default_llm_eval_data_dir()}\\\\\\\"\\\\n    )\\\\n\\\\n    # ê²°ê³¼ ì„ íƒ\\\\n    view_type = st.sidebar.selectbox(\\\\n        \\\\\\\"ë³´ê¸° ìœ í˜•:\\\\\\\",\\\\n        [\\\\n            \\\\\\\"ë¦¬ë·° ê²°ê³¼\\\\\\\",\\\\n            \\\\\\\"llm_eval ê²°ê³¼\\\\\\\",\\\\n        ],\\\\n        index=0,\\\\n    )\\\\n\\\\n    # íŒŒì¼ ëª©ë¡ ê°€ì ¸ì˜¤ê¸°\\\\n    if view_type == \\\\\\\"ë¦¬ë·° ê²°ê³¼\\\\\\\":\\\\n        files = get_review_log_files()\\\\n        if not files:\\\\n            st.info(\\\\\\\"ì €ì¥ëœ ë¦¬ë·° ë¡œê·¸ê°€ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n            st.markdown(\\\\\\\"\\\\\\\"\\\\\\\"\\\\n            ### ë¦¬ë·° ìƒì„± ë°©ë²•\\\\n            \\\\n            í„°ë¯¸ë„ì—ì„œ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì—¬ ì½”ë“œ ë¦¬ë·°ë¥¼ ìƒì„±í•˜ì„¸ìš”:\\\\n            ```bash\\\\n            reviewer review\\\\n            ```\\\\n            \\\\n            ìì„¸í•œ ì‚¬ìš©ë²•ì€ README.md íŒŒì¼ì„ ì°¸ì¡°í•˜ì„¸ìš”.\\\\n            \\\\\\\"\\\\\\\"\\\\\\\")\\\\n            return\\\\n    else:  # llm_eval ê²°ê³¼\\\\n        files = get_llm_eval_data_files()\\\\n        if not files:\\\\n            st.info(\\\\\\\"ì €ì¥ëœ llm_eval ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n            return\\\\n\\\\n    # íŒŒì¼ ëª©ë¡ì„ ì •ë³´ì™€ í•¨ê»˜ ì €ì¥\\\\n    file_infos = [get_file_info(f) for f in files]\\\\n\\\\n    # ì‚¬ì´ë“œë°”ì— íŒŒì¼ ëª©ë¡ í‘œì‹œ\\\\n    st.sidebar.markdown(f\\\\\\\"## {view_type} ëª©ë¡\\\\\\\")\\\\n\\\\n    # ì •ë ¬ ì˜µì…˜\\\\n    sort_option = st.sidebar.selectbox(\\\\n        \\\\\\\"ì •ë ¬ ê¸°ì¤€:\\\\\\\", [\\\\\\\"ìµœì‹ ìˆœ\\\\\\\", \\\\\\\"ì˜¤ë˜ëœìˆœ\\\\\\\", \\\\\\\"íŒŒì¼ëª…\\\\\\\", \\\\\\\"ëª¨ë¸ëª…\\\\\\\"], index=0\\\\n    )\\\\n\\\\n    # ì •ë ¬ ì ìš©\\\\n    if sort_option == \\\\\\\"ìµœì‹ ìˆœ\\\\\\\":\\\\n        file_infos.sort(key=lambda x: x[\\\\\\\"date\\\\\\\"], reverse=True)\\\\n    elif sort_option == \\\\\\\"ì˜¤ë˜ëœìˆœ\\\\\\\":\\\\n        file_infos.sort(key=lambda x: x[\\\\\\\"date\\\\\\\"])\\\\n    elif sort_option == \\\\\\\"íŒŒì¼ëª…\\\\\\\":\\\\n        file_infos.sort(key=lambda x: x[\\\\\\\"name\\\\\\\"])\\\\n    elif sort_option == \\\\\\\"ëª¨ë¸ëª…\\\\\\\":\\\\n        file_infos.sort(key=lambda x: x[\\\\\\\"model\\\\\\\"])\\\\n\\\\n    # ì„ íƒ ê°€ëŠ¥í•œ íŒŒì¼ ì˜µì…˜ ìƒì„±\\\\n    file_options = {\\\\n        f\\\\\\\"{info['name']} ({info['date'].strftime('%Y-%m-%d %H:%M')}\\\\\\\": info\\\\n        for info in file_infos\\\\n    }\\\\n\\\\n    # íŒŒì¼ ì„ íƒ ìœ„ì ¯\\\\n    selected_file_name = st.sidebar.selectbox(\\\\n        \\\\\\\"íŒŒì¼ ì„ íƒ:\\\\\\\", list(file_options.keys()), index=0\\\\n    )\\\\n\\\\n    # ì„ íƒëœ íŒŒì¼ ì •ë³´\\\\n    selected_file_info = file_options[selected_file_name]\\\\n    selected_file_path = selected_file_info[\\\\\\\"path\\\\\\\"]\\\\n\\\\n    # íŒŒì¼ ë‚´ìš© ì½ê¸°\\\\n    try:\\\\n        with open(selected_file_path, encoding=\\\\\\\"utf-8\\\\\\\") as f:\\\\n            content = f.read()\\\\n\\\\n        # íŒŒì¼ ì •ë³´ í‘œì‹œ\\\\n        col1, col2, col3 = st.columns(3)\\\\n        with col1:\\\\n            st.markdown(f\\\\\\\"**íŒŒì¼ëª…**: {selected_file_info['name']}\\\\\\\")\\\\n        with col2:\\\\n            st.markdown(\\\\n                f\\\\\\\"**ë‚ ì§œ**: {selected_file_info['date'].strftime('%Y-%m-%d %H:%M')}\\\\\\\"\\\\n            )\\\\n        with col3:\\\\n            st.markdown(f\\\\\\\"**í¬ê¸°**: {selected_file_info['size_str']}\\\\\\\")\\\\n\\\\n        # íŒŒì¼ í˜•ì‹ì— ë”°ë¼ ë‹¤ë¥´ê²Œ í‘œì‹œ\\\\n        format = selected_file_info[\\\\\\\"format\\\\\\\"]\\\\n\\\\n        if format == \\\\\\\"json\\\\\\\":\\\\n            try:\\\\n                # JSON íŒŒì‹±\\\\n                json_data = json.loads(content)\\\\n\\\\n                if view_type == \\\\\\\"ë¦¬ë·° ê²°ê³¼\\\\\\\":\\\\n                    # ì›ë³¸ JSON ë°ì´í„° ë³´ê¸° ì²´í¬ë°•ìŠ¤ ì¶”ê°€\\\\n                    if \\\\\\\"show_raw_json\\\\\\\" not in st.session_state:\\\\n                        st.session_state.show_raw_json = False\\\\n                    show_raw_json = st.checkbox(\\\\n                        \\\\\\\"ì›ë³¸ JSON ë°ì´í„° ë³´ê¸°\\\\\\\", key=\\\\\\\"show_raw_json\\\\\\\"\\\\n                    )\\\\n\\\\n                    if show_raw_json:\\\\n                        st.markdown(\\\\\\\"## ì›ë³¸ JSON ë°ì´í„°\\\\\\\")\\\\n                        data_to_display = copy.deepcopy(json_data)\\\\n                        target_keys_in_order = [\\\\n                            \\\\\\\"prompt\\\\\\\",\\\\n                            \\\\\\\"review_request\\\\\\\",\\\\n                            \\\\\\\"review_response\\\\\\\",\\\\n                        ]\\\\n\\\\n                        for key_to_expand in target_keys_in_order:\\\\n                            if key_to_expand in data_to_display:\\\\n                                value = data_to_display.pop(key_to_expand)\\\\n                                with st.expander(\\\\n                                    f\\\\\\\"{key_to_expand} ë‚´ìš© ë³´ê¸°\\\\\\\", expanded=False\\\\n                                ):\\\\n                                    if key_to_expand == \\\\\\\"prompt\\\\\\\" and isinstance(\\\\n                                        value, list\\\\n                                    ):\\\\n                                        parsed_prompt_list = []\\\\n                                        for p_item in value:\\\\n                                            p_item_copy = copy.deepcopy(p_item)\\\\n                                            if (\\\\n                                                isinstance(p_item_copy, dict)\\\\n                                                and \\\\\\\"content\\\\\\\" in p_item_copy\\\\n                                                and isinstance(\\\\n                                                    p_item_copy[\\\\\\\"content\\\\\\\"], str\\\\n                                                )\\\\n                                            ):\\\\n                                                try:\\\\n                                                    p_item_copy[\\\\\\\"content\\\\\\\"] = json.loads(\\\\n                                                        p_item_copy[\\\\\\\"content\\\\\\\"]\\\\n                                                    )\\\\n                                                except json.JSONDecodeError:\\\\n                                                    pass\\\\n                                            parsed_prompt_list.append(p_item_copy)\\\\n                                        st.json(parsed_prompt_list, expanded=True)\\\\n                                    elif value:  # Check if value is not None or empty\\\\n                                        st.json(value, expanded=True)\\\\n                                    else:\\\\n                                        st.write(\\\\\\\"ë‚´ìš© ì—†ìŒ\\\\\\\")\\\\n\\\\n                        if data_to_display:\\\\n                            st.markdown(\\\\\\\"---\\\\\\\")\\\\n                            st.markdown(\\\\\\\"### ì›ë³¸ ë°ì´í„°\\\\\\\")\\\\n                            st.json(json_data, expanded=False)\\\\n                    else:\\\\n                        if (\\\\n                            \\\\\\\"review_response\\\\\\\" in json_data\\\\n                            and json_data[\\\\\\\"review_response\\\\\\\"]\\\\n                        ):\\\\n                            review_response = ReviewResponse.model_validate(\\\\n                                json_data[\\\\\\\"review_response\\\\\\\"]\\\\n                            )\\\\n                            formatter = ReviewFormatter()\\\\n                            html_content = formatter.to_html(review_response)\\\\n                            # st.markdown(html_content, unsafe_allow_html=True)\\\\n                            st.html(html_content)\\\\n                        else:\\\\n                            st.warning(\\\\\\\"ë¦¬ë·° ì‘ë‹µ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n                elif view_type == \\\\\\\"llm_eval ê²°ê³¼\\\\\\\":\\\\n                    st.markdown(\\\\\\\"## llm_eval ê²°ê³¼ ë‚´ìš©\\\\\\\")\\\\n\\\\n                    # ì›ë³¸ ë°ì´í„°ì˜ ê¹Šì€ ë³µì‚¬ë³¸ì„ ë§Œë“¤ì–´ í•„í„°ë§ ë° í‘œì‹œì— ì‚¬ìš©\\\\n                    display_data = copy.deepcopy(json_data)\\\\n\\\\n                    num_total_cases = 0\\\\n                    if (\\\\n                        isinstance(json_data, dict)\\\\n                        and \\\\\\\"testCases\\\\\\\" in json_data\\\\n                        and isinstance(json_data[\\\\\\\"testCases\\\\\\\"], list)\\\\n                    ):\\\\n                        num_total_cases = len(json_data[\\\\\\\"testCases\\\\\\\"])\\\\n\\\\n                    col_checkbox, col_count = st.columns(\\\\n                        [0.8, 0.2]\\\\n                    )  # ì²´í¬ë°•ìŠ¤ì™€ ì¹´ìš´íŠ¸ ì»¬ëŸ¼ ë¹„ìœ¨ ì¡°ì •\\\\n\\\\n                    with col_checkbox:\\\\n                        filter_failed_tests = st.checkbox(\\\\n                            \\\\\\\"ì‹¤íŒ¨í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë§Œ ë³´ê¸° (success=false)\\\\\\\",\\\\n                            key=\\\\\\\"llm_eval_filter_checkbox\\\\\\\",\\\\n                        )\\\\n\\\\n                    surviving_test_cases = []\\\\n                    if filter_failed_tests:\\\\n                        if (\\\\n                            isinstance(display_data, dict)\\\\n                            and \\\\\\\"testCases\\\\\\\" in display_data\\\\n                            and isinstance(display_data[\\\\\\\"testCases\\\\\\\"], list)\\\\n                        ):\\\\n                            surviving_test_cases = []\\\\n                            for tc_original in display_data[\\\\n                                \\\\\\\"testCases\\\\\\\"\\\\n                            ]:  # ì›ë³¸ ë¦¬ìŠ¤íŠ¸ ìˆœíšŒ\\\\n                                if (\\\\n                                    isinstance(tc_original, dict)\\\\n                                    and tc_original.get(\\\\\\\"success\\\\\\\") is False\\\\n                                ):\\\\n                                    # testCase.successê°€ falseì¸ ê²½ìš°ì—ë§Œ tc_to_add ë¡œì§ ìˆ˜í–‰\\\\n                                    tc_to_add = copy.deepcopy(\\\\n                                        tc_original\\\\n                                    )  # ë³µì‚¬ë³¸ ì‚¬ìš©\\\\n\\\\n                                    # metricsData ë‚´ë¶€ë¥¼ successê°€ falseì¸ í•­ëª©ë§Œ ë‚¨ë„ë¡ í•„í„°ë§\\\\n                                    if \\\\\\\"metricsData\\\\\\\" in tc_to_add and isinstance(\\\\n                                        tc_to_add[\\\\\\\"metricsData\\\\\\\"], list\\\\n                                    ):\\\\n                                        filtered_metrics = [\\\\n                                            m\\\\n                                            for m in tc_to_add[\\\\\\\"metricsData\\\\\\\"]\\\\n                                            if isinstance(m, dict)\\\\n                                            and m.get(\\\\\\\"success\\\\\\\") is False\\\\n                                        ]\\\\n                                        # metricsDataê°€ ë¹„ì–´ìˆì§€ ì•Šê±°ë‚˜, ì›ë˜ metricsDataê°€ ìˆì—ˆë˜ ê²½ìš°ì—ë§Œ í• ë‹¹\\\\n                                        # (í•­ìƒ metricsData í‚¤ë¥¼ ìœ ì§€í•˜ê³  ì‹¶ë‹¤ë©´ ì´ ì¡°ê±´ë¬¸ ì œê±° ê°€ëŠ¥)\\\\n                                        if (\\\\n                                            filtered_metrics\\\\n                                            or tc_to_add.get(\\\\\\\"metricsData\\\\\\\") is not None\\\\n                                        ):\\\\n                                            tc_to_add[\\\\\\\"metricsData\\\\\\\"] = filtered_metrics\\\\n                                        elif (\\\\n                                            not filtered_metrics\\\\n                                            and tc_to_add.get(\\\\\\\"metricsData\\\\\\\") is not None\\\\n                                        ):\\\\n                                            # ëª¨ë“  ë©”íŠ¸ë¦­ì´ trueì—¬ì„œ filtered_metricsê°€ ë¹„ì—ˆì§€ë§Œ, ì›ë˜ metricsDataê°€ ìˆì—ˆë‹¤ë©´ ë¹ˆ ë¦¬ìŠ¤íŠ¸ë¡œ ì„¤ì •\\\\n                                            tc_to_add[\\\\\\\"metricsData\\\\\\\"] = []\\\\n\\\\n                                    surviving_test_cases.append(tc_to_add)\\\\n\\\\n                            display_data[\\\\\\\"testCases\\\\\\\"] = surviving_test_cases\\\\n                            num_displayed_cases = len(\\\\n                                display_data[\\\\\\\"testCases\\\\\\\"]\\\\n                            )  # í•„í„°ë§ í›„ ê°œìˆ˜ ì—…ë°ì´íŠ¸\\\\n                        count_caption_text = f\\\\\\\"(í‘œì‹œ: {num_displayed_cases} / ì´: {num_total_cases}ê±´, ì‹¤íŒ¨ë§Œ)\\\\\\\"\\\\n                    else:\\\\n                        count_caption_text = f\\\\\\\"(ì´ {num_total_cases}ê±´)\\\\\\\"\\\\n\\\\n                    with col_count:\\\\n                        st.caption(count_caption_text)\\\\n\\\\n                    # í•„í„°ë§ë˜ì—ˆê±°ë‚˜ ì „ì²´ testCasesì— ëŒ€í•´ ë‚´ë¶€ í•„ë“œ íŒŒì‹± ì ìš©\\\\n                    if (\\\\n                        isinstance(display_data, dict)\\\\n                        and \\\\\\\"testCases\\\\\\\" in display_data\\\\n                        and isinstance(display_data[\\\\\\\"testCases\\\\\\\"], list)\\\\n                    ):\\\\n                        for test_case in display_data[\\\\\\\"testCases\\\\\\\"]:\\\\n                            if isinstance(test_case, dict):\\\\n                                # input í•„ë“œ ì²˜ë¦¬: í”„ë¡¬í”„íŠ¸ì™€ ìœ ì‚¬í•œ êµ¬ì¡°ë¡œ íŒŒì‹±\\\\n                                if \\\\\\\"input\\\\\\\" in test_case and isinstance(\\\\n                                    test_case[\\\\\\\"input\\\\\\\"], str\\\\n                                ):\\\\n                                    try:\\\\n                                        parsed_input = json.loads(test_case[\\\\\\\"input\\\\\\\"])\\\\n                                        if isinstance(parsed_input, list):\\\\n                                            for item in parsed_input:\\\\n                                                if (\\\\n                                                    isinstance(item, dict)\\\\n                                                    and \\\\\\\"content\\\\\\\" in item\\\\n                                                    and isinstance(item[\\\\\\\"content\\\\\\\"], str)\\\\n                                                ):\\\\n                                                    try:\\\\n                                                        item[\\\\\\\"content\\\\\\\"] = json.loads(\\\\n                                                            item[\\\\\\\"content\\\\\\\"]\\\\n                                                        )\\\\n                                                    except json.JSONDecodeError:\\\\n                                                        pass\\\\n                                        test_case[\\\\\\\"input\\\\\\\"] = parsed_input\\\\n                                    except json.JSONDecodeError:\\\\n                                        pass\\\\n\\\\n                                # actualOutput í•„ë“œ ì²˜ë¦¬\\\\n                                if \\\\\\\"actualOutput\\\\\\\" in test_case and isinstance(\\\\n                                    test_case[\\\\\\\"actualOutput\\\\\\\"], str\\\\n                                ):\\\\n                                    try:\\\\n                                        test_case[\\\\\\\"actualOutput\\\\\\\"] = json.loads(\\\\n                                            test_case[\\\\\\\"actualOutput\\\\\\\"]\\\\n                                        )\\\\n                                    except json.JSONDecodeError:\\\\n                                        pass\\\\n                    st.json(display_data, expanded=False)\\\\n            except json.JSONDecodeError:\\\\n                # JSON íŒŒì‹± ì‹¤íŒ¨ ì‹œ ì¼ë°˜ í…ìŠ¤íŠ¸ë¡œ í‘œì‹œ\\\\n                st.text(content)\\\\n\\\\n    except Exception as e:\\\\n        st.error(f\\\\\\\"íŒŒì¼ì„ ì½ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: {str(e)}\\\\\\\")\\\\n\\\\n\\\\ndef run_app() -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"Streamlit ì•±ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    import os\\\\n    import subprocess\\\\n    import sys\\\\n\\\\n    # í˜„ì¬ íŒŒì¼ì˜ ê²½ë¡œ\\\\n    file_path = os.path.abspath(__file__)\\\\n\\\\n    # í¬íŠ¸ í™˜ê²½ë³€ìˆ˜ ê°€ì ¸ì˜¤ê¸°\\\\n    port = os.environ.get(\\\\\\\"STREAMLIT_SERVER_PORT\\\\\\\", \\\\\\\"8501\\\\\\\")\\\\n\\\\n    # Streamlit ì‹¤í–‰\\\\n    cmd = [\\\\n        sys.executable,\\\\n        \\\\\\\"-m\\\\\\\",\\\\n        \\\\\\\"streamlit\\\\\\\",\\\\n        \\\\\\\"run\\\\\\\",\\\\n        file_path,\\\\n        \\\\\\\"--server.headless\\\\\\\",\\\\n        \\\\\\\"true\\\\\\\",\\\\n        \\\\\\\"--browser.serverAddress\\\\\\\",\\\\n        \\\\\\\"localhost\\\\\\\",\\\\n        \\\\\\\"--server.port\\\\\\\",\\\\n        port,\\\\n    ]\\\\n\\\\n    subprocess.run(cmd)\\\\n\\\\n\\\\n# Streamlit ì•±ìœ¼ë¡œ ì§ì ‘ ì‹¤í–‰ë  ê²½ìš°\\\\nif __name__ == \\\\\\\"__main__\\\\\\\":\\\\n    app()\\\\n\\\", \\\"formatted_hunks\\\": [{\\\"hunk_idx\\\": \\\"1\\\", \\\"before_code\\\": \\\"```python\\\\n# ë¡œê±° ì„¤ì •\\\\nlogger = logging.getLogger(__name__)\\\\n\\\\n# ìƒëŒ€ ê²½ë¡œ ì„í¬íŠ¸ë¥¼ ìœ„í•œ ê²½ë¡œ ì„¤ì •\\\\nsys.path.append(os.path.abspath(os.path.join(os.path.dirname(__file__), \\\\\\\"..\\\\\\\")))\\\\nfrom reviewer.src.config import (\\\\n    get_default_raw_log_dir,\\\\n    get_default_results_dir,\\\\n    get_default_review_log_dir,\\\\n    get_default_review_prompt_dir,\\\\n    get_default_review_request_dir,\\\\n)\\\\nfrom reviewer.src.utils.review_formatter import ReviewFormatter\\\\n\\\\n\\\\ndef get_default_llm_eval_data_dir() -> Path:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"llm_eval ë°ì´í„°ê°€ ì €ì¥ëœ data ë””ë ‰í† ë¦¬ ê²½ë¡œë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n```\\\", \\\"after_code\\\": \\\"```python\\\\n# ë¡œê±° ì„¤ì •\\\\nlogger = logging.getLogger(__name__)\\\\n\\\\n# ìƒëŒ€ ê²½ë¡œ ì„í¬íŠ¸ë¥¼ ìœ„í•œ ê²½ë¡œ ì„¤ì •\\\\nsys.path.append(os.path.abspath(os.path.join(os.path.dirname(__file__), \\\\\\\"..\\\\\\\")))\\\\nfrom reviewer.src.config import get_default_results_dir, get_default_review_log_dir\\\\nfrom reviewer.src.utils.review_formatter import ReviewFormatter\\\\n\\\\n\\\\ndef get_default_llm_eval_data_dir() -> Path:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"llm_eval ë°ì´í„°ê°€ ì €ì¥ëœ data ë””ë ‰í† ë¦¬ ê²½ë¡œë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n```\\\", \\\"after_code_start_line_number\\\": 20, \\\"after_code_line_numbers\\\": [20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]}, {\\\"hunk_idx\\\": \\\"2\\\", \\\"before_code\\\": \\\"```python\\\\n    # reviewer/src/ui.py -> reviewer/ -> project_root\\\\n    project_root = Path(__file__).resolve().parent.parent.parent\\\\n    return project_root / \\\\\\\"llm_eval\\\\\\\" / \\\\\\\"results\\\\\\\"\\\\n\\\\n\\\\ndef get_default_merged_data_dir() -> Path:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ê¸°ë³¸ í†µí•© ë°ì´í„° ë””ë ‰í† ë¦¬ ê²½ë¡œë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    # ì‚¬ìš©ìë³„ Application Support ë””ë ‰í† ë¦¬ ì•„ë˜ì— reviewer/merged_data ê²½ë¡œë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.\\\\n    # macOS ê¸°ì¤€ ê²½ë¡œì…ë‹ˆë‹¤. ë‹¤ë¥¸ OSì—ì„œëŠ” ì ì ˆíˆ ìˆ˜ì •í•´ì•¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\\\\n    if sys.platform == \\\\\\\"darwin\\\\\\\":  # macOS\\\\n        return (\\\\n            Path.home() / \\\\\\\"Library\\\\\\\" / \\\\\\\"Application Support\\\\\\\" / \\\\\\\"reviewer\\\\\\\" / \\\\\\\"merged_data\\\\\\\"\\\\n        )\\\\n    elif sys.platform == \\\\\\\"win32\\\\\\\":  # Windows\\\\n        return Path(os.getenv(\\\\\\\"APPDATA\\\\\\\", \\\\\\\"\\\\\\\")) / \\\\\\\"reviewer\\\\\\\" / \\\\\\\"merged_data\\\\\\\"\\\\n    else:  # Linux ë“± ê¸°íƒ€\\\\n        return Path.home() / \\\\\\\".config\\\\\\\" / \\\\\\\"reviewer\\\\\\\" / \\\\\\\"merged_data\\\\\\\"\\\\n\\\\n\\\\ndef get_result_files() -> list[Path]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ê²°ê³¼ ë””ë ‰í† ë¦¬ì—ì„œ ëª¨ë“  ê²°ê³¼ íŒŒì¼ì„ ê°€ì ¸ì˜µë‹ˆë‹¤. (ì‚¬ìš©ë˜ì§€ ì•ŠìŒ)\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    # ì´ í•¨ìˆ˜ëŠ” ë” ì´ìƒ ì‚¬ìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ëŒ€ì‹  get_review_log_files()ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.\\\\n    logger.warning(\\\\n        \\\\\\\"get_result_files()ëŠ” ë” ì´ìƒ ì‚¬ìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. get_review_log_files()ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.\\\\\\\"\\\\n    )\\\\n    return []\\\\n\\\\n\\\\ndef get_log_files() -> list[Path]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ë¡œê·¸ ë””ë ‰í† ë¦¬ì—ì„œ ëª¨ë“  ë¡œê·¸ íŒŒì¼ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    log_dir = get_default_raw_log_dir()\\\\n    if not log_dir.exists():\\\\n        return []\\\\n\\\\n    log_files = list(log_dir.glob(\\\\\\\"*.json\\\\\\\"))\\\\n    # ìˆ˜ì • ì‹œê°„ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬ (ìµœì‹ ìˆœ)\\\\n    log_files.sort(key=lambda f: f.stat().st_mtime, reverse=True)\\\\n    return log_files\\\\n\\\\n\\\\ndef get_review_request_files() -> list[Path]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ë¦¬ë·° ìš”ì²­ ë””ë ‰í† ë¦¬ì—ì„œ ëª¨ë“  ë¦¬ë·° ìš”ì²­ íŒŒì¼ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    request_dir = get_default_review_request_dir()\\\\n    if not request_dir.exists():\\\\n        return []\\\\n\\\\n    request_files = list(request_dir.glob(\\\\\\\"*.json\\\\\\\"))\\\\n    # ìˆ˜ì • ì‹œê°„ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬ (ìµœì‹ ìˆœ)\\\\n    request_files.sort(key=lambda f: f.stat().st_mtime, reverse=True)\\\\n    return request_files\\\\n\\\\n\\\\ndef get_review_prompt_files() -> list[Path]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ë¦¬ë·° í”„ë¡¬í”„íŠ¸ ë””ë ‰í† ë¦¬ì—ì„œ ëª¨ë“  í”„ë¡¬í”„íŠ¸ íŒŒì¼ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    prompt_dir = get_default_review_prompt_dir()\\\\n    if not prompt_dir.exists():\\\\n        return []\\\\n\\\\n    prompt_files = list(prompt_dir.glob(\\\\\\\"*.json\\\\\\\"))\\\\n    # ìˆ˜ì • ì‹œê°„ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬ (ìµœì‹ ìˆœ)\\\\n    prompt_files.sort(key=lambda f: f.stat().st_mtime, reverse=True)\\\\n    return prompt_files\\\\n\\\\n\\\\ndef get_llm_eval_data_files() -> list[Path]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"llm_eval ë°ì´í„° ë””ë ‰í† ë¦¬ì—ì„œ ëª¨ë“  íŒŒì¼ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    llm_eval_data_dir = get_default_llm_eval_data_dir()\\\\n    if not llm_eval_data_dir.exists():\\\\n        return []\\\\n```\\\", \\\"after_code\\\": \\\"```python\\\\n    # reviewer/src/ui.py -> reviewer/ -> project_root\\\\n    project_root = Path(__file__).resolve().parent.parent.parent\\\\n    return project_root / \\\\\\\"llm_eval\\\\\\\" / \\\\\\\"results\\\\\\\"\\\\n\\\\n\\\\ndef get_llm_eval_data_files() -> list[Path]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"llm_eval ë°ì´í„° ë””ë ‰í† ë¦¬ì—ì„œ ëª¨ë“  íŒŒì¼ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    llm_eval_data_dir = get_default_llm_eval_data_dir()\\\\n    if not llm_eval_data_dir.exists():\\\\n        return []\\\\n```\\\", \\\"after_code_start_line_number\\\": 32, \\\"after_code_line_numbers\\\": [32, 33, 34, 35, 36, 37, 38, 39, 40, 41]}, {\\\"hunk_idx\\\": \\\"3\\\", \\\"before_code\\\": \\\"```python\\\\n    # ìˆ˜ì • ì‹œê°„ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬ (ìµœì‹ ìˆœ)\\\\n    llm_eval_files.sort(key=lambda f: f.stat().st_mtime, reverse=True)\\\\n    return llm_eval_files\\\\n\\\\n\\\\ndef get_merged_data_files() -> list[Path]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"í†µí•© ë°ì´í„° ë””ë ‰í† ë¦¬ì—ì„œ ëª¨ë“  JSON íŒŒì¼ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    merged_data_dir = get_default_merged_data_dir()\\\\n    if not merged_data_dir.exists():\\\\n        return []\\\\n\\\\n    merged_files = list(merged_data_dir.glob(\\\\\\\"*.json\\\\\\\"))\\\\n    # ìˆ˜ì • ì‹œê°„ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬ (ìµœì‹ ìˆœ)\\\\n    merged_files.sort(key=lambda f: f.stat().st_mtime, reverse=True)\\\\n    return merged_files\\\\n\\\\n\\\\ndef get_review_log_files() -> list[Path]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ë¦¬ë·° ë¡œê·¸ ë””ë ‰í† ë¦¬ì—ì„œ ëª¨ë“  ë¦¬ë·° ë¡œê·¸ íŒŒì¼ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    log_dir = get_default_review_log_dir()\\\\n    if not log_dir.exists():\\\\n        return []\\\\n```\\\", \\\"after_code\\\": \\\"```python\\\\n    # ìˆ˜ì • ì‹œê°„ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬ (ìµœì‹ ìˆœ)\\\\n    llm_eval_files.sort(key=lambda f: f.stat().st_mtime, reverse=True)\\\\n    return llm_eval_files\\\\n\\\\n\\\\ndef get_review_log_files() -> list[Path]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ë¦¬ë·° ë¡œê·¸ ë””ë ‰í† ë¦¬ì—ì„œ ëª¨ë“  ë¦¬ë·° ë¡œê·¸ íŒŒì¼ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    log_dir = get_default_review_log_dir()\\\\n    if not log_dir.exists():\\\\n        return []\\\\n```\\\", \\\"after_code_start_line_number\\\": 45, \\\"after_code_line_numbers\\\": [45, 46, 47, 48, 49, 50, 51, 52, 53, 54]}, {\\\"hunk_idx\\\": \\\"4\\\", \\\"before_code\\\": \\\"```python\\\\n        initial_sidebar_state=\\\\\\\"expanded\\\\\\\",\\\\n    )\\\\n\\\\n    st.title(\\\\\\\"ì½”ë“œ ë¦¬ë·° ê²°ê³¼\\\\\\\")\\\\n\\\\n    # ê²°ê³¼/ë¡œê·¸/ë¦¬ë·°ìš”ì²­/í”„ë¡¬í”„íŠ¸ ë””ë ‰í† ë¦¬ í‘œì‹œ\\\\n    results_dir = get_default_results_dir()\\\\n    log_dir = get_default_raw_log_dir()\\\\n    review_log_dir = get_default_review_log_dir()\\\\n    request_dir = get_default_review_request_dir()\\\\n    prompt_dir = get_default_review_prompt_dir()\\\\n    st.sidebar.markdown(f\\\\\\\"**ê²°ê³¼ ì €ì¥ ìœ„ì¹˜**: {results_dir}\\\\\\\")\\\\n    st.sidebar.markdown(f\\\\\\\"**ë¡œê·¸ ì €ì¥ ìœ„ì¹˜**: {log_dir}\\\\\\\")\\\\n    st.sidebar.markdown(f\\\\\\\"**ë¦¬ë·° ë¡œê·¸ ì €ì¥ ìœ„ì¹˜**: {review_log_dir}\\\\\\\")\\\\n    st.sidebar.markdown(f\\\\\\\"**reviewRequest ìš”ì²­ ì €ì¥ ìœ„ì¹˜**: {request_dir}\\\\\\\")\\\\n    st.sidebar.markdown(f\\\\\\\"**í”„ë¡¬í”„íŠ¸ ì €ì¥ ìœ„ì¹˜**: {prompt_dir}\\\\\\\")\\\\n    st.sidebar.markdown(\\\\n        f\\\\\\\"**llm_eval ê²°ê³¼ ì €ì¥ ìœ„ì¹˜**: {get_default_llm_eval_data_dir()}\\\\\\\"\\\\n    )\\\\n\\\\n    # ê²°ê³¼/ë¡œê·¸/ë¦¬ë·°ìš”ì²­/í”„ë¡¬í”„íŠ¸ ì„ íƒ\\\\n    view_type = st.sidebar.selectbox(\\\\n        \\\\\\\"ë³´ê¸° ìœ í˜•:\\\\\\\",\\\\n        [\\\\n            \\\\\\\"ë¦¬ë·° ê²°ê³¼\\\\\\\",\\\\n            \\\\\\\"ì‘ë‹µ ë¡œê·¸\\\\\\\",\\\\n            \\\\\\\"reviewRequest\\\\\\\",\\\\n            \\\\\\\"í”„ë¡¬í”„íŠ¸\\\\\\\",\\\\n            \\\\\\\"review log\\\\\\\",\\\\n            \\\\\\\"llm_eval ê²°ê³¼\\\\\\\",\\\\n        ],\\\\n        index=0,\\\\n    )\\\\n\\\\n```\\\", \\\"after_code\\\": \\\"```python\\\\n        initial_sidebar_state=\\\\\\\"expanded\\\\\\\",\\\\n    )\\\\n\\\\n    st.title(\\\\\\\"ì½”ë“œ ë¦¬ë·° ê²°ê³¼\\\\\\\")\\\\n\\\\n    # ê²°ê³¼ ë””ë ‰í† ë¦¬ í‘œì‹œ\\\\n    results_dir = get_default_results_dir()\\\\n    review_log_dir = get_default_review_log_dir()\\\\n    st.sidebar.markdown(f\\\\\\\"**ê²°ê³¼ ì €ì¥ ìœ„ì¹˜**: {results_dir}\\\\\\\")\\\\n    st.sidebar.markdown(f\\\\\\\"**ë¦¬ë·° ë¡œê·¸ ì €ì¥ ìœ„ì¹˜**: {review_log_dir}\\\\\\\")\\\\n    st.sidebar.markdown(\\\\n        f\\\\\\\"**llm_eval ê²°ê³¼ ì €ì¥ ìœ„ì¹˜**: {get_default_llm_eval_data_dir()}\\\\\\\"\\\\n    )\\\\n\\\\n    # ê²°ê³¼ ì„ íƒ\\\\n    view_type = st.sidebar.selectbox(\\\\n        \\\\\\\"ë³´ê¸° ìœ í˜•:\\\\\\\",\\\\n        [\\\\n            \\\\\\\"ë¦¬ë·° ê²°ê³¼\\\\\\\",\\\\n            \\\\\\\"llm_eval ê²°ê³¼\\\\\\\",\\\\n        ],\\\\n        index=0,\\\\n    )\\\\n\\\\n```\\\", \\\"after_code_start_line_number\\\": 188, \\\"after_code_line_numbers\\\": [188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211]}, {\\\"hunk_idx\\\": \\\"5\\\", \\\"before_code\\\": \\\"```python\\\\n            `â€‹``\\\\n            \\\\n            ìì„¸í•œ ì‚¬ìš©ë²•ì€ README.md íŒŒì¼ì„ ì°¸ì¡°í•˜ì„¸ìš”.\\\\n            \\\\\\\"\\\\\\\"\\\\\\\")\\\\n            return\\\\n    elif view_type == \\\\\\\"ì‘ë‹µ ë¡œê·¸\\\\\\\":\\\\n        files = get_log_files()\\\\n        if not files:\\\\n            st.info(\\\\\\\"ì €ì¥ëœ ì‘ë‹µ ë¡œê·¸ê°€ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n            return\\\\n    elif view_type == \\\\\\\"reviewRequest\\\\\\\":\\\\n        files = get_review_request_files()\\\\n        if not files:\\\\n            st.info(\\\\\\\"ì €ì¥ëœ ë¦¬ë·° ìš”ì²­ì´ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n            return\\\\n    elif view_type == \\\\\\\"í”„ë¡¬í”„íŠ¸\\\\\\\":\\\\n        files = get_review_prompt_files()\\\\n        if not files:\\\\n            st.info(\\\\\\\"ì €ì¥ëœ í”„ë¡¬í”„íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n            return\\\\n    elif view_type == \\\\\\\"review log\\\\\\\":\\\\n        files = get_review_log_files()\\\\n        if not files:\\\\n            st.info(\\\\\\\"ì €ì¥ëœ review logê°€ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n            return\\\\n    else:  # llm_eval ê²°ê³¼\\\\n        files = get_llm_eval_data_files()\\\\n        if not files:\\\\n            st.info(\\\\\\\"ì €ì¥ëœ llm_eval ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n            return\\\\n```\\\", \\\"after_code\\\": \\\"```python\\\\n            `â€‹``\\\\n            \\\\n            ìì„¸í•œ ì‚¬ìš©ë²•ì€ README.md íŒŒì¼ì„ ì°¸ì¡°í•˜ì„¸ìš”.\\\\n            \\\\\\\"\\\\\\\"\\\\\\\")\\\\n            return\\\\n    else:  # llm_eval ê²°ê³¼\\\\n        files = get_llm_eval_data_files()\\\\n        if not files:\\\\n            st.info(\\\\\\\"ì €ì¥ëœ llm_eval ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n            return\\\\n```\\\", \\\"after_code_start_line_number\\\": 223, \\\"after_code_line_numbers\\\": [223, 224, 225, 226, 227, 228, 229, 230, 231, 232]}, {\\\"hunk_idx\\\": \\\"6\\\", \\\"before_code\\\": \\\"```python\\\\n            try:\\\\n                # JSON íŒŒì‹±\\\\n                json_data = json.loads(content)\\\\n\\\\n                if view_type == \\\\\\\"ë¦¬ë·° ê²°ê³¼\\\\\\\":\\\\n                    if \\\\\\\"show_raw_json\\\\\\\" not in st.session_state:\\\\n                        st.session_state.show_raw_json = False\\\\n                    show_raw_json = st.checkbox(\\\\n                        \\\\\\\"ì›ë³¸ JSON ë°ì´í„° ë³´ê¸°\\\\\\\", key=\\\\\\\"show_raw_json\\\\\\\"\\\\n                    )\\\\n```\\\", \\\"after_code\\\": \\\"```python\\\\n            try:\\\\n                # JSON íŒŒì‹±\\\\n                json_data = json.loads(content)\\\\n\\\\n                if view_type == \\\\\\\"ë¦¬ë·° ê²°ê³¼\\\\\\\":\\\\n                    # ì›ë³¸ JSON ë°ì´í„° ë³´ê¸° ì²´í¬ë°•ìŠ¤ ì¶”ê°€\\\\n                    if \\\\\\\"show_raw_json\\\\\\\" not in st.session_state:\\\\n                        st.session_state.show_raw_json = False\\\\n                    show_raw_json = st.checkbox(\\\\n                        \\\\\\\"ì›ë³¸ JSON ë°ì´í„° ë³´ê¸°\\\\\\\", key=\\\\\\\"show_raw_json\\\\\\\"\\\\n                    )\\\\n```\\\", \\\"after_code_start_line_number\\\": 290, \\\"after_code_line_numbers\\\": [290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300]}, {\\\"hunk_idx\\\": \\\"7\\\", \\\"before_code\\\": \\\"```python\\\\n                            review_response = ReviewResponse.model_validate(\\\\n                                json_data[\\\\\\\"review_response\\\\\\\"]\\\\n                            )\\\\n                            formatter = ReviewFormatter()\\\\n                            html_content = formatter.to_html(review_response)\\\\n                            st.markdown(html_content, unsafe_allow_html=True)\\\\n                        else:\\\\n                            st.warning(\\\\\\\"ë¦¬ë·° ì‘ë‹µ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n                elif view_type == \\\\\\\"ì‘ë‹µ ë¡œê·¸\\\\\\\":\\\\n                    st.markdown(\\\\\\\"## ì‘ë‹µ ë¡œê·¸ ë‚´ìš©\\\\\\\")\\\\n                    st.json(json_data, expanded=False)\\\\n                elif view_type == \\\\\\\"reviewRequest\\\\\\\":\\\\n                    st.markdown(\\\\\\\"## reviewRequest ë‚´ìš©\\\\\\\")\\\\n                    st.json(json_data, expanded=False)\\\\n                elif view_type == \\\\\\\"í”„ë¡¬í”„íŠ¸\\\\\\\":\\\\n                    st.markdown(\\\\\\\"## í”„ë¡¬í”„íŠ¸ ë‚´ìš©\\\\\\\")\\\\n                    if isinstance(json_data, list):\\\\n                        for item in json_data:\\\\n                            if (\\\\n                                isinstance(item, dict)\\\\n                                and \\\\\\\"content\\\\\\\" in item\\\\n                                and isinstance(item[\\\\\\\"content\\\\\\\"], str)\\\\n                            ):\\\\n                                try:\\\\n                                    item[\\\\\\\"content\\\\\\\"] = json.loads(item[\\\\\\\"content\\\\\\\"])\\\\n                                except json.JSONDecodeError:\\\\n                                    pass\\\\n                    st.json(json_data, expanded=False)\\\\n                elif view_type == \\\\\\\"review log\\\\\\\":\\\\n                    st.markdown(\\\\\\\"## review log\\\\\\\")\\\\n                    data_to_display = copy.deepcopy(json_data)\\\\n\\\\n                    target_keys_in_order = [\\\\n                        \\\\\\\"prompt\\\\\\\",\\\\n                        \\\\\\\"review_request\\\\\\\",\\\\n                        \\\\\\\"review_response\\\\\\\",\\\\n                    ]\\\\n\\\\n                    for key_to_expand in target_keys_in_order:\\\\n                        if key_to_expand in data_to_display:\\\\n                            value = data_to_display.pop(key_to_expand)\\\\n                            with st.expander(\\\\n                                f\\\\\\\"{key_to_expand} ë‚´ìš© ë³´ê¸°\\\\\\\", expanded=False\\\\n                            ):\\\\n                                if key_to_expand == \\\\\\\"prompt\\\\\\\":\\\\n                                    parsed_prompt_content = []\\\\n                                    if isinstance(value, list):\\\\n                                        for item_prompt in value:\\\\n                                            item_c = copy.deepcopy(item_prompt)\\\\n                                            if (\\\\n                                                isinstance(item_c, dict)\\\\n                                                and \\\\\\\"content\\\\\\\" in item_c\\\\n                                                and isinstance(item_c[\\\\\\\"content\\\\\\\"], str)\\\\n                                            ):\\\\n                                                try:\\\\n                                                    item_c[\\\\\\\"content\\\\\\\"] = json.loads(\\\\n                                                        item_c[\\\\\\\"content\\\\\\\"]\\\\n                                                    )\\\\n                                                except json.JSONDecodeError:\\\\n                                                    pass\\\\n                                            parsed_prompt_content.append(item_c)\\\\n                                        st.json(parsed_prompt_content, expanded=True)\\\\n                                    else:\\\\n                                        st.json(value, expanded=True)  # Fallback\\\\n                                elif key_to_expand == \\\\\\\"review_response\\\\\\\":\\\\n                                    if value:\\\\n                                        try:\\\\n                                            review_response_obj = (\\\\n                                                ReviewResponse.model_validate(value)\\\\n                                            )\\\\n                                            formatter = ReviewFormatter()\\\\n                                            html_content = formatter.to_html(\\\\n                                                review_response_obj\\\\n                                            )\\\\n                                            st.markdown(\\\\n                                                html_content, unsafe_allow_html=True\\\\n                                            )\\\\n                                            with st.expander(\\\\n                                                f\\\\\\\"{key_to_expand} ì›ë³¸ JSON ë³´ê¸°\\\\\\\",\\\\n                                                expanded=False,\\\\n                                            ):\\\\n                                                st.json(value, expanded=True)\\\\n                                        except Exception:\\\\n                                            st.json(\\\\n                                                value, expanded=True\\\\n                                            )  # Fallback to raw JSON\\\\n                                    else:\\\\n                                        st.write(\\\\\\\"ë‚´ìš© ì—†ìŒ\\\\\\\")\\\\n                                elif (\\\\n                                    value\\\\n                                ):  # For review_request and other potential future keys\\\\n                                    st.json(value, expanded=True)\\\\n                                else:\\\\n                                    st.write(\\\\\\\"ë‚´ìš© ì—†ìŒ\\\\\\\")\\\\n\\\\n                    if data_to_display:\\\\n                        st.markdown(\\\\\\\"---\\\\\\\")\\\\n                        st.markdown(\\\\\\\"### ê¸°íƒ€ ë¡œê·¸ ì •ë³´\\\\\\\")\\\\n                        st.json(data_to_display, expanded=False)\\\\n                elif view_type == \\\\\\\"llm_eval ê²°ê³¼\\\\\\\":\\\\n                    st.markdown(\\\\\\\"## llm_eval ê²°ê³¼ ë‚´ìš©\\\\\\\")\\\\n\\\\n                    # ì›ë³¸ ë°ì´í„°ì˜ ê¹Šì€ ë³µì‚¬ë³¸ì„ ë§Œë“¤ì–´ í•„í„°ë§ ë° í‘œì‹œì— ì‚¬ìš©\\\\n                    display_data = copy.deepcopy(json_data)\\\\n```\\\", \\\"after_code\\\": \\\"```python\\\\n                            review_response = ReviewResponse.model_validate(\\\\n                                json_data[\\\\\\\"review_response\\\\\\\"]\\\\n                            )\\\\n                            formatter = ReviewFormatter()\\\\n                            html_content = formatter.to_html(review_response)\\\\n                            # st.markdown(html_content, unsafe_allow_html=True)\\\\n                            st.html(html_content)\\\\n                        else:\\\\n                            st.warning(\\\\\\\"ë¦¬ë·° ì‘ë‹µ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n                elif view_type == \\\\\\\"llm_eval ê²°ê³¼\\\\\\\":\\\\n                    st.markdown(\\\\\\\"## llm_eval ê²°ê³¼ ë‚´ìš©\\\\\\\")\\\\n\\\\n                    # ì›ë³¸ ë°ì´í„°ì˜ ê¹Šì€ ë³µì‚¬ë³¸ì„ ë§Œë“¤ì–´ í•„í„°ë§ ë° í‘œì‹œì— ì‚¬ìš©\\\\n                    display_data = copy.deepcopy(json_data)\\\\n```\\\", \\\"after_code_start_line_number\\\": 352, \\\"after_code_line_numbers\\\": [352, 353, 354, 355, 356, 357, 358, 359, 360, 361, 362, 363, 364, 365]}, {\\\"hunk_idx\\\": \\\"8\\\", \\\"before_code\\\": \\\"```python\\\\n                            num_displayed_cases = len(\\\\n                                display_data[\\\\\\\"testCases\\\\\\\"]\\\\n                            )  # í•„í„°ë§ í›„ ê°œìˆ˜ ì—…ë°ì´íŠ¸\\\\n                        count_caption_text = f\\\\\\\"(í‘œì‹œ: {num_displayed_cases} / ì´: {num_total_cases}ê±´, ì‹¤íŒ¨ë§Œ)\\\\\\\"\\\\n                    else:\\\\n                        # ì²´í¬ë°•ìŠ¤ í•´ì œ ì‹œì—ëŠ” ì›ë³¸ metricsDataë¥¼ ë³´ì—¬ì£¼ê¸° ìœ„í•´ display_dataë¥¼ json_dataì˜ ë³µì‚¬ë³¸ìœ¼ë¡œ ë‹¤ì‹œ ì„¤ì •í•  í•„ìš”ëŠ” ì—†ìŒ\\\\n                        # ì–´ì°¨í”¼ ë§¤ë²ˆ json_dataì˜ deepcopyë¡œ ì‹œì‘í•¨.\\\\n                        count_caption_text = f\\\\\\\"(ì´ {num_total_cases}ê±´)\\\\\\\"\\\\n\\\\n                    with col_count:\\\\n                        st.caption(count_caption_text)\\\\n\\\\n```\\\", \\\"after_code\\\": \\\"```python\\\\n                            num_displayed_cases = len(\\\\n                                display_data[\\\\\\\"testCases\\\\\\\"]\\\\n                            )  # í•„í„°ë§ í›„ ê°œìˆ˜ ì—…ë°ì´íŠ¸\\\\n                        count_caption_text = f\\\\\\\"(í‘œì‹œ: {num_displayed_cases} / ì´: {num_total_cases}ê±´, ì‹¤íŒ¨ë§Œ)\\\\\\\"\\\\n                    else:\\\\n                        count_caption_text = f\\\\\\\"(ì´ {num_total_cases}ê±´)\\\\\\\"\\\\n\\\\n                    with col_count:\\\\n                        st.caption(count_caption_text)\\\\n\\\\n```\\\", \\\"after_code_start_line_number\\\": 432, \\\"after_code_line_numbers\\\": [432, 433, 434, 435, 436, 437, 438, 439, 440, 441]}, {\\\"hunk_idx\\\": \\\"9\\\", \\\"before_code\\\": \\\"```python\\\\n                                        pass\\\\n                    st.json(display_data, expanded=False)\\\\n            except json.JSONDecodeError:\\\\n                # JSON íŒŒì‹± ì‹¤íŒ¨ ì‹œ ì¼ë°˜ í…ìŠ¤íŠ¸ë¡œ í‘œì‹œ\\\\n                st.text(content)\\\\n        elif format == \\\\\\\"html\\\\\\\":\\\\n            # HTMLì€ iframeìœ¼ë¡œ í‘œì‹œ\\\\n            # st.html(content, height=600, scrolling=True) # ì´ì „ ì½”ë“œ\\\\n            # HTML ë¬¸ìì—´ì— ì§ì ‘ ìŠ¤íƒ€ì¼ì„ ì ìš©í•˜ì—¬ ë†’ì´ì™€ ìŠ¤í¬ë¡¤ ì œì–´\\\\n            html_content_with_style = f\\\\\\\"\\\\\\\"\\\\\\\"\\\\n            <div style=\\\\\\\"height: 600px; overflow-y: scroll;\\\\\\\">\\\\n                {content}\\\\n            </div>\\\\n            \\\\\\\"\\\\\\\"\\\\\\\"\\\\n            # st.html(html_content_with_style, height=610) # ì´ì „ ì½”ë“œ\\\\n            st.markdown(html_content_with_style, unsafe_allow_html=True)\\\\n        else:\\\\n            # ë§ˆí¬ë‹¤ìš´ ë˜ëŠ” ë‹¤ë¥¸ í˜•ì‹ì€ ë§ˆí¬ë‹¤ìš´ìœ¼ë¡œ í‘œì‹œ\\\\n            st.markdown(content, unsafe_allow_html=True)\\\\n\\\\n    except Exception as e:\\\\n        st.error(f\\\\\\\"íŒŒì¼ì„ ì½ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: {str(e)}\\\\\\\")\\\\n\\\\n\\\\n```\\\", \\\"after_code\\\": \\\"```python\\\\n                                        pass\\\\n                    st.json(display_data, expanded=False)\\\\n            except json.JSONDecodeError:\\\\n                # JSON íŒŒì‹± ì‹¤íŒ¨ ì‹œ ì¼ë°˜ í…ìŠ¤íŠ¸ë¡œ í‘œì‹œ\\\\n                st.text(content)\\\\n\\\\n    except Exception as e:\\\\n        st.error(f\\\\\\\"íŒŒì¼ì„ ì½ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: {str(e)}\\\\\\\")\\\\n\\\\n\\\\n```\\\", \\\"after_code_start_line_number\\\": 482, \\\"after_code_line_numbers\\\": [482, 483, 484, 485, 486, 487, 488, 489, 490, 491]}]}\"}]",
    "actual_output": "{\"issues\": [{\"type\": \"bug\", \"line_number\": 484, \"file\": \"reviewer/src/ui.py\", \"description\": \"íŒŒì¼ í˜•ì‹(format)ì´ 'json'ì´ ì•„ë‹Œ ê²½ìš°, JSON íŒŒì‹± ì˜¤ë¥˜ ì˜ˆì™¸ ì²˜ë¦¬ ë¸”ë¡ìœ¼ë¡œ ë„˜ì–´ê°€ íŒŒì¼ ë‚´ìš©ì´ í•­ìƒ ì¼ë°˜ í…ìŠ¤íŠ¸(`st.text`)ë¡œ í‘œì‹œë©ë‹ˆë‹¤. ì´ë¡œ ì¸í•´ 'html' ë˜ëŠ” 'txt' í˜•ì‹ì˜ íŒŒì¼ì´ ì˜ë„ëœ í˜•ì‹(ì˜ˆ: HTML ë Œë”ë§, ë§ˆí¬ë‹¤ìš´)ìœ¼ë¡œ í‘œì‹œë˜ì§€ ì•Šê³  ë‹¨ìˆœíˆ í…ìŠ¤íŠ¸ë¡œë§Œ ë³´ì…ë‹ˆë‹¤. `get_file_info` í•¨ìˆ˜ëŠ” ë‹¤ì–‘í•œ í˜•ì‹ì„ ì‹ë³„í•˜ì§€ë§Œ, `app` í•¨ìˆ˜ì—ì„œëŠ” 'json'ë§Œ íŠ¹ë³„íˆ ì²˜ë¦¬í•˜ê³  ìˆìŠµë‹ˆë‹¤.\", \"suggestion\": \"íŒŒì¼ í˜•ì‹ì— ë”°ë¼ ì ì ˆí•œ Streamlit í•¨ìˆ˜(`st.html`, `st.markdown`, `st.text`)ë¥¼ ì‚¬ìš©í•˜ì—¬ ë‚´ìš©ì„ í‘œì‹œí•˜ë„ë¡ ë¡œì§ì„ ìˆ˜ì •í•´ì•¼ í•©ë‹ˆë‹¤. `if format == \\\"json\\\":` ë¸”ë¡ ì´í›„ì— `elif` ë° `else` ë¸”ë¡ì„ ì¶”ê°€í•˜ì—¬ ë‹¤ë¥¸ í˜•ì‹ì„ ì²˜ë¦¬í•˜ì„¸ìš”.\", \"severity\": \"warning\", \"target_code\": \"            except json.JSONDecodeError:\\n                # JSON íŒŒì‹± ì‹¤íŒ¨ ì‹œ ì¼ë°˜ í…ìŠ¤íŠ¸ë¡œ í‘œì‹œ\\n                st.text(content)\", \"suggested_code\": \"            except json.JSONDecodeError:\\n                # JSON íŒŒì‹± ì‹¤íŒ¨ ì‹œ ì¼ë°˜ í…ìŠ¤íŠ¸ë¡œ í‘œì‹œ\\n                st.text(content)\\n        elif format == \\\"html\\\":\\n            # HTMLì€ st.htmlë¡œ í‘œì‹œ\\n            st.html(content)\\n        else:\\n            # ê·¸ ì™¸ í˜•ì‹ (txt ë“±)ì€ st.markdownìœ¼ë¡œ í‘œì‹œ\\n            st.markdown(content, unsafe_allow_html=True)\"}], \"summary\": \"ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” íŒŒì¼ ë³´ê¸° ì˜µì…˜ ë° ê´€ë ¨ í•¨ìˆ˜ë“¤ì„ ì œê±°í•˜ì—¬ UI ì½”ë“œë¥¼ ê°„ì†Œí™”í–ˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ íŒŒì¼ ë‚´ìš© í‘œì‹œ ë¡œì§ì—ì„œ JSON í˜•ì‹ì´ ì•„ë‹Œ íŒŒì¼(HTML, TXT ë“±)ì— ëŒ€í•œ ì²˜ë¦¬ê°€ ëˆ„ë½ë˜ì–´, í•´ë‹¹ íŒŒì¼ë“¤ì´ ì˜¬ë°”ë¥¸ í˜•ì‹ìœ¼ë¡œ í‘œì‹œë˜ì§€ ì•Šê³  ì¼ë°˜ í…ìŠ¤íŠ¸ë¡œë§Œ ë³´ì´ëŠ” ë²„ê·¸ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\", \"score\": 6.0, \"recommendations\": [\"íŒŒì¼ í˜•ì‹ì— ë”°ë¥¸ ë‚´ìš© í‘œì‹œ ë¡œì§ì„ ë³µì›í•˜ì—¬ HTML, TXT íŒŒì¼ ë“±ì´ ì˜¬ë°”ë¥´ê²Œ ë Œë”ë§ë˜ë„ë¡ ìˆ˜ì •í•´ì•¼ í•©ë‹ˆë‹¤.\", \"íŒŒì¼ ì½ê¸° ë° JSON íŒŒì‹± ì¤‘ ë°œìƒí•˜ëŠ” ì˜ˆì™¸ ì²˜ë¦¬ë¥¼ ì¢€ ë” êµ¬ì²´ì ìœ¼ë¡œ ë¶„ë¦¬í•˜ì—¬ ì˜¤ë¥˜ ë°œìƒ ì‹œ ì‚¬ìš©ìì—ê²Œ ë” ëª…í™•í•œ ì •ë³´ë¥¼ ì œê³µí•  ìˆ˜ ìˆë„ë¡ ê°œì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\", \"ì½”ë“œ ì „ë°˜ì— ê±¸ì³ ë³€ìˆ˜ëª…, í•¨ìˆ˜ëª… ë“±ì˜ ë„¤ì´ë° ì»¨ë²¤ì…˜ì„ ì¼ê´€ë˜ê²Œ ìœ ì§€í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤. (ì˜ˆ: `review_log` vs `review log`)\"]}"
  },
  {
    "input": "[{\"role\": \"system\", \"content\": \"ë‹¹ì‹ ì€ ìˆ™ë ¨ëœ ì½”ë“œ ë¦¬ë·°ì–´ì…ë‹ˆë‹¤. ì œê³µëœ ì…ë ¥(JSON) ë°ì´í„°ë¥¼ ë¶„ì„í•˜ì—¬ ì½”ë“œ í’ˆì§ˆ, ë²„ê·¸, ë³´ì•ˆ ë¬¸ì œ, ì„±ëŠ¥ ì´ìŠˆ ë“± ì£¼ìš” ë¬¸ì œì ì„ ì¢…í•©ì ìœ¼ë¡œ í‰ê°€í•˜ê³ , ê°œì„  ë°©í–¥ì— ëŒ€í•´ ììœ ë¡­ê²Œ ì˜ê²¬ì„ ì œì‹œí•˜ì„¸ìš”.\\n\\nì¤‘ìš” ê·œì¹™\\n  - ëª¨ë“  ì‘ë‹µì€ ë°˜ë“œì‹œ í•œêµ­ì–´ë¡œ ì‘ì„±í•´ì•¼ í•©ë‹ˆë‹¤. ì˜ì–´ë‚˜ ë‹¤ë¥¸ ì–¸ì–´ë¡œ ì‘ë‹µí•˜ì§€ ë§ˆì„¸ìš”.\\n  - ì´ìŠˆ ì„¤ëª…(description) ë° ì œì•ˆ(suggestion)ì˜ ëª…í™•ì„±(Clarity): ë…ìê°€ ì‰½ê²Œ ì´í•´í•  ìˆ˜ ìˆë„ë¡ ê°„ê²°í•˜ê³  ëª…í™•í•œ ì–¸ì–´ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”. \\n  - ì½”ë“œ ì˜ˆì‹œ ì œê³µ: suggestionì´ ì½”ë“œ ë³€ê²½ì„ í¬í•¨í•œë‹¤ë©´, issues ê°ì²´ì˜ suggested_code í•„ë“œë¥¼ ì ê·¹ í™œìš©í•˜ì„¸ìš”. ë§Œì•½ issuesê°€ ì—†ë‹¤ë©´, recommendations í•­ëª©ì—ì„œ ì „ë°˜ì ì¸ ê°œì„  ë°©í–¥ê³¼ í•¨ê»˜ ì°¸ê³ í•  ë§Œí•œ ì½”ë“œ ìŠ¤íƒ€ì¼ ë˜ëŠ” ê°„ë‹¨í•œ ê°œì„  ì½”ë“œ ì˜ˆì‹œë¥¼ ì œì‹œí•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤. (ì˜ˆ: \\\"ê¶Œì¥ ì‚¬í•­: ì „ë°˜ì ìœ¼ë¡œ ë³€ìˆ˜ëª…ì— snake_caseë¥¼ ì¼ê´€ë˜ê²Œ ì‚¬ìš©í•˜ë©´ ê°€ë…ì„±ì´ í–¥ìƒë©ë‹ˆë‹¤. (ì˜ˆ: existingVariable -> existing_variable)\\\")\\n----------------------\\n### ì…ë ¥(JSON) êµ¬ì¡°\\n```json\\n{\\n  \\\"file_name\\\":   string,             // ë³€ê²½ì´ ë°œìƒí•œ íŒŒì¼ ê²½ë¡œ, ì‘ë‹µ JSONì˜ issues ê°ì²´ ë‚´ file í•„ë“œì— ì´ ê°’ì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.\\n  \\\"file_content\\\": string,            // ì‚¬ìš©ìê°€ **ìˆ˜ì • í›„** ì €ì¥í•œ íŒŒì¼ì˜ ì „ì²´ ë‚´ìš©, ë³€ê²½ëœ ì½”ë“œ ì£¼ë³€ì˜ ì „ì²´ì ì¸ ë§¥ë½ì„ íŒŒì•…í•˜ëŠ” ë° ì°¸ê³ ìš©\\n  \\\"formatted_hunks\\\": [ // Git diff ì •ë³´ë¥¼ êµ¬ì¡°í™”í•œ ë°°ì—´\\n    {\\n      \\\"hunk_idx\\\":     string,  // (ë¬´ì‹œ ê°€ëŠ¥) ë‚´ë¶€ ì‹ë³„ì\\n      \\\"after_code_start_line_number\\\":  int,     // after_codeê°€ file_content ë‚´ì—ì„œ ì‹œì‘í•˜ëŠ” ë¼ì¸ ë²ˆí˜¸\\n      \\\"before_code\\\":  string,  // **ìˆ˜ì • ì „** ì½”ë“œ\\n      \\\"after_code\\\":   string   // **ìˆ˜ì • í›„** ì½”ë“œ â€” âŸµ ë¦¬ë·° ëŒ€ìƒ\\n      // ê·¸ ë°–ì˜ í•„ë“œëŠ” ìˆì–´ë„ ë¬´ì‹œí•´ë„ ë©ë‹ˆë‹¤.\\n    },\\n    ...\\n  ]\\n}\\n```\\n\\nê·œì¹™ \\n- ë°˜ë“œì‹œ **after_code ìœ„ì£¼**ë¡œ ë¶„ì„â€§ë¦¬ë·°í•˜ì„¸ìš”. before_codeì™€ file_contentëŠ” ì°¸ê³  ì»¨í…ìŠ¤íŠ¸ë¡œë§Œ í™œìš©í•©ë‹ˆë‹¤.\\n- ë§Œì•½ before_code, file_contentì— ì œì•ˆ ì‚¬í•­ì´ ìˆë‹¤ë©´ recommendationsì— ëª…ì‹œí•´ì£¼ì„¸ìš”.\\n----------------------\\n### ì¶œë ¥(JSON) í˜•ì‹\\nê° ì´ìŠˆëŠ” ë‹¤ìŒ ì •ë³´ë¥¼ í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤:\\n- type: ì´ìŠˆ ìœ í˜• (ë°˜ë“œì‹œ bug, security, performance, style, design ì¤‘ í•˜ë‚˜)\\n- line_number: ë¬¸ì œê°€ ìˆëŠ” ì½”ë“œì˜ ë¼ì¸ ë²ˆí˜¸, file_content ì „ì²´ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í•˜ëŠ” ì ˆëŒ€ì ì¸ ë¼ì¸ ë²ˆí˜¸ (ìˆ«ì, ì•Œ ìˆ˜ ì—†ìœ¼ë©´ null)\\n- file: ë¬¸ì œê°€ ìˆëŠ” íŒŒì¼ ì´ë¦„ (ì •í™•í•œ ê²½ë¡œ, ì„ì˜ ì´ë¦„ ê¸ˆì§€)\\n- description: ì´ìŠˆì— ëŒ€í•œ ìì„¸í•œ ì„¤ëª…\\n- suggestion: ë¬¸ì œ í•´ê²°ì„ ìœ„í•œ êµ¬ì²´ì ì¸ ì œì•ˆ\\n- severity: ì´ìŠˆì˜ ì‹¬ê°ë„ (info, warning, error ì¤‘ í•˜ë‚˜)\\n- target_code    : ë¦¬ë·° ëŒ€ìƒ ì½”ë“œ ìŠ¤ë‹ˆí«(after_code ì¤‘ ë¬¸ì œ ë¶€ë¶„)\\n- suggested_code : ê°œì„  ì œì•ˆì´ ë°˜ì˜ëœ ì½”ë“œ ìŠ¤ë‹ˆí«\\n\\në˜í•œ ë‹¤ìŒ ì •ë³´ë„ ì œê³µí•´ì•¼ í•©ë‹ˆë‹¤:\\n- summary: ì „ì²´ ì½”ë“œ ë³€ê²½ì— ëŒ€í•œ ìš”ì•½\\n- score: ì½”ë“œ í’ˆì§ˆì— ëŒ€í•œ 0-10 ì‚¬ì´ì˜ ì ìˆ˜\\n- recommendations: ì „ë°˜ì ì¸ ê°œì„ ì„ ìœ„í•œ ê¶Œì¥ì‚¬í•­ ëª©ë¡ (í•„ìš”ì‹œ ì½”ë“œ ì˜ˆì‹œ í¬í•¨)\\n\\n---------------------\\n### ì¶œë ¥(JSON) ì˜ˆì‹œ\\n\\n```json\\n{\\n  \\\"issues\\\": [\\n    {\\n      \\\"type\\\": \\\"ë²„ê·¸\\\",\\n      \\\"line_number\\\": 42,\\n      \\\"file\\\": \\\"src/app.py\\\",\\n      \\\"description\\\": \\\"NullPointerException ê°€ëŠ¥ì„±ì´ ìˆìŠµë‹ˆë‹¤.\\\",\\n      \\\"suggestion\\\": \\\"ë³€ìˆ˜ê°€ nullì¸ì§€ í™•ì¸ í›„ ì‚¬ìš©í•˜ì„¸ìš”.\\\",\\n      \\\"severity\\\": \\\"error\\\",\\n      \\\"target_code\\\": \\\"if (user.isActive) { ... }\\\",\\n      \\\"suggested_code\\\": \\\"if (user != null && user.isActive) { ... }\\\"\\n    }\\n  ],\\n  \\\"summary\\\": \\\"ë¡œê·¸ì¸ ë¡œì§ ê°œì„  ë° ì˜ˆì™¸ ì²˜ë¦¬ ê°•í™” í•„ìš”.\\\",\\n  \\\"score\\\": 7,\\n  \\\"recommendations\\\": [\\\"ëª¨ë“  ì…ë ¥ê°’ì— ëŒ€í•œ null ì²´í¬ ê°•í™”\\\", \\\"í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì¶”ê°€\\\"]\\n}\\n```\\n---------------------\\n## ê·œì¹™\\n1. ì´ìŠˆ ì„¤ëª…ê³¼ ì œì•ˆì€ êµ¬ì²´ì ì´ê³  ëª…í™•í•˜ê²Œ ì‘ì„±í•˜ì„¸ìš”. ëª¨í˜¸í•œ í‘œí˜„ì´ë‚˜ ì¼ë°˜ì ì¸ ì¡°ì–¸ì€ í”¼í•˜ê³ , ì½”ë“œì˜ íŠ¹ì • ë¶€ë¶„(target_code)ì„ ì–¸ê¸‰í•˜ë©° ì‹¤ì§ˆì ì¸ ê°œì„  ë°©ì•ˆ(suggested_code)ì„ ì œì‹œí•˜ì„¸ìš”.\\n2. JSON ì™¸ ë‹¤ë¥¸ í˜•ì‹ì˜ ì¶œë ¥(í…ìŠ¤íŠ¸, ë§ˆí¬ë‹¤ìš´ ë“±)ì„ ì ˆëŒ€ í¬í•¨í•˜ì§€ ë§ˆì„¸ìš”.\\n3. target_codeì™€ suggested_code ê°’ì—ëŠ” ìˆœìˆ˜í•œ ì½”ë“œ ë¬¸ìì—´ë§Œ í¬í•¨í•©ë‹ˆë‹¤. ì½”ë“œ ìŠ¤ë‹ˆí« ì‹œì‘ê³¼ ëì— ë¶ˆí•„ìš”í•œ ë¹ˆ ì¤„ì„ ë„£ì§€ ë§ê³ , ë°±í‹±(```)ì´ë‚˜ ê¸°íƒ€ ë§ˆí¬ë‹¤ìš´ìœ¼ë¡œ ê°ì‹¸ì§€ ë§ˆì„¸ìš”.\\n4. íŠ¹ë³„íˆ ì§€ì í•  ì´ìŠˆê°€ ì—†ë‹¤ë©´ \\\"issues\\\": [] ë¡œ ë¹„ì›Œ ë‘ê³ , summary ì— â€œì½”ë“œ ë³€ê²½ ì‚¬í•­ì—ì„œ íŠ¹ë³„í•œ ì´ìŠˆë¥¼ ë°œê²¬í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.â€ì™€ ê°™ì´ ëª…ì‹œí•˜ì„¸ìš”.\\n5. ë¦¬ë·° ëŒ€ìƒì€ after_code ì…ë‹ˆë‹¤. before_codeì™€ file_contentëŠ” ì°¸ê³ ìš©ì…ë‹ˆë‹¤.\\n6. íŒŒì¼ëª…(file)ì€ ì£¼ì–´ì§„ ê°’ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ì„¸ìš”.\\n7.  `issues[].line_number` ê²°ì • ë°©ë²•:\\n    a.  `issues[].line_number`ëŠ” `target_code` (ë¦¬ë·° ëŒ€ìƒ ì½”ë“œ ìŠ¤ë‹ˆí«)ê°€ `file_content` ì „ì²´ì—ì„œ ì‹œì‘í•˜ëŠ” **ì ˆëŒ€ì ì¸ 1-based ë¼ì¸ ë²ˆí˜¸**ì—¬ì•¼ í•©ë‹ˆë‹¤.\\n    b.  ì´ ê°’ì„ ê²°ì •í•˜ê¸° ìœ„í•´ `target_code`ê°€ ì†í•œ `hunk`ì˜ ë‹¤ìŒ ì •ë³´ë“¤ì„ ì‚¬ìš©í•©ë‹ˆë‹¤:\\n        i.  `formatted_hunks[].after_code`: ìˆ˜ì • í›„ ì½”ë“œ ë¸”ë¡ ë¬¸ìì—´ì…ë‹ˆë‹¤.\\n        ii. `formatted_hunks[].after_code_line_numbers`: `after_code`ì˜ ê° ë¼ì¸ì— í•´ë‹¹í•˜ëŠ” `file_content` ê¸°ì¤€ ì ˆëŒ€ 1-based ë¼ì¸ ë²ˆí˜¸ë“¤ì´ ìˆœì„œëŒ€ë¡œ ë‹´ê¸´ ë¦¬ìŠ¤íŠ¸ì…ë‹ˆë‹¤. ì´ ë¦¬ìŠ¤íŠ¸ì˜ ê¸¸ì´ëŠ” `after_code`ì˜ ì´ ë¼ì¸ ìˆ˜ì™€ ì •í™•íˆ ì¼ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤.\\n        iii. `target_code`: ë¦¬ë·° ëŒ€ìƒ ì½”ë“œ ìŠ¤ë‹ˆí«ìœ¼ë¡œ, `after_code`ì˜ ì¼ë¶€ì—¬ì•¼ í•©ë‹ˆë‹¤.\\n    c.  **ê³„ì‚° ë‹¨ê³„:**\\n        1.  **`target_code`ì˜ ìƒëŒ€ ì‹œì‘ ìœ„ì¹˜ íŒŒì•…:** `target_code`ì˜ ì²« ë²ˆì§¸ ë¼ì¸ì´ `after_code` ë‚´ì—ì„œ ëª‡ ë²ˆì§¸ ë¼ì¸(1-based)ì—ì„œ ì‹œì‘í•˜ëŠ”ì§€ ì •í™•íˆ íŒŒì•…í•©ë‹ˆë‹¤. ì´ë¥¼ \\\"ìƒëŒ€ ì‹œì‘ ë¼ì¸ ë²ˆí˜¸\\\"ë¼ê³  í•©ë‹ˆë‹¤. (ì˜ˆ: `target_code`ì˜ ì²« ì¤„ì´ `after_code`ì˜ 3ë²ˆì§¸ ì¤„ê³¼ ë‚´ìš©ì´ ê°™ë‹¤ë©´, \\\"ìƒëŒ€ ì‹œì‘ ë¼ì¸ ë²ˆí˜¸\\\"ëŠ” `3`ì…ë‹ˆë‹¤.)\\n        2.  **ì ˆëŒ€ ë¼ì¸ ë²ˆí˜¸ ì¡°íšŒ:** íŒŒì•…ëœ \\\"ìƒëŒ€ ì‹œì‘ ë¼ì¸ ë²ˆí˜¸\\\"ë¥¼ ì‚¬ìš©í•˜ì—¬ `after_code_line_numbers` ë¦¬ìŠ¤íŠ¸ì—ì„œ í•´ë‹¹ ìœ„ì¹˜ì˜ ê°’ì„ ê°€ì ¸ì˜µë‹ˆë‹¤. ë¦¬ìŠ¤íŠ¸ëŠ” 0-based ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë¯€ë¡œ, `issues[].line_number = after_code_line_numbers[ (ìƒëŒ€ ì‹œì‘ ë¼ì¸ ë²ˆí˜¸) - 1 ]` ê³µì‹ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.\\n    d.  **ì˜ˆì‹œ:**\\n        `after_code`ê°€ 3ì¤„ì´ê³ , `after_code_line_numbers`ê°€ `[50, 51, 52]`ë¼ê³  ê°€ì •í•©ë‹ˆë‹¤.\\n        ë§Œì•½ `target_code`ì˜ ì²« ë²ˆì§¸ ë¼ì¸ì´ `after_code`ì˜ `2`ë²ˆì§¸ ë¼ì¸ ë‚´ìš©ê³¼ ì¼ì¹˜í•œë‹¤ë©´, \\\"ìƒëŒ€ ì‹œì‘ ë¼ì¸ ë²ˆí˜¸\\\"ëŠ” `2`ì…ë‹ˆë‹¤.\\n        ë”°ë¼ì„œ, `issues[].line_number = after_code_line_numbers[2 - 1] = after_code_line_numbers[1]` ì´ë¯€ë¡œ, `issues[].line_number`ëŠ” `51`ì´ ë©ë‹ˆë‹¤.\\n    e.  `target_code`ê°€ ì—¬ëŸ¬ ë¼ì¸ì— ê±¸ì³ ìˆëŠ” ê²½ìš°, `target_code`ì˜ **ì²« ë²ˆì§¸ ë¼ì¸**ì„ ê¸°ì¤€ìœ¼ë¡œ `issues[].line_number`ë¥¼ ê²°ì •í•©ë‹ˆë‹¤.\\n    f.  ë§Œì•½ `target_code`ë¥¼ `after_code` ë‚´ì—ì„œ ì°¾ì„ ìˆ˜ ì—†ê±°ë‚˜, \\\"ìƒëŒ€ ì‹œì‘ ë¼ì¸ ë²ˆí˜¸\\\"ë¥¼ ì •í™•íˆ íŠ¹ì •í•  ìˆ˜ ì—†ëŠ” ê²½ìš°, `issues[].line_number`ëŠ” `null`ë¡œ ì„¤ì •í•˜ê³ , í•„ìš”í•œ ê²½ìš° `description`ì— í•´ë‹¹ ìƒí™©ì„ ê°„ëµíˆ ì–¸ê¸‰í•©ë‹ˆë‹¤.\\n    g.  (ê¸°ì¡´ì˜ íŒŒì¼ ì „ì²´ì— ëŒ€í•œ ì´ìŠˆ ì²˜ë¦¬ ì‹œ `null` ì‚¬ìš© ë“± ê´€ë ¨ ê·œì¹™ ìœ ì§€)\\n8. íŠ¹ì • ì½”ë“œ ë¼ì¸ì„ ì‚­ì œí•˜ê±°ë‚˜ íŒŒì¼ì„ ì‚­ì œí•´ì•¼ í•˜ëŠ” ê²½ìš°, suggested_code ìµœìƒë‹¨ì— \\\"ì½”ë“œ ë¼ì¸ ì œê±°\\\" ë˜ëŠ” \\\"íŒŒì¼ ì œê±°\\\" ë¼ëŠ” ë¬¸êµ¬ë¥¼ ëª…ì‹œí•˜ê³ , ê·¸ ì•„ë˜ì— ì œê±° ëŒ€ìƒ ì½”ë“œë¥¼ ì£¼ì„ ì²˜ë¦¬í•˜ì—¬ ì œê³µí•˜ì„¸ìš”.\\n   ì˜ˆë¥¼ ë“¤ì–´, Python ì½”ë“œ ì‚­ì œ ì‹œ # ì½”ë“œ ë¼ì¸ ì œê±°\\\\n# print(\\\"ì‚­ì œë  ì½”ë“œ\\\") ì™€ ê°™ì´ í‘œí˜„í•©ë‹ˆë‹¤. ë§Œì•½ ì—¬ëŸ¬ ë¼ì¸ì´ë¼ë©´ ê° ë¼ì¸ì„ ì£¼ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.\"}, {\"role\": \"user\", \"content\": \"{\\\"file_name\\\": \\\"reviewer/cli.py\\\", \\\"file_content\\\": \\\"import argparse\\\\nimport getpass\\\\nimport json\\\\nimport os\\\\nimport sys\\\\nfrom datetime import datetime, timedelta\\\\nfrom enum import Enum\\\\nfrom pathlib import Path\\\\n\\\\nfrom reviewer.src.available_models import get_model_info, get_supported_models\\\\nfrom reviewer.src.config import (\\\\n    get_api_key,\\\\n    get_default_diff_only,\\\\n    get_default_model,\\\\n    get_default_results_dir,\\\\n    get_default_review_log_dir,\\\\n    get_default_review_request_dir,\\\\n    set_api_key,\\\\n    set_default_diff_only,\\\\n    set_default_model,\\\\n    set_default_results_dir,\\\\n)\\\\nfrom reviewer.src.diff_parser import parse_git_diff\\\\nfrom reviewer.src.llm_gateway.gateway_factory import GatewayFactory\\\\nfrom reviewer.src.ui import run_app\\\\nfrom reviewer.src.utils.file_utils import find_project_root\\\\nfrom reviewer.src.utils.git_utils import GitDiffUtility\\\\nfrom reviewer.src.utils.logging import (\\\\n    DETAILED_LOG_FORMAT,\\\\n    LOG_LEVEL_INFO,\\\\n    get_logger,\\\\n    setup_logging,\\\\n)\\\\nfrom reviewer.src.utils.prompts.models.review_prompt import ReviewPrompt\\\\nfrom reviewer.src.utils.prompts.models.review_prompt_with_file_content import (\\\\n    ReviewPromptWithFileContent,\\\\n)\\\\nfrom reviewer.src.utils.prompts.prompt_generator import PromptGenerator\\\\nfrom reviewer.src.utils.token.models import ReviewRequest, ReviewResponse\\\\n\\\\n# ë¡œê±° ì¸ìŠ¤í„´ìŠ¤ ìƒì„±\\\\nlogger = get_logger(__name__)\\\\n\\\\n\\\\ndef parse_args() -> argparse.Namespace:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ëª…ë ¹ì¤„ ì¸ìˆ˜ë¥¼ íŒŒì‹±í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    parser = argparse.ArgumentParser(description=\\\\\\\"LLM ê¸°ë°˜ ì½”ë“œ ë¦¬ë·° ë„êµ¬\\\\\\\")\\\\n\\\\n    # í•˜ìœ„ ëª…ë ¹ì–´ íŒŒì„œ ìƒì„±\\\\n    subparsers = parser.add_subparsers(dest=\\\\\\\"command\\\\\\\", help=\\\\\\\"ëª…ë ¹ì–´\\\\\\\")\\\\n\\\\n    # ë¦¬ë·° ëª…ë ¹ì–´ (ê¸°ë³¸ ê¸°ëŠ¥)\\\\n    review_parser = subparsers.add_parser(\\\\\\\"review\\\\\\\", help=\\\\\\\"ì½”ë“œ ë¦¬ë·° ìˆ˜í–‰\\\\\\\")\\\\n    review_parser.add_argument(\\\\n        \\\\\\\"--output-format\\\\\\\",\\\\n        type=str,\\\\n        choices=[\\\\\\\"markdown\\\\\\\", \\\\\\\"html\\\\\\\"],\\\\n        default=\\\\\\\"markdown\\\\\\\",\\\\n        help=\\\\\\\"ì¶œë ¥ í˜•ì‹ (ì‚¬ìš©ë˜ì§€ ì•ŠìŒ, í•˜ìœ„ í˜¸í™˜ì„±ì„ ìœ„í•´ ìœ ì§€ë¨)\\\\\\\",\\\\n        deprecated=True,\\\\n    )\\\\n    review_parser.add_argument(\\\\n        \\\\\\\"--repo-path\\\\\\\",\\\\n        type=str,\\\\n        default=\\\\\\\".\\\\\\\",\\\\n        help=\\\\\\\"Git ì €ì¥ì†Œ ê²½ë¡œ (ê¸°ë³¸ê°’: í˜„ì¬ ë””ë ‰í† ë¦¬)\\\\\\\",\\\\n    )\\\\n\\\\n    # ë¦¬ë·° ëŒ€ìƒ ì§€ì •ì„ ìœ„í•œ ìƒí˜¸ ë°°íƒ€ì  ê·¸ë£¹\\\\n    review_target_group = review_parser.add_mutually_exclusive_group()\\\\n    review_target_group.add_argument(\\\\n        \\\\\\\"--staged\\\\\\\",\\\\n        action=\\\\\\\"store_true\\\\\\\",\\\\n        help=\\\\\\\"Staged ë³€ê²½ì‚¬í•­ë§Œ ë¦¬ë·°\\\\\\\",\\\\n    )\\\\n    review_target_group.add_argument(\\\\n        \\\\\\\"--target-commit\\\\\\\",\\\\n        type=str,\\\\n        help=\\\\\\\"íŠ¹ì • ì»¤ë°‹ë¶€í„° HEADê¹Œì§€ì˜ ë³€ê²½ì‚¬í•­ì„ ë¦¬ë·° (ì˜ˆ: abc1234)\\\\\\\",\\\\n    )\\\\n    review_target_group.add_argument(\\\\n        \\\\\\\"--target-branch\\\\\\\",\\\\n        type=str,\\\\n        help=\\\\\\\"í˜„ì¬ ë¸Œëœì¹˜ì™€ ì§€ì •ëœ ë¸Œëœì¹˜ ê°„ì˜ ë³€ê²½ì‚¬í•­ì„ ë¦¬ë·° (ì˜ˆ: main)\\\\\\\",\\\\n    )\\\\n\\\\n    review_parser.add_argument(\\\\n        \\\\\\\"--model\\\\\\\",\\\\n        type=str,\\\\n        choices=get_supported_models(),\\\\n        default=get_default_model(),\\\\n        help=\\\\\\\"ì‚¬ìš©í•  AI ëª¨ë¸ (ê¸°ë³¸ê°’: %(default)s)\\\\\\\",\\\\n    )\\\\n    review_parser.add_argument(\\\\n        \\\\\\\"--open-ui\\\\\\\", action=\\\\\\\"store_true\\\\\\\", help=\\\\\\\"ë¦¬ë·° ì™„ë£Œ í›„ UIë¡œ ê²°ê³¼ ë³´ê¸°\\\\\\\"\\\\n    )\\\\n    review_parser.add_argument(\\\\n        \\\\\\\"--diff-only\\\\\\\",\\\\n        action=\\\\\\\"store_true\\\\\\\",\\\\n        default=get_default_diff_only(),\\\\n        help=\\\\\\\"ë³€ê²½ëœ ë¶€ë¶„ë§Œ ë¶„ì„ (ê¸°ë³¸ê°’: ì„¤ì •ì— ë”°ë¦„)\\\\\\\",\\\\n    )\\\\n\\\\n    # ì„¤ì • ëª…ë ¹ì–´\\\\n    config_parser = subparsers.add_parser(\\\\\\\"config\\\\\\\", help=\\\\\\\"ì„¤ì • ê´€ë¦¬\\\\\\\")\\\\n    config_subparsers = config_parser.add_subparsers(\\\\n        dest=\\\\\\\"config_command\\\\\\\", help=\\\\\\\"ì„¤ì • ëª…ë ¹ì–´\\\\\\\"\\\\n    )\\\\n\\\\n    # API í‚¤ ì„¤ì •\\\\n    api_key_parser = config_subparsers.add_parser(\\\\\\\"api-key\\\\\\\", help=\\\\\\\"API í‚¤ ì„¤ì •\\\\\\\")\\\\n    api_key_parser.add_argument(\\\\n        \\\\\\\"provider\\\\\\\",\\\\n        choices=[\\\\\\\"openai\\\\\\\", \\\\\\\"claude\\\\\\\", \\\\\\\"google\\\\\\\"],\\\\n        default=\\\\\\\"openai\\\\\\\",\\\\n        nargs=\\\\\\\"?\\\\\\\",\\\\n        help=\\\\\\\"API ì œê³µì (ê¸°ë³¸ê°’: openai)\\\\\\\",\\\\n    )\\\\n    api_key_parser.add_argument(\\\\n        \\\\\\\"key\\\\\\\", nargs=\\\\\\\"?\\\\\\\", help=\\\\\\\"API í‚¤ (ì…ë ¥í•˜ì§€ ì•Šìœ¼ë©´ ëŒ€í™”í˜•ìœ¼ë¡œ ìš”ì²­)\\\\\\\"\\\\n    )\\\\n\\\\n    # ê²°ê³¼ ë””ë ‰í† ë¦¬ ì„¤ì •\\\\n    results_dir_parser = config_subparsers.add_parser(\\\\n        \\\\\\\"results-dir\\\\\\\", help=\\\\\\\"ê²°ê³¼ ì €ì¥ ë””ë ‰í† ë¦¬ ì„¤ì •\\\\\\\"\\\\n    )\\\\n    results_dir_parser.add_argument(\\\\n        \\\\\\\"path\\\\\\\", nargs=\\\\\\\"?\\\\\\\", help=\\\\\\\"ì €ì¥ ê²½ë¡œ (ì…ë ¥í•˜ì§€ ì•Šìœ¼ë©´ í˜„ì¬ ì„¤ì • í‘œì‹œ)\\\\\\\"\\\\n    )\\\\n\\\\n    # ëª¨ë¸ ì„¤ì •\\\\n    model_parser = config_subparsers.add_parser(\\\\\\\"model\\\\\\\", help=\\\\\\\"ëª¨ë¸ ì„¤ì •\\\\\\\")\\\\n    model_parser.add_argument(\\\\n        \\\\\\\"model_name\\\\\\\",\\\\n        nargs=\\\\\\\"?\\\\\\\",\\\\n        choices=get_supported_models(),\\\\n        help=\\\\\\\"ê¸°ë³¸ìœ¼ë¡œ ì‚¬ìš©í•  AI ëª¨ë¸\\\\\\\",\\\\n    )\\\\n\\\\n    # diff-only ì„¤ì •\\\\n    diff_only_parser = config_subparsers.add_parser(\\\\n        \\\\\\\"diff-only\\\\\\\", help=\\\\\\\"diff-only ì˜µì…˜ ì„¤ì •\\\\\\\"\\\\n    )\\\\n    diff_only_parser.add_argument(\\\\n        \\\\\\\"value\\\\\\\",\\\\n        nargs=\\\\\\\"?\\\\\\\",\\\\n        choices=[\\\\\\\"true\\\\\\\", \\\\\\\"false\\\\\\\"],\\\\n        help=\\\\\\\"ê¸°ë³¸ diff-only ê°’ (true/false)\\\\\\\",\\\\n    )\\\\n\\\\n    # ì„¤ì • ëª©ë¡ í‘œì‹œ\\\\n    config_subparsers.add_parser(\\\\\\\"list\\\\\\\", help=\\\\\\\"ëª¨ë“  ì„¤ì • í‘œì‹œ\\\\\\\")\\\\n\\\\n    # ê²°ê³¼ ê´€ë¦¬ ëª…ë ¹ì–´\\\\n    results_parser = subparsers.add_parser(\\\\\\\"results\\\\\\\", help=\\\\\\\"ë¦¬ë·° ê²°ê³¼ ê´€ë¦¬\\\\\\\")\\\\n    results_subparsers = results_parser.add_subparsers(\\\\n        dest=\\\\\\\"results_command\\\\\\\", help=\\\\\\\"ê²°ê³¼ ê´€ë¦¬ ëª…ë ¹ì–´\\\\\\\"\\\\n    )\\\\n\\\\n    # ê²°ê³¼ ëª©ë¡ í‘œì‹œ\\\\n    results_subparsers.add_parser(\\\\\\\"list\\\\\\\", help=\\\\\\\"ìµœê·¼ ê²°ê³¼ ëª©ë¡ í‘œì‹œ\\\\\\\")\\\\n\\\\n    # íŠ¹ì • ê²°ê³¼ í‘œì‹œ\\\\n    show_parser = results_subparsers.add_parser(\\\\\\\"show\\\\\\\", help=\\\\\\\"íŠ¹ì • ê²°ê³¼ í‘œì‹œ\\\\\\\")\\\\n    show_parser.add_argument(\\\\\\\"result_id\\\\\\\", help=\\\\\\\"ê²°ê³¼ íŒŒì¼ëª… ë˜ëŠ” ID\\\\\\\")\\\\n\\\\n    # ì˜¤ë˜ëœ ê²°ê³¼ ì •ë¦¬\\\\n    clean_parser = results_subparsers.add_parser(\\\\\\\"clean\\\\\\\", help=\\\\\\\"ì˜¤ë˜ëœ ê²°ê³¼ ì •ë¦¬\\\\\\\")\\\\n    clean_parser.add_argument(\\\\n        \\\\\\\"--days\\\\\\\",\\\\n        type=int,\\\\n        default=30,\\\\n        help=\\\\\\\"ì´ ê¸°ê°„(ì¼)ë³´ë‹¤ ì˜¤ë˜ëœ ê²°ê³¼ë¥¼ ì‚­ì œ (ê¸°ë³¸ê°’: 30ì¼)\\\\\\\",\\\\n    )\\\\n    clean_parser.add_argument(\\\\n        \\\\\\\"--dry-run\\\\\\\", action=\\\\\\\"store_true\\\\\\\", help=\\\\\\\"ì‹¤ì œë¡œ ì‚­ì œí•˜ì§€ ì•Šê³  ì‚­ì œë  íŒŒì¼ë§Œ í‘œì‹œ\\\\\\\"\\\\n    )\\\\n\\\\n    # UI ë³´ê¸° ëª…ë ¹ì–´\\\\n    view_parser = subparsers.add_parser(\\\\\\\"view\\\\\\\", help=\\\\\\\"ë¦¬ë·° ê²°ê³¼ë¥¼ UIë¡œ ë³´ê¸°\\\\\\\")\\\\n    view_parser.add_argument(\\\\n        \\\\\\\"--port\\\\\\\", type=int, default=8501, help=\\\\\\\"Streamlit ì„œë²„ í¬íŠ¸ (ê¸°ë³¸ê°’: 8501)\\\\\\\"\\\\n    )\\\\n\\\\n    args = parser.parse_args()\\\\n\\\\n    # í•˜ìœ„ ëª…ë ¹ì–´ê°€ ì§€ì •ë˜ì§€ ì•Šì€ ê²½ìš° ê¸°ë³¸ìœ¼ë¡œ review ëª…ë ¹ì–´ ì‚¬ìš©\\\\n    if not args.command:\\\\n        args.command = \\\\\\\"review\\\\\\\"\\\\n\\\\n    return args\\\\n\\\\n\\\\ndef get_diff_content(args: argparse.Namespace) -> str:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"Git diff ë‚´ìš©ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    try:\\\\n        git_diff = GitDiffUtility.from_args(args)\\\\n        return git_diff.get_diff()\\\\n    except ValueError as e:\\\\n        logger.error(str(e))\\\\n        return \\\\\\\"\\\\\\\"\\\\n\\\\n\\\\ndef config_api_key(args: argparse.Namespace) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"API í‚¤ ì„¤ì •ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    provider = args.provider\\\\n\\\\n    # API í‚¤ê°€ ëª…ë ¹ì¤„ì—ì„œ ì œê³µë˜ì§€ ì•Šì€ ê²½ìš° ëŒ€í™”í˜•ìœ¼ë¡œ ìš”ì²­\\\\n    if not hasattr(args, \\\\\\\"key\\\\\\\") or not args.key:\\\\n        # í˜„ì¬ ì„¤ì • í‘œì‹œ\\\\n        try:\\\\n            current_key = get_api_key(provider)\\\\n            if current_key:\\\\n                masked_key = (\\\\n                    current_key[:4] + \\\\\\\"*\\\\\\\" * (len(current_key) - 8) + current_key[-4:]\\\\n                )\\\\n                logger.info(f\\\\\\\"í˜„ì¬ {provider.upper()} API í‚¤: {masked_key}\\\\\\\")\\\\n        except ValueError:\\\\n            logger.info(f\\\\\\\"{provider.upper()} API í‚¤ê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n\\\\n        # ìƒˆ í‚¤ ì…ë ¥ ìš”ì²­\\\\n        try:\\\\n            prompt_message = f\\\\\\\"{provider.upper()} API í‚¤ë¥¼ ì…ë ¥í•˜ì„¸ìš” \\\\\\\"\\\\n            prompt_message += \\\\\\\"(ì…ë ¥ì´ í™”ë©´ì— í‘œì‹œë˜ì§€ ì•ŠìŠµë‹ˆë‹¤): \\\\\\\"\\\\n            api_key = getpass.getpass(prompt_message)\\\\n            if not api_key:\\\\n                logger.warning(\\\\\\\"API í‚¤ê°€ ì…ë ¥ë˜ì§€ ì•Šì•„ ì„¤ì •ì´ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤.\\\\\\\")\\\\n                return\\\\n        except KeyboardInterrupt:\\\\n            logger.info(\\\\\\\"\\\\\\\\nì„¤ì •ì´ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤.\\\\\\\")\\\\n            return\\\\n    else:\\\\n        api_key = args.key\\\\n\\\\n    # API í‚¤ ì €ì¥\\\\n    if set_api_key(api_key, provider):\\\\n        logger.info(f\\\\\\\"{provider.upper()} API í‚¤ê°€ ì„±ê³µì ìœ¼ë¡œ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.\\\\\\\")\\\\n    else:\\\\n        logger.error(f\\\\\\\"{provider.upper()} API í‚¤ ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.\\\\\\\")\\\\n\\\\n\\\\ndef config_results_dir(args: argparse.Namespace) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ê²°ê³¼ ì €ì¥ ë””ë ‰í† ë¦¬ ì„¤ì •ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    if not hasattr(args, \\\\\\\"path\\\\\\\") or not args.path:\\\\n        # í˜„ì¬ ì„¤ì • í‘œì‹œ\\\\n        current_dir = get_default_results_dir()\\\\n        logger.info(f\\\\\\\"í˜„ì¬ ê²°ê³¼ ì €ì¥ ë””ë ‰í† ë¦¬: {current_dir}\\\\\\\")\\\\n        return\\\\n\\\\n    # ìƒˆ ê²½ë¡œ ì €ì¥\\\\n    if set_default_results_dir(args.path):\\\\n        logger.info(f\\\\\\\"ê²°ê³¼ ì €ì¥ ë””ë ‰í† ë¦¬ê°€ {args.path}ë¡œ ì„¤ì •ë˜ì—ˆìŠµë‹ˆë‹¤.\\\\\\\")\\\\n    else:\\\\n        logger.error(\\\\\\\"ê²°ê³¼ ì €ì¥ ë””ë ‰í† ë¦¬ ì„¤ì •ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.\\\\\\\")\\\\n\\\\n\\\\ndef config_model(args: argparse.Namespace) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ëª¨ë¸ ì„¤ì •ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    # ìƒˆ ëª¨ë¸ ì„¤ì •ì´ ì£¼ì–´ì§„ ê²½ìš°\\\\n    if hasattr(args, \\\\\\\"model_name\\\\\\\") and args.model_name:\\\\n        if set_default_model(args.model_name):\\\\n            logger.info(f\\\\\\\"ê¸°ë³¸ ëª¨ë¸ì´ {args.model_name}ë¡œ ì„¤ì •ë˜ì—ˆìŠµë‹ˆë‹¤.\\\\\\\")\\\\n        else:\\\\n            logger.error(\\\\\\\"ê¸°ë³¸ ëª¨ë¸ ì„¤ì •ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.\\\\\\\")\\\\n    else:\\\\n        # ëª¨ë¸ì´ ì§€ì •ë˜ì§€ ì•Šì€ ê²½ìš° í˜„ì¬ ì„¤ì •ì„ í‘œì‹œ\\\\n        current_model = get_default_model()\\\\n        logger.info(f\\\\\\\"í˜„ì¬ ê¸°ë³¸ ëª¨ë¸: {current_model}\\\\\\\")\\\\n        logger.info(\\\\n            \\\\\\\"ìƒˆë¡œìš´ ëª¨ë¸ì„ ì„¤ì •í•˜ë ¤ë©´ 'reviewer config model <model_name>' ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.\\\\\\\"\\\\n        )\\\\n\\\\n\\\\ndef config_diff_only(args: argparse.Namespace) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"diff-only ì„¤ì •ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    if hasattr(args, \\\\\\\"value\\\\\\\") and args.value is not None:\\\\n        diff_only = args.value.lower() == \\\\\\\"true\\\\\\\"\\\\n        if set_default_diff_only(diff_only):\\\\n            logger.info(f\\\\\\\"ê¸°ë³¸ diff-only ê°’ì´ {diff_only}ë¡œ ì„¤ì •ë˜ì—ˆìŠµë‹ˆë‹¤.\\\\\\\")\\\\n        else:\\\\n            logger.error(\\\\\\\"ê¸°ë³¸ diff-only ê°’ ì„¤ì •ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.\\\\\\\")\\\\n    else:\\\\n        # ê°’ì´ ì§€ì •ë˜ì§€ ì•Šì€ ê²½ìš° í˜„ì¬ ì„¤ì •ì„ í‘œì‹œ\\\\n        current_value = get_default_diff_only()\\\\n        logger.info(f\\\\\\\"í˜„ì¬ ê¸°ë³¸ diff-only ê°’: {current_value}\\\\\\\")\\\\n        logger.info(\\\\n            \\\\\\\"ìƒˆë¡œìš´ ê°’ì„ ì„¤ì •í•˜ë ¤ë©´ 'reviewer config diff-only true' ë˜ëŠ” 'reviewer config diff-only false' ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.\\\\\\\"\\\\n        )\\\\n\\\\n\\\\ndef config_list() -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ëª¨ë“  ì„¤ì •ì„ í‘œì‹œí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    logger.info(\\\\\\\"==== reviewer ì„¤ì • ====\\\\\\\")\\\\n\\\\n    # API í‚¤\\\\n    openai_key = get_api_key(\\\\\\\"openai\\\\\\\")\\\\n    claude_key = get_api_key(\\\\\\\"claude\\\\\\\")\\\\n\\\\n    if openai_key:\\\\n        masked_key = openai_key[:4] + \\\\\\\"*\\\\\\\" * (len(openai_key) - 8) + openai_key[-4:]\\\\n        logger.info(f\\\\\\\"OpenAI API í‚¤: {masked_key}\\\\\\\")\\\\n    else:\\\\n        logger.info(\\\\\\\"OpenAI API í‚¤: ì„¤ì •ë˜ì§€ ì•ŠìŒ\\\\\\\")\\\\n\\\\n    if claude_key:\\\\n        masked_key = claude_key[:4] + \\\\\\\"*\\\\\\\" * (len(claude_key) - 8) + claude_key[-4:]\\\\n        logger.info(f\\\\\\\"Claude API í‚¤: {masked_key}\\\\\\\")\\\\n    else:\\\\n        logger.info(\\\\\\\"Claude API í‚¤: ì„¤ì •ë˜ì§€ ì•ŠìŒ\\\\\\\")\\\\n\\\\n    # ê²°ê³¼ ì €ì¥ ë””ë ‰í† ë¦¬\\\\n    logger.info(f\\\\\\\"ê²°ê³¼ ì €ì¥ ë””ë ‰í† ë¦¬: {get_default_results_dir()}\\\\\\\")\\\\n\\\\n    # ê¸°ë³¸ ëª¨ë¸\\\\n    logger.info(f\\\\\\\"ê¸°ë³¸ ëª¨ë¸: {get_default_model()}\\\\\\\")\\\\n\\\\n    # ê¸°ë³¸ diff-only ì„¤ì •\\\\n    logger.info(f\\\\\\\"ê¸°ë³¸ diff-only ê°’: {get_default_diff_only()}\\\\\\\")\\\\n\\\\n\\\\ndef handle_config_command(args: argparse.Namespace) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ì„¤ì • ëª…ë ¹ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    if not hasattr(args, \\\\\\\"config_command\\\\\\\") or not args.config_command:\\\\n        # ëª…ë ¹ì–´ê°€ ì§€ì •ë˜ì§€ ì•Šìœ¼ë©´ ë„ì›€ë§ í‘œì‹œ\\\\n        logger.info(\\\\\\\"ì‚¬ìš© ê°€ëŠ¥í•œ ì„¤ì • ëª…ë ¹ì–´:\\\\\\\")\\\\n        logger.info(\\\\\\\"  reviewer config api-key [openai|claude|google] [KEY]\\\\\\\")\\\\n        logger.info(\\\\\\\"  reviewer config results-dir [PATH]\\\\\\\")\\\\n        logger.info(\\\\\\\"  reviewer config model [MODEL_NAME]\\\\\\\")\\\\n        logger.info(\\\\\\\"  reviewer config diff-only [true|false]\\\\\\\")\\\\n        logger.info(\\\\\\\"  reviewer config list\\\\\\\")\\\\n        return\\\\n\\\\n    if args.config_command == \\\\\\\"api-key\\\\\\\":\\\\n        config_api_key(args)\\\\n    elif args.config_command == \\\\\\\"results-dir\\\\\\\":\\\\n        config_results_dir(args)\\\\n    elif args.config_command == \\\\\\\"model\\\\\\\":\\\\n        config_model(args)\\\\n    elif args.config_command == \\\\\\\"diff-only\\\\\\\":\\\\n        config_diff_only(args)\\\\n    elif args.config_command == \\\\\\\"list\\\\\\\":\\\\n        config_list()\\\\n\\\\n\\\\ndef handle_results_command(args: argparse.Namespace) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ê²°ê³¼ ê´€ë¦¬ ëª…ë ¹ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    if not hasattr(args, \\\\\\\"results_command\\\\\\\") or not args.results_command:\\\\n        # ëª…ë ¹ì–´ê°€ ì§€ì •ë˜ì§€ ì•Šìœ¼ë©´ ë„ì›€ë§ í‘œì‹œ\\\\n        logger.info(\\\\\\\"ì‚¬ìš© ê°€ëŠ¥í•œ ê²°ê³¼ ê´€ë¦¬ ëª…ë ¹ì–´:\\\\\\\")\\\\n        logger.info(\\\\\\\"  reviewer results list\\\\\\\")\\\\n        logger.info(\\\\\\\"  reviewer results show <result_id>\\\\\\\")\\\\n        logger.info(\\\\\\\"  reviewer results clean [--days <days>] [--dry-run]\\\\\\\")\\\\n        return\\\\n\\\\n    # ê²°ê³¼ ë””ë ‰í† ë¦¬ í™•ì¸\\\\n    results_dir = get_default_results_dir()\\\\n    if not results_dir.exists():\\\\n        logger.warning(f\\\\\\\"ê²°ê³¼ ë””ë ‰í† ë¦¬({results_dir})ê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\\\\\\\")\\\\n        return\\\\n\\\\n    if args.results_command == \\\\\\\"list\\\\\\\":\\\\n        list_results(results_dir)\\\\n    elif args.results_command == \\\\\\\"show\\\\\\\":\\\\n        show_result(results_dir, args.result_id)\\\\n    elif args.results_command == \\\\\\\"clean\\\\\\\":\\\\n        clean_results(results_dir, args.days, args.dry_run)\\\\n\\\\n\\\\ndef list_results(results_dir: Path) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ë¦¬ë·° ê²°ê³¼ ëª©ë¡ì„ í‘œì‹œí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    result_files = sorted(\\\\n        results_dir.glob(\\\\\\\"*.*\\\\\\\"), key=lambda f: f.stat().st_mtime, reverse=True\\\\n    )\\\\n\\\\n    if not result_files:\\\\n        logger.info(\\\\\\\"ì €ì¥ëœ ë¦¬ë·° ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n        return\\\\n\\\\n    logger.info(f\\\\\\\"ë¦¬ë·° ê²°ê³¼ ëª©ë¡ (ì €ì¥ ìœ„ì¹˜: {results_dir}):\\\\\\\")\\\\n    logger.info(\\\\\\\"-\\\\\\\" * 80)\\\\n    logger.info(f\\\\\\\"{'ID':4} | {'ë‚ ì§œ':16} | {'í¬ê¸°':8} | {'íŒŒì¼ëª…'}\\\\\\\")\\\\n    logger.info(\\\\\\\"-\\\\\\\" * 80)\\\\n\\\\n    for i, file in enumerate(result_files, 1):\\\\n        # íŒŒì¼ ì •ë³´ ê°€ì ¸ì˜¤ê¸°\\\\n        mtime = datetime.fromtimestamp(file.stat().st_mtime).strftime(\\\\\\\"%Y-%m-%d %H:%M\\\\\\\")\\\\n        size = file.stat().st_size\\\\n        size_str = f\\\\\\\"{size / 1024:.1f}KB\\\\\\\" if size >= 1024 else f\\\\\\\"{size}B\\\\\\\"\\\\n\\\\n        logger.info(f\\\\\\\"{i:4} | {mtime:16} | {size_str:8} | {file.name}\\\\\\\")\\\\n\\\\n\\\\ndef show_result(results_dir: Path, result_id: str) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"íŠ¹ì • ë¦¬ë·° ê²°ê³¼ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    # ê²°ê³¼ IDê°€ ìˆ«ìì¸ ê²½ìš° (ëª©ë¡ ì¸ë±ìŠ¤)\\\\n    if result_id.isdigit():\\\\n        idx = int(result_id)\\\\n        result_files = sorted(\\\\n            results_dir.glob(\\\\\\\"*.*\\\\\\\"), key=lambda f: f.stat().st_mtime, reverse=True\\\\n        )\\\\n\\\\n        if not result_files:\\\\n            logger.info(\\\\\\\"ì €ì¥ëœ ë¦¬ë·° ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n            return\\\\n\\\\n        if 1 <= idx <= len(result_files):\\\\n            file_path = result_files[idx - 1]\\\\n        else:\\\\n            logger.warning(\\\\n                f\\\\\\\"ìœ íš¨í•˜ì§€ ì•Šì€ ID: {idx} (1-{len(result_files)} ì‚¬ì´ ê°’ì„ ì…ë ¥í•˜ì„¸ìš”)\\\\\\\"\\\\n            )\\\\n            return\\\\n    else:\\\\n        # íŒŒì¼ëª…ìœ¼ë¡œ ì§ì ‘ ì§€ì •í•œ ê²½ìš°\\\\n        file_path = results_dir / result_id\\\\n        if not file_path.exists() and \\\\\\\".\\\\\\\" not in result_id:\\\\n            # í™•ì¥ìê°€ ì—†ëŠ” ê²½ìš° ì¶”ê°€ë¡œ í™•ì¥ìê°€ ìˆëŠ” íŒŒì¼ ê²€ìƒ‰\\\\n            matching_files = sorted(results_dir.glob(f\\\\\\\"{result_id}.*\\\\\\\"))\\\\n            if matching_files:\\\\n                file_path = matching_files[0]\\\\n\\\\n    # íŒŒì¼ ì¡´ì¬ í™•ì¸\\\\n    if not file_path.exists():\\\\n        logger.warning(f\\\\\\\"ê²°ê³¼ íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤: {result_id}\\\\\\\")\\\\n        return\\\\n\\\\n    # íŒŒì¼ ë‚´ìš© í‘œì‹œ\\\\n    logger.info(f\\\\\\\"=== {file_path.name} ===\\\\\\\")\\\\n    logger.info(\\\\\\\"\\\\\\\")\\\\n\\\\n    with open(file_path, encoding=\\\\\\\"utf-8\\\\\\\") as f:\\\\n        content = f.read()\\\\n        # ì—¬ê¸°ì„œëŠ” ë‚´ìš©ì„ printë¡œ ìœ ì§€ (ì½˜ì†” ì¶œë ¥ì— ì í•©)\\\\n        print(content)\\\\n\\\\n\\\\ndef clean_results(results_dir: Path, days: int, dry_run: bool) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ì˜¤ë˜ëœ ë¦¬ë·° ê²°ê³¼ë¥¼ ì •ë¦¬í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    if days <= 0:\\\\n        logger.warning(\\\\\\\"ìœ íš¨í•˜ì§€ ì•Šì€ ê¸°ê°„ì…ë‹ˆë‹¤. 1ì¼ ì´ìƒì˜ ê°’ì„ ì§€ì •í•˜ì„¸ìš”.\\\\\\\")\\\\n        return\\\\n\\\\n    # í˜„ì¬ ì‹œê°„ì—ì„œ ì§€ì •ëœ ì¼ìˆ˜ë¥¼ ëº€ íƒ€ì„ìŠ¤íƒ¬í”„ ê³„ì‚°\\\\n    cutoff_time = datetime.now() - timedelta(days=days)\\\\n    cutoff_timestamp = cutoff_time.timestamp()\\\\n\\\\n    # ëª¨ë“  ê²°ê³¼ íŒŒì¼ ê°€ì ¸ì˜¤ê¸°\\\\n    result_files = sorted(results_dir.glob(\\\\\\\"*.*\\\\\\\"))\\\\n    old_files = [f for f in result_files if f.stat().st_mtime < cutoff_timestamp]\\\\n\\\\n    if not old_files:\\\\n        logger.info(f\\\\\\\"{days}ì¼ë³´ë‹¤ ì˜¤ë˜ëœ ê²°ê³¼ íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n        return\\\\n\\\\n    logger.info(f\\\\\\\"{days}ì¼ë³´ë‹¤ ì˜¤ë˜ëœ ê²°ê³¼ íŒŒì¼ ({len(old_files)}ê°œ):\\\\\\\")\\\\n    for file in old_files:\\\\n        mtime = datetime.fromtimestamp(file.stat().st_mtime).strftime(\\\\\\\"%Y-%m-%d %H:%M\\\\\\\")\\\\n        logger.info(f\\\\\\\"  - {file.name} (ìˆ˜ì •ì¼: {mtime})\\\\\\\")\\\\n\\\\n    if dry_run:\\\\n        logger.info(\\\\n            \\\\\\\"\\\\\\\\nì´ëŠ” ë¯¸ë¦¬ë³´ê¸°ì…ë‹ˆë‹¤. ì‹¤ì œë¡œ ì‚­ì œí•˜ë ¤ë©´ --dry-run ì˜µì…˜ì„ ì œê±°í•˜ì„¸ìš”.\\\\\\\"\\\\n        )\\\\n        return\\\\n\\\\n    try:\\\\n        response = input(\\\\\\\"\\\\\\\\nìœ„ íŒŒì¼ë“¤ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ? (y/n): \\\\\\\")\\\\n        if response.lower() == \\\\\\\"y\\\\\\\":\\\\n            for file in old_files:\\\\n                file.unlink()\\\\n            logger.info(f\\\\\\\"{len(old_files)}ê°œ íŒŒì¼ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.\\\\\\\")\\\\n        else:\\\\n            logger.info(\\\\\\\"ì‘ì—…ì´ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤.\\\\\\\")\\\\n    except KeyboardInterrupt:\\\\n        logger.info(\\\\\\\"\\\\\\\\nì‘ì—…ì´ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤.\\\\\\\")\\\\n\\\\n\\\\ndef save_review_request(review_request: ReviewRequest) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ë¦¬ë·° ìš”ì²­ì„ ì €ì¥í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    # ì €ì¥ ë””ë ‰í† ë¦¬ ìƒì„±\\\\n    save_dir = get_default_review_request_dir()\\\\n    save_dir.mkdir(parents=True, exist_ok=True)\\\\n\\\\n    # íŒŒì¼ëª… ìƒì„± (íƒ€ì„ìŠ¤íƒ¬í”„ í¬í•¨)\\\\n    timestamp = datetime.now().strftime(\\\\\\\"%Y%m%d_%H%M%S\\\\\\\")\\\\n    filename = f\\\\\\\"review_request_{timestamp}_{review_request.model}.json\\\\\\\"\\\\n    save_path = save_dir / filename\\\\n\\\\n    # JSONìœ¼ë¡œ ì €ì¥\\\\n    with open(save_path, \\\\\\\"w\\\\\\\", encoding=\\\\\\\"utf-8\\\\\\\") as f:\\\\n        json.dump(\\\\n            review_request.model_dump(mode=\\\\\\\"json\\\\\\\"), f, ensure_ascii=False, indent=2\\\\n        )\\\\n\\\\n    logger.info(f\\\\\\\"ë¦¬ë·° ìš”ì²­ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤: {save_path}\\\\\\\")\\\\n\\\\n\\\\nclass ReviewStatus(Enum):\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ë¦¬ë·° ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì—´ê±°í˜• í´ë˜ìŠ¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n\\\\n    SUCCESS = \\\\\\\"SUCCESS\\\\\\\"\\\\n    FAILED = \\\\\\\"FAILED\\\\\\\"\\\\n\\\\n\\\\ndef save_review_log(\\\\n    prompt: ReviewPrompt | ReviewPromptWithFileContent | None,\\\\n    review_request: ReviewRequest,\\\\n    review_response: ReviewResponse | None,\\\\n    status: ReviewStatus,\\\\n    error: Exception | None = None,\\\\n) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ë¦¬ë·° ë¡œê·¸ë¥¼ ì €ì¥í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    model_info = get_model_info(review_request.model)\\\\n    log_dir = get_default_review_log_dir()\\\\n    log_dir.mkdir(parents=True, exist_ok=True)\\\\n\\\\n    # í”„ë¡¬í”„íŠ¸ ì§ë ¬í™”\\\\n    prompt_data = None\\\\n    if prompt:\\\\n        prompt_data = prompt.to_messages()\\\\n\\\\n    # ì‘ë‹µ ì§ë ¬í™”\\\\n    response_data = None\\\\n    if review_response:\\\\n        response_data = review_response.model_dump(mode=\\\\\\\"json\\\\\\\")\\\\n\\\\n    now = datetime.now()\\\\n    provider = model_info.get(\\\\\\\"provider\\\\\\\", \\\\\\\"unknown\\\\\\\")\\\\n    model_name = model_info.get(\\\\\\\"full_name\\\\\\\", review_request.model)\\\\n    log_id = f\\\\\\\"{provider}-{model_name}-{int(now.timestamp())}\\\\\\\"\\\\n\\\\n    # JSON ë¡œê·¸ ë°ì´í„° êµ¬ì„±\\\\n    review_log = {\\\\n        \\\\\\\"id\\\\\\\": log_id,\\\\n        \\\\\\\"model\\\\\\\": {\\\\\\\"provider\\\\\\\": provider, \\\\\\\"name\\\\\\\": model_name},\\\\n        \\\\\\\"created_at\\\\\\\": now.isoformat(),\\\\n        \\\\\\\"prompt\\\\\\\": prompt_data,\\\\n        \\\\\\\"review_request\\\\\\\": review_request.model_dump(mode=\\\\\\\"json\\\\\\\"),\\\\n        \\\\\\\"review_response\\\\\\\": response_data,\\\\n        \\\\\\\"status\\\\\\\": status.value,\\\\n        \\\\\\\"error\\\\\\\": str(error) if error else None,\\\\n    }\\\\n\\\\n    # íŒŒì¼ ì €ì¥\\\\n    formatted = now.strftime(\\\\\\\"%Y%m%d_%H%M%S\\\\\\\")\\\\n    file_name = f\\\\\\\"{formatted}_{model_name}_review_log\\\\\\\"\\\\n    file_path = log_dir / f\\\\\\\"{file_name}.json\\\\\\\"\\\\n    with open(file_path, \\\\\\\"w\\\\\\\", encoding=\\\\\\\"utf-8\\\\\\\") as f:\\\\n        json.dump(review_log, f, ensure_ascii=False, indent=2)\\\\n\\\\n    logger.info(f\\\\\\\"ë¦¬ë·° ë¡œê·¸ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤: {file_path}\\\\\\\")\\\\n\\\\n\\\\ndef review_code(args: argparse.Namespace) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ì½”ë“œ ë¦¬ë·°ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    # API í‚¤ í™•ì¸\\\\n    api_key = get_api_key(\\\\\\\"openai\\\\\\\")  # ê¸°ë³¸ì ìœ¼ë¡œ OpenAI ëª¨ë¸ ì‚¬ìš©\\\\n    if not api_key:\\\\n        logger.warning(\\\\\\\"API í‚¤ê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n        logger.info(\\\\\\\"ë‹¤ìŒ ëª…ë ¹ì–´ë¡œ API í‚¤ë¥¼ ì„¤ì •í•˜ì„¸ìš”:\\\\\\\")\\\\n        logger.info(\\\\\\\"  reviewer config api-key openai\\\\\\\")\\\\n\\\\n        # ëŒ€í™”í˜•ìœ¼ë¡œ í‚¤ ì„¤ì • ì œì•ˆ\\\\n        try:\\\\n            response = input(\\\\\\\"ì§€ê¸ˆ API í‚¤ë¥¼ ì„¤ì •í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (y/n): \\\\\\\")\\\\n            if response.lower() == \\\\\\\"y\\\\\\\":\\\\n                try:\\\\n                    new_api_key = getpass.getpass(\\\\n                        \\\\\\\"OpenAI API í‚¤ë¥¼ ì…ë ¥í•˜ì„¸ìš” (ì…ë ¥ì´ í™”ë©´ì— í‘œì‹œë˜ì§€ ì•ŠìŠµë‹ˆë‹¤): \\\\\\\"\\\\n                    )\\\\n                    if new_api_key:\\\\n                        if set_api_key(new_api_key, \\\\\\\"openai\\\\\\\"):\\\\n                            logger.info(\\\\\\\"API í‚¤ê°€ ì„±ê³µì ìœ¼ë¡œ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.\\\\\\\")\\\\n                            api_key = new_api_key\\\\n                        else:\\\\n                            logger.error(\\\\\\\"API í‚¤ ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.\\\\\\\")\\\\n                            return\\\\n                    else:\\\\n                        logger.warning(\\\\\\\"API í‚¤ê°€ ì…ë ¥ë˜ì§€ ì•Šì•„ ì‹¤í–‰ì´ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤.\\\\\\\")\\\\n                        return\\\\n                except KeyboardInterrupt:\\\\n                    logger.info(\\\\\\\"\\\\\\\\nì„¤ì •ì´ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤.\\\\\\\")\\\\n                    return\\\\n            else:\\\\n                return\\\\n        except KeyboardInterrupt:\\\\n            logger.info(\\\\\\\"\\\\\\\\nì‹¤í–‰ì´ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤.\\\\\\\")\\\\n            return\\\\n\\\\n    # Git diff ë‚´ìš© ê°€ì ¸ì˜¤ê¸°\\\\n    diff_content = get_diff_content(args)\\\\n    if not diff_content:\\\\n        logger.warning(\\\\\\\"ë³€ê²½ ì‚¬í•­ì´ ì—†ê±°ë‚˜ diffë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n        return\\\\n\\\\n    # diff íŒŒì‹± ë° ë©”íƒ€ë°ì´í„° ì¶”ê°€\\\\n    use_full_context = not args.diff_only\\\\n\\\\n    # repo_path ê²°ì • - ì‚¬ìš©ì ì…ë ¥ ë˜ëŠ” í”„ë¡œì íŠ¸ ë£¨íŠ¸\\\\n    repo_path = (\\\\n        str(Path(args.repo_path)) if args.repo_path != \\\\\\\".\\\\\\\" else str(find_project_root())\\\\n    )\\\\n    diff_result = parse_git_diff(diff_content, use_full_context, repo_path)\\\\n\\\\n    try:\\\\n        # ë¦¬ë·° ìš”ì²­ ìƒì„±\\\\n        review_request = ReviewRequest(\\\\n            diff_content=diff_content,\\\\n            processed_diff=diff_result,\\\\n            file_paths=[file.filename for file in diff_result.files],\\\\n            use_full_context=use_full_context,\\\\n            model=args.model,\\\\n            repo_path=repo_path,\\\\n        )\\\\n\\\\n        # ë¦¬ë·° ìš”ì²­ ì €ì¥\\\\n        save_review_request(review_request)\\\\n\\\\n        # LLM ê²Œì´íŠ¸ì›¨ì´ ê°€ì ¸ì˜¤ê¸°\\\\n        llm_gateway = GatewayFactory.create(model=review_request.model)\\\\n\\\\n        # ì½”ë“œ ë¦¬ë·° ìˆ˜í–‰\\\\n        logger.info(f\\\\\\\"ì½”ë“œ ë¦¬ë·° ì¤‘... (ëª¨ë¸: {review_request.model})\\\\\\\")\\\\n        review_prompt = PromptGenerator().create_code_review_prompt(review_request)\\\\n        review_response = llm_gateway.review_code(review_prompt)\\\\n        save_review_log(\\\\n            review_prompt, review_request, review_response, ReviewStatus.SUCCESS\\\\n        )\\\\n\\\\n        logger.info(\\\\\\\"ì½”ë“œ ë¦¬ë·°ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ë¦¬ë·° ë¡œê·¸ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.\\\\\\\")\\\\n    except Exception as e:\\\\n        logger.error(f\\\\\\\"ì½”ë“œ ë¦¬ë·° ì¤‘ ì˜¤ë¥˜ ë°œìƒ: {str(e)}\\\\\\\", exc_info=True)\\\\n        save_review_log(\\\\n            review_prompt,\\\\n            review_request,\\\\n            None,\\\\n            ReviewStatus.FAILED,\\\\n            error=e,\\\\n        )\\\\n        return\\\\n\\\\n    # UI ìë™ ì‹¤í–‰\\\\n    if args.open_ui:\\\\n        logger.info(\\\\\\\"ë¦¬ë·° ê²°ê³¼ UIë¥¼ ì‹œì‘í•©ë‹ˆë‹¤...\\\\\\\")\\\\n        handle_view_command(args)\\\\n\\\\n\\\\ndef handle_view_command(args: argparse.Namespace) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"UI ë³´ê¸° ëª…ë ¹ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    try:\\\\n        # port ì†ì„±ì´ ì—†ì„ ê²½ìš° ê¸°ë³¸ê°’ 8501 ì‚¬ìš©\\\\n        port = getattr(args, \\\\\\\"port\\\\\\\", 8501)\\\\n        logger.info(\\\\n            f\\\\\\\"Streamlit UIë¥¼ ì‹œì‘í•©ë‹ˆë‹¤. \\\\\\\"\\\\n            f\\\\\\\"ë¸Œë¼ìš°ì €ì—ì„œ http://localhost:{port}ìœ¼ë¡œ ì ‘ì†í•˜ì„¸ìš”...\\\\\\\"\\\\n        )\\\\n        # í¬íŠ¸ ì„¤ì •\\\\n        os.environ[\\\\\\\"STREAMLIT_SERVER_PORT\\\\\\\"] = str(port)\\\\n        # UI ì‹¤í–‰\\\\n        run_app()\\\\n    except ImportError:\\\\n        logger.error(\\\\\\\"Streamlit ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì„¤ì¹˜ë˜ì–´ ìˆì§€ ì•ŠìŠµë‹ˆë‹¤.\\\\\\\")\\\\n        logger.info(\\\\\\\"ë‹¤ìŒ ëª…ë ¹ì–´ë¡œ ì„¤ì¹˜í•˜ì„¸ìš”: pip install streamlit\\\\\\\")\\\\n        return\\\\n\\\\n\\\\ndef main() -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë©”ì¸ ì§„ì…ì .\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    # ë¡œê¹… ì„¤ì • ì´ˆê¸°í™”\\\\n    setup_logging(level=LOG_LEVEL_INFO, log_format=DETAILED_LOG_FORMAT)\\\\n\\\\n    try:\\\\n        args = parse_args()\\\\n\\\\n        if args.command == \\\\\\\"review\\\\\\\":\\\\n            review_code(args)\\\\n        elif args.command == \\\\\\\"config\\\\\\\":\\\\n            handle_config_command(args)\\\\n        elif args.command == \\\\\\\"results\\\\\\\":\\\\n            handle_results_command(args)\\\\n        elif args.command == \\\\\\\"view\\\\\\\":\\\\n            handle_view_command(args)\\\\n    except KeyboardInterrupt:\\\\n        logger.info(\\\\\\\"\\\\\\\\ní”„ë¡œê·¸ë¨ì´ ì‚¬ìš©ìì— ì˜í•´ ì¤‘ë‹¨ë˜ì—ˆìŠµë‹ˆë‹¤.\\\\\\\")\\\\n        sys.exit(1)\\\\n    except Exception as e:\\\\n        logger.error(f\\\\\\\"ì˜¤ë¥˜ ë°œìƒ: {str(e)}\\\\\\\", exc_info=True)\\\\n        sys.exit(1)\\\\n\\\\n\\\\nif __name__ == \\\\\\\"__main__\\\\\\\":\\\\n    main()\\\\n\\\", \\\"formatted_hunks\\\": [{\\\"hunk_idx\\\": \\\"1\\\", \\\"before_code\\\": \\\"```python\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ë¦¬ë·° ë¡œê·¸ë¥¼ ì €ì¥í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    model_info = get_model_info(review_request.model)\\\\n    log_dir = get_default_review_log_dir()\\\\n    log_dir.mkdir(parents=True, exist_ok=True)\\\\n\\\\n    # í˜„ì¬ ì‹œê°„\\\\n    now = datetime.now()\\\\n\\\\n    # ë¡œê·¸ ID ìƒì„±\\\\n    provider = model_info.get(\\\\\\\"provider\\\\\\\", \\\\\\\"unknown\\\\\\\")\\\\n    model_name = model_info.get(\\\\\\\"full_name\\\\\\\", review_request.model)\\\\n    log_id = f\\\\\\\"{provider}-{model_name}-{int(now.timestamp())}\\\\\\\"\\\\n\\\\n    # í”„ë¡¬í”„íŠ¸ ì§ë ¬í™”\\\\n    prompt_data = None\\\\n    if prompt:\\\\n        prompt_data = prompt.to_messages()\\\\n\\\\n    # ì‘ë‹µ ì§ë ¬í™”\\\\n    response_data = None\\\\n    if review_response:\\\\n        response_data = review_response.model_dump(mode=\\\\\\\"json\\\\\\\")\\\\n\\\\n    # JSON ë¡œê·¸ ë°ì´í„° êµ¬ì„±\\\\n    review_log = {\\\\n        \\\\\\\"id\\\\\\\": log_id,\\\\n        \\\\\\\"model\\\\\\\": {\\\\\\\"provider\\\\\\\": provider, \\\\\\\"name\\\\\\\": model_name},\\\\n        \\\\\\\"created_at\\\\\\\": now.isoformat(),\\\\n```\\\", \\\"after_code\\\": \\\"```python\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ë¦¬ë·° ë¡œê·¸ë¥¼ ì €ì¥í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    model_info = get_model_info(review_request.model)\\\\n    log_dir = get_default_review_log_dir()\\\\n    log_dir.mkdir(parents=True, exist_ok=True)\\\\n\\\\n    # í”„ë¡¬í”„íŠ¸ ì§ë ¬í™”\\\\n    prompt_data = None\\\\n    if prompt:\\\\n        prompt_data = prompt.to_messages()\\\\n\\\\n    # ì‘ë‹µ ì§ë ¬í™”\\\\n    response_data = None\\\\n    if review_response:\\\\n        response_data = review_response.model_dump(mode=\\\\\\\"json\\\\\\\")\\\\n\\\\n    now = datetime.now()\\\\n    provider = model_info.get(\\\\\\\"provider\\\\\\\", \\\\\\\"unknown\\\\\\\")\\\\n    model_name = model_info.get(\\\\\\\"full_name\\\\\\\", review_request.model)\\\\n    log_id = f\\\\\\\"{provider}-{model_name}-{int(now.timestamp())}\\\\\\\"\\\\n\\\\n    # JSON ë¡œê·¸ ë°ì´í„° êµ¬ì„±\\\\n    review_log = {\\\\n        \\\\\\\"id\\\\\\\": log_id,\\\\n        \\\\\\\"model\\\\\\\": {\\\\\\\"provider\\\\\\\": provider, \\\\\\\"name\\\\\\\": model_name},\\\\n        \\\\\\\"created_at\\\\\\\": now.isoformat(),\\\\n```\\\", \\\"after_code_start_line_number\\\": 512, \\\"after_code_line_numbers\\\": [512, 513, 514, 515, 516, 517, 518, 519, 520, 521, 522, 523, 524, 525, 526, 527, 528, 529, 530, 531, 532, 533, 534, 535, 536]}, {\\\"hunk_idx\\\": \\\"2\\\", \\\"before_code\\\": \\\"```python\\\\n        \\\\\\\"status\\\\\\\": status.value,\\\\n        \\\\\\\"error\\\\\\\": str(error) if error else None,\\\\n    }\\\\n\\\\n    # íŒŒì¼ ì €ì¥\\\\n    file_path = log_dir / f\\\\\\\"{log_id}.json\\\\\\\"\\\\n    with open(file_path, \\\\\\\"w\\\\\\\", encoding=\\\\\\\"utf-8\\\\\\\") as f:\\\\n        json.dump(review_log, f, ensure_ascii=False, indent=2)\\\\n\\\\n    logger.info(f\\\\\\\"ë¦¬ë·° ë¡œê·¸ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤: {file_path}\\\\\\\")\\\\n\\\\n```\\\", \\\"after_code\\\": \\\"```python\\\\n        \\\\\\\"status\\\\\\\": status.value,\\\\n        \\\\\\\"error\\\\\\\": str(error) if error else None,\\\\n    }\\\\n\\\\n    # íŒŒì¼ ì €ì¥\\\\n    formatted = now.strftime(\\\\\\\"%Y%m%d_%H%M%S\\\\\\\")\\\\n    file_name = f\\\\\\\"{formatted}_{model_name}_review_log\\\\\\\"\\\\n    file_path = log_dir / f\\\\\\\"{file_name}.json\\\\\\\"\\\\n    with open(file_path, \\\\\\\"w\\\\\\\", encoding=\\\\\\\"utf-8\\\\\\\") as f:\\\\n        json.dump(review_log, f, ensure_ascii=False, indent=2)\\\\n\\\\n    logger.info(f\\\\\\\"ë¦¬ë·° ë¡œê·¸ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤: {file_path}\\\\\\\")\\\\n\\\\n```\\\", \\\"after_code_start_line_number\\\": 540, \\\"after_code_line_numbers\\\": [540, 541, 542, 543, 544, 545, 546, 547, 548, 549, 550, 551, 552]}]}\"}, {\"role\": \"user\", \"content\": \"{\\\"file_name\\\": \\\"reviewer/src/ui.py\\\", \\\"file_content\\\": \\\"\\\\\\\"\\\\\\\"\\\\\\\"\\\\në¦¬ë·° ê²°ê³¼ë¥¼ ë³´ì—¬ì£¼ëŠ” Streamlit ì›¹ ì¸í„°í˜ì´ìŠ¤ ëª¨ë“ˆ\\\\n\\\\nì´ ëª¨ë“ˆì€ ì €ì¥ëœ ë¦¬ë·° ê²°ê³¼ë¥¼ Streamlitì„ ì‚¬ìš©í•˜ì—¬ ì›¹ ë¸Œë¼ìš°ì €ì— í‘œì‹œí•©ë‹ˆë‹¤.\\\\n\\\\\\\"\\\\\\\"\\\\\\\"\\\\n\\\\nimport copy\\\\nimport json\\\\nimport logging\\\\nimport os\\\\nimport sys\\\\nfrom datetime import datetime\\\\nfrom pathlib import Path\\\\nfrom typing import Any\\\\n\\\\nimport streamlit as st\\\\n\\\\nfrom reviewer.src.utils.token.models import ReviewResponse\\\\n\\\\n# ë¡œê±° ì„¤ì •\\\\nlogger = logging.getLogger(__name__)\\\\n\\\\n# ìƒëŒ€ ê²½ë¡œ ì„í¬íŠ¸ë¥¼ ìœ„í•œ ê²½ë¡œ ì„¤ì •\\\\nsys.path.append(os.path.abspath(os.path.join(os.path.dirname(__file__), \\\\\\\"..\\\\\\\")))\\\\nfrom reviewer.src.config import (\\\\n    get_default_raw_log_dir,\\\\n    get_default_results_dir,\\\\n    get_default_review_log_dir,\\\\n    get_default_review_prompt_dir,\\\\n    get_default_review_request_dir,\\\\n)\\\\nfrom reviewer.src.utils.review_formatter import ReviewFormatter\\\\n\\\\n\\\\ndef get_default_llm_eval_data_dir() -> Path:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"llm_eval ë°ì´í„°ê°€ ì €ì¥ëœ data ë””ë ‰í† ë¦¬ ê²½ë¡œë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    # ui.py íŒŒì¼ì˜ ìœ„ì¹˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í”„ë¡œì íŠ¸ ë£¨íŠ¸ë¥¼ ì°¾ê³ , ê·¸ ì•„ë˜ data í´ë”ë¥¼ ì§€ì •í•©ë‹ˆë‹¤.\\\\n    # reviewer/src/ui.py -> reviewer/ -> project_root\\\\n    project_root = Path(__file__).resolve().parent.parent.parent\\\\n    return project_root / \\\\\\\"llm_eval\\\\\\\" / \\\\\\\"results\\\\\\\"\\\\n\\\\n\\\\ndef get_default_merged_data_dir() -> Path:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ê¸°ë³¸ í†µí•© ë°ì´í„° ë””ë ‰í† ë¦¬ ê²½ë¡œë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    # ì‚¬ìš©ìë³„ Application Support ë””ë ‰í† ë¦¬ ì•„ë˜ì— reviewer/merged_data ê²½ë¡œë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.\\\\n    # macOS ê¸°ì¤€ ê²½ë¡œì…ë‹ˆë‹¤. ë‹¤ë¥¸ OSì—ì„œëŠ” ì ì ˆíˆ ìˆ˜ì •í•´ì•¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\\\\n    if sys.platform == \\\\\\\"darwin\\\\\\\":  # macOS\\\\n        return (\\\\n            Path.home() / \\\\\\\"Library\\\\\\\" / \\\\\\\"Application Support\\\\\\\" / \\\\\\\"reviewer\\\\\\\" / \\\\\\\"merged_data\\\\\\\"\\\\n        )\\\\n    elif sys.platform == \\\\\\\"win32\\\\\\\":  # Windows\\\\n        return Path(os.getenv(\\\\\\\"APPDATA\\\\\\\", \\\\\\\"\\\\\\\")) / \\\\\\\"reviewer\\\\\\\" / \\\\\\\"merged_data\\\\\\\"\\\\n    else:  # Linux ë“± ê¸°íƒ€\\\\n        return Path.home() / \\\\\\\".config\\\\\\\" / \\\\\\\"reviewer\\\\\\\" / \\\\\\\"merged_data\\\\\\\"\\\\n\\\\n\\\\ndef get_result_files() -> list[Path]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ê²°ê³¼ ë””ë ‰í† ë¦¬ì—ì„œ ëª¨ë“  ê²°ê³¼ íŒŒì¼ì„ ê°€ì ¸ì˜µë‹ˆë‹¤. (ì‚¬ìš©ë˜ì§€ ì•ŠìŒ)\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    # ì´ í•¨ìˆ˜ëŠ” ë” ì´ìƒ ì‚¬ìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ëŒ€ì‹  get_review_log_files()ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.\\\\n    logger.warning(\\\\n        \\\\\\\"get_result_files()ëŠ” ë” ì´ìƒ ì‚¬ìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. get_review_log_files()ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.\\\\\\\"\\\\n    )\\\\n    return []\\\\n\\\\n\\\\ndef get_log_files() -> list[Path]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ë¡œê·¸ ë””ë ‰í† ë¦¬ì—ì„œ ëª¨ë“  ë¡œê·¸ íŒŒì¼ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    log_dir = get_default_raw_log_dir()\\\\n    if not log_dir.exists():\\\\n        return []\\\\n\\\\n    log_files = list(log_dir.glob(\\\\\\\"*.json\\\\\\\"))\\\\n    # ìˆ˜ì • ì‹œê°„ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬ (ìµœì‹ ìˆœ)\\\\n    log_files.sort(key=lambda f: f.stat().st_mtime, reverse=True)\\\\n    return log_files\\\\n\\\\n\\\\ndef get_review_request_files() -> list[Path]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ë¦¬ë·° ìš”ì²­ ë””ë ‰í† ë¦¬ì—ì„œ ëª¨ë“  ë¦¬ë·° ìš”ì²­ íŒŒì¼ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    request_dir = get_default_review_request_dir()\\\\n    if not request_dir.exists():\\\\n        return []\\\\n\\\\n    request_files = list(request_dir.glob(\\\\\\\"*.json\\\\\\\"))\\\\n    # ìˆ˜ì • ì‹œê°„ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬ (ìµœì‹ ìˆœ)\\\\n    request_files.sort(key=lambda f: f.stat().st_mtime, reverse=True)\\\\n    return request_files\\\\n\\\\n\\\\ndef get_review_prompt_files() -> list[Path]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ë¦¬ë·° í”„ë¡¬í”„íŠ¸ ë””ë ‰í† ë¦¬ì—ì„œ ëª¨ë“  í”„ë¡¬í”„íŠ¸ íŒŒì¼ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    prompt_dir = get_default_review_prompt_dir()\\\\n    if not prompt_dir.exists():\\\\n        return []\\\\n\\\\n    prompt_files = list(prompt_dir.glob(\\\\\\\"*.json\\\\\\\"))\\\\n    # ìˆ˜ì • ì‹œê°„ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬ (ìµœì‹ ìˆœ)\\\\n    prompt_files.sort(key=lambda f: f.stat().st_mtime, reverse=True)\\\\n    return prompt_files\\\\n\\\\n\\\\ndef get_llm_eval_data_files() -> list[Path]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"llm_eval ë°ì´í„° ë””ë ‰í† ë¦¬ì—ì„œ ëª¨ë“  íŒŒì¼ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    llm_eval_data_dir = get_default_llm_eval_data_dir()\\\\n    if not llm_eval_data_dir.exists():\\\\n        return []\\\\n\\\\n    # data í´ë” ë‚´ ëª¨ë“  íŒŒì¼ì„ ëŒ€ìƒìœ¼ë¡œ í•¨ (í™•ì¥ì ë¬´ê´€)\\\\n    llm_eval_files = list(llm_eval_data_dir.glob(\\\\\\\"*\\\\\\\"))\\\\n    # ìˆ˜ì • ì‹œê°„ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬ (ìµœì‹ ìˆœ)\\\\n    llm_eval_files.sort(key=lambda f: f.stat().st_mtime, reverse=True)\\\\n    return llm_eval_files\\\\n\\\\n\\\\ndef get_merged_data_files() -> list[Path]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"í†µí•© ë°ì´í„° ë””ë ‰í† ë¦¬ì—ì„œ ëª¨ë“  JSON íŒŒì¼ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    merged_data_dir = get_default_merged_data_dir()\\\\n    if not merged_data_dir.exists():\\\\n        return []\\\\n\\\\n    merged_files = list(merged_data_dir.glob(\\\\\\\"*.json\\\\\\\"))\\\\n    # ìˆ˜ì • ì‹œê°„ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬ (ìµœì‹ ìˆœ)\\\\n    merged_files.sort(key=lambda f: f.stat().st_mtime, reverse=True)\\\\n    return merged_files\\\\n\\\\n\\\\ndef get_review_log_files() -> list[Path]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ë¦¬ë·° ë¡œê·¸ ë””ë ‰í† ë¦¬ì—ì„œ ëª¨ë“  ë¦¬ë·° ë¡œê·¸ íŒŒì¼ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    log_dir = get_default_review_log_dir()\\\\n    if not log_dir.exists():\\\\n        return []\\\\n\\\\n    log_files = list(log_dir.glob(\\\\\\\"*.json\\\\\\\"))\\\\n    # ìˆ˜ì • ì‹œê°„ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬ (ìµœì‹ ìˆœ)\\\\n    log_files.sort(key=lambda f: f.stat().st_mtime, reverse=True)\\\\n    return log_files\\\\n\\\\n\\\\ndef get_file_info(file: Path) -> dict[str, Any]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"íŒŒì¼ ì •ë³´ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    mtime = datetime.fromtimestamp(file.stat().st_mtime)\\\\n    size = file.stat().st_size\\\\n    size_str = f\\\\\\\"{size / 1024:.1f}KB\\\\\\\" if size >= 1024 else f\\\\\\\"{size}B\\\\\\\"\\\\n\\\\n    # íŒŒì¼ëª…ì—ì„œ ëª¨ë¸ ì´ë¦„ê³¼ ë‚ ì§œ ì¶”ì¶œ ì‹œë„\\\\n    model_name_candidate = \\\\\\\"\\\\\\\"\\\\n    date_candidate = mtime  # ê¸°ë³¸ê°’ì€ íŒŒì¼ ìˆ˜ì • ì‹œê°„\\\\n\\\\n    try:\\\\n        parts = file.stem.split(\\\\\\\"_\\\\\\\")\\\\n        # íŒŒì¼ëª… ê·œì¹™: YYYYMMDD_HHMMSS_ModelName ë˜ëŠ” ìœ ì‚¬ í˜•ì‹\\\\n        # ë˜ëŠ” ModelName_YYYYMMDD_HHMMSS\\\\n        if len(parts) >= 3:\\\\n            # YYYYMMDD_HHMMSS_ModelName í˜•ì‹ ì²´í¬\\\\n            if (\\\\n                parts[0].isdigit()\\\\n                and len(parts[0]) == 8\\\\n                and parts[1].isdigit()\\\\n                and len(parts[1]) == 6\\\\n            ):\\\\n                date_str = f\\\\\\\"{parts[0]}_{parts[1]}\\\\\\\"\\\\n                date_candidate = datetime.strptime(date_str, \\\\\\\"%Y%m%d_%H%M%S\\\\\\\")\\\\n                model_name_candidate = \\\\\\\"_\\\\\\\".join(parts[2:])\\\\n            # ModelName_YYYYMMDD_HHMMSS í˜•ì‹ ì²´í¬ (ë§ˆì§€ë§‰ ë‘ íŒŒíŠ¸ê°€ ë‚ ì§œ/ì‹œê°„)\\\\n            elif (\\\\n                parts[-2].isdigit()\\\\n                and len(parts[-2]) == 8\\\\n                and parts[-1].isdigit()\\\\n                and len(parts[-1]) == 6\\\\n            ):\\\\n                date_str = f\\\\\\\"{parts[-2]}_{parts[-1]}\\\\\\\"\\\\n                date_candidate = datetime.strptime(date_str, \\\\\\\"%Y%m%d_%H%M%S\\\\\\\")\\\\n                model_name_candidate = \\\\\\\"_\\\\\\\".join(parts[:-2])\\\\n            # ê¸°íƒ€: ë§ˆì§€ë§‰ íŒŒíŠ¸ë¥¼ ëª¨ë¸ëª…ìœ¼ë¡œ ê°€ì •í•˜ê³ , ë‚ ì§œëŠ” mtime ì‚¬ìš©\\\\n            elif not parts[-1].isdigit():  # ë§ˆì§€ë§‰ íŒŒíŠ¸ê°€ ìˆ«ìê°€ ì•„ë‹ˆë©´ ëª¨ë¸ëª…ìœ¼ë¡œ ê°„ì£¼\\\\n                model_name_candidate = parts[-1]\\\\n                # ë‚ ì§œ/ì‹œê°„ ë¶€ë¶„ (YYYYMMDD_HHMMSS í˜•ì‹) - ì¤‘ê°„ì— ìˆì„ ê²½ìš°\\\\n                if (\\\\n                    len(parts) >= 3\\\\n                    and parts[-2].isdigit()\\\\n                    and len(parts[-2]) == 6\\\\n                    and parts[-3].isdigit()\\\\n                    and len(parts[-3]) == 8\\\\n                ):\\\\n                    date_str = f\\\\\\\"{parts[-3]}_{parts[-2]}\\\\\\\"\\\\n                    try:\\\\n                        date_candidate = datetime.strptime(date_str, \\\\\\\"%Y%m%d_%H%M%S\\\\\\\")\\\\n                    except ValueError:\\\\n                        pass  # ë‚ ì§œ í˜•ì‹ ì•ˆë§ìœ¼ë©´ mtime ìœ ì§€\\\\n        elif (\\\\n            len(parts) == 2 and not parts[0].isdigit() and not parts[1].isdigit()\\\\n        ):  # Model_Name í˜•ì‹ì´ê³  ë‚ ì§œ ì •ë³´ ì—†ì„ ë•Œ\\\\n            model_name_candidate = file.stem\\\\n        elif (\\\\n            len(parts) == 1 and not parts[0].isdigit()\\\\n        ):  # ModelName í˜•ì‹ì´ê³  ë‚ ì§œ ì •ë³´ ì—†ì„ ë•Œ\\\\n            model_name_candidate = parts[0]\\\\n\\\\n    except Exception:  # ë‚ ì§œ/ëª¨ë¸ëª… íŒŒì‹± ì¤‘ ì˜ˆì™¸ ë°œìƒ ì‹œ ê¸°ë³¸ê°’ ì‚¬ìš©\\\\n        pass  # model_name_candidate = \\\\\\\"\\\\\\\", date_candidate = mtime ìœ ì§€\\\\n\\\\n    file_suffix = file.suffix.lstrip(\\\\\\\".\\\\\\\").lower()\\\\n\\\\n    # í™•ì¥ìê°€ ì—†ëŠ” íŒŒì¼ ì²˜ë¦¬ ë¡œì§\\\\n    if not file_suffix:\\\\n        # 1. deepeval ê²°ê³¼ íŒŒì¼ì¸ì§€ í™•ì¸ (llm_eval_dir ë‚´ë¶€ì— ìˆëŠ”ì§€)\\\\n        try:\\\\n            llm_eval_dir = get_default_llm_eval_data_dir()\\\\n\\\\n            # ê²½ë¡œ ë¹„êµë¥¼ ìœ„í•´ ì ˆëŒ€ ê²½ë¡œë¡œ ë³€í™˜\\\\n            file_parent_resolved = file.parent.resolve()\\\\n            llm_eval_dir_resolved = llm_eval_dir.resolve()\\\\n\\\\n            # íŒŒì¼ì´ llm_eval_dirì˜ í•˜ìœ„ ê²½ë¡œì¸ì§€ í™•ì¸\\\\n            file_parent_str = str(file_parent_resolved)\\\\n            llm_eval_dir_str = str(llm_eval_dir_resolved)\\\\n\\\\n            # llm_eval ë””ë ‰í† ë¦¬ ë‚´ íŒŒì¼ì€ ëª¨ë‘ JSONìœ¼ë¡œ ì²˜ë¦¬\\\\n            is_in_llm_eval_dir = file_parent_str.startswith(llm_eval_dir_str)\\\\n\\\\n            # 2. ë‚ ì§œ í˜•ì‹ì˜ íŒŒì¼ëª…ì¸ì§€ í™•ì¸\\\\n            has_date_format = (\\\\n                len(parts) >= 2\\\\n                and parts[0].isdigit()\\\\n                and len(parts[0]) == 8\\\\n                and parts[1].isdigit()\\\\n                and len(parts[1]) == 6\\\\n            )\\\\n\\\\n            # deepeval ê²°ê³¼ íŒŒì¼(llm_eval ë””ë ‰í† ë¦¬)ì´ê±°ë‚˜ ë‚ ì§œ í˜•ì‹ì¸ ê²½ìš° JSONìœ¼ë¡œ ì²˜ë¦¬\\\\n            if is_in_llm_eval_dir:\\\\n                # deepeval íŒŒì¼ì€ ë¬´ì¡°ê±´ JSONìœ¼ë¡œ ì²˜ë¦¬\\\\n                file_format = \\\\\\\"json\\\\\\\"\\\\n            elif has_date_format:\\\\n                # ë‚ ì§œ í˜•ì‹ì€ JSONìœ¼ë¡œ ì²˜ë¦¬\\\\n                file_format = \\\\\\\"json\\\\\\\"\\\\n            else:\\\\n                file_format = \\\\\\\"txt\\\\\\\"\\\\n        except Exception:\\\\n            # ì˜ˆì™¸ ë°œìƒì‹œ ì•ˆì „í•˜ê²Œ txtë¡œ ì²˜ë¦¬\\\\n            file_format = \\\\\\\"txt\\\\\\\"\\\\n    elif file_suffix in [\\\\\\\"json\\\\\\\", \\\\\\\"log\\\\\\\", \\\\\\\"html\\\\\\\", \\\\\\\"txt\\\\\\\"]:\\\\n        file_format = file_suffix\\\\n    else:  # ê·¸ ì™¸ ëª¨ë¥´ëŠ” í™•ì¥ìëŠ” 'txt'ë¡œ ê°„ì£¼\\\\n        file_format = \\\\\\\"txt\\\\\\\"\\\\n\\\\n    return {\\\\n        \\\\\\\"path\\\\\\\": file,\\\\n        \\\\\\\"name\\\\\\\": file.name,\\\\n        \\\\\\\"model\\\\\\\": model_name_candidate,\\\\n        \\\\\\\"date\\\\\\\": date_candidate,\\\\n        \\\\\\\"mtime\\\\\\\": mtime,\\\\n        \\\\\\\"size\\\\\\\": size,\\\\n        \\\\\\\"size_str\\\\\\\": size_str,\\\\n        \\\\\\\"format\\\\\\\": file_format,\\\\n    }\\\\n\\\\n\\\\ndef app():\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"Streamlit ì•± ë©”ì¸ í•¨ìˆ˜\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    st.set_page_config(\\\\n        page_title=\\\\\\\"Reviewer - ì½”ë“œ ë¦¬ë·° ê²°ê³¼\\\\\\\",\\\\n        page_icon=\\\\\\\"ğŸ“\\\\\\\",\\\\n        layout=\\\\\\\"wide\\\\\\\",\\\\n        initial_sidebar_state=\\\\\\\"expanded\\\\\\\",\\\\n    )\\\\n\\\\n    st.title(\\\\\\\"ì½”ë“œ ë¦¬ë·° ê²°ê³¼\\\\\\\")\\\\n\\\\n    # ê²°ê³¼/ë¡œê·¸/ë¦¬ë·°ìš”ì²­/í”„ë¡¬í”„íŠ¸ ë””ë ‰í† ë¦¬ í‘œì‹œ\\\\n    results_dir = get_default_results_dir()\\\\n    log_dir = get_default_raw_log_dir()\\\\n    review_log_dir = get_default_review_log_dir()\\\\n    request_dir = get_default_review_request_dir()\\\\n    prompt_dir = get_default_review_prompt_dir()\\\\n    st.sidebar.markdown(f\\\\\\\"**ê²°ê³¼ ì €ì¥ ìœ„ì¹˜**: {results_dir}\\\\\\\")\\\\n    st.sidebar.markdown(f\\\\\\\"**ë¡œê·¸ ì €ì¥ ìœ„ì¹˜**: {log_dir}\\\\\\\")\\\\n    st.sidebar.markdown(f\\\\\\\"**ë¦¬ë·° ë¡œê·¸ ì €ì¥ ìœ„ì¹˜**: {review_log_dir}\\\\\\\")\\\\n    st.sidebar.markdown(f\\\\\\\"**reviewRequest ìš”ì²­ ì €ì¥ ìœ„ì¹˜**: {request_dir}\\\\\\\")\\\\n    st.sidebar.markdown(f\\\\\\\"**í”„ë¡¬í”„íŠ¸ ì €ì¥ ìœ„ì¹˜**: {prompt_dir}\\\\\\\")\\\\n    st.sidebar.markdown(\\\\n        f\\\\\\\"**llm_eval ê²°ê³¼ ì €ì¥ ìœ„ì¹˜**: {get_default_llm_eval_data_dir()}\\\\\\\"\\\\n    )\\\\n\\\\n    # ê²°ê³¼/ë¡œê·¸/ë¦¬ë·°ìš”ì²­/í”„ë¡¬í”„íŠ¸ ì„ íƒ\\\\n    view_type = st.sidebar.selectbox(\\\\n        \\\\\\\"ë³´ê¸° ìœ í˜•:\\\\\\\",\\\\n        [\\\\n            \\\\\\\"ë¦¬ë·° ê²°ê³¼\\\\\\\",\\\\n            \\\\\\\"ì‘ë‹µ ë¡œê·¸\\\\\\\",\\\\n            \\\\\\\"reviewRequest\\\\\\\",\\\\n            \\\\\\\"í”„ë¡¬í”„íŠ¸\\\\\\\",\\\\n            \\\\\\\"review log\\\\\\\",\\\\n            \\\\\\\"llm_eval ê²°ê³¼\\\\\\\",\\\\n        ],\\\\n        index=0,\\\\n    )\\\\n\\\\n    # íŒŒì¼ ëª©ë¡ ê°€ì ¸ì˜¤ê¸°\\\\n    if view_type == \\\\\\\"ë¦¬ë·° ê²°ê³¼\\\\\\\":\\\\n        files = get_review_log_files()\\\\n        if not files:\\\\n            st.info(\\\\\\\"ì €ì¥ëœ ë¦¬ë·° ë¡œê·¸ê°€ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n            st.markdown(\\\\\\\"\\\\\\\"\\\\\\\"\\\\n            ### ë¦¬ë·° ìƒì„± ë°©ë²•\\\\n            \\\\n            í„°ë¯¸ë„ì—ì„œ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì—¬ ì½”ë“œ ë¦¬ë·°ë¥¼ ìƒì„±í•˜ì„¸ìš”:\\\\n            ```bash\\\\n            reviewer review\\\\n            ```\\\\n            \\\\n            ìì„¸í•œ ì‚¬ìš©ë²•ì€ README.md íŒŒì¼ì„ ì°¸ì¡°í•˜ì„¸ìš”.\\\\n            \\\\\\\"\\\\\\\"\\\\\\\")\\\\n            return\\\\n    elif view_type == \\\\\\\"ì‘ë‹µ ë¡œê·¸\\\\\\\":\\\\n        files = get_log_files()\\\\n        if not files:\\\\n            st.info(\\\\\\\"ì €ì¥ëœ ì‘ë‹µ ë¡œê·¸ê°€ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n            return\\\\n    elif view_type == \\\\\\\"reviewRequest\\\\\\\":\\\\n        files = get_review_request_files()\\\\n        if not files:\\\\n            st.info(\\\\\\\"ì €ì¥ëœ ë¦¬ë·° ìš”ì²­ì´ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n            return\\\\n    elif view_type == \\\\\\\"í”„ë¡¬í”„íŠ¸\\\\\\\":\\\\n        files = get_review_prompt_files()\\\\n        if not files:\\\\n            st.info(\\\\\\\"ì €ì¥ëœ í”„ë¡¬í”„íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n            return\\\\n    elif view_type == \\\\\\\"review log\\\\\\\":\\\\n        files = get_review_log_files()\\\\n        if not files:\\\\n            st.info(\\\\\\\"ì €ì¥ëœ review logê°€ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n            return\\\\n    else:  # llm_eval ê²°ê³¼\\\\n        files = get_llm_eval_data_files()\\\\n        if not files:\\\\n            st.info(\\\\\\\"ì €ì¥ëœ llm_eval ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n            return\\\\n\\\\n    # íŒŒì¼ ëª©ë¡ì„ ì •ë³´ì™€ í•¨ê»˜ ì €ì¥\\\\n    file_infos = [get_file_info(f) for f in files]\\\\n\\\\n    # ì‚¬ì´ë“œë°”ì— íŒŒì¼ ëª©ë¡ í‘œì‹œ\\\\n    st.sidebar.markdown(f\\\\\\\"## {view_type} ëª©ë¡\\\\\\\")\\\\n\\\\n    # ì •ë ¬ ì˜µì…˜\\\\n    sort_option = st.sidebar.selectbox(\\\\n        \\\\\\\"ì •ë ¬ ê¸°ì¤€:\\\\\\\", [\\\\\\\"ìµœì‹ ìˆœ\\\\\\\", \\\\\\\"ì˜¤ë˜ëœìˆœ\\\\\\\", \\\\\\\"íŒŒì¼ëª…\\\\\\\", \\\\\\\"ëª¨ë¸ëª…\\\\\\\"], index=0\\\\n    )\\\\n\\\\n    # ì •ë ¬ ì ìš©\\\\n    if sort_option == \\\\\\\"ìµœì‹ ìˆœ\\\\\\\":\\\\n        file_infos.sort(key=lambda x: x[\\\\\\\"date\\\\\\\"], reverse=True)\\\\n    elif sort_option == \\\\\\\"ì˜¤ë˜ëœìˆœ\\\\\\\":\\\\n        file_infos.sort(key=lambda x: x[\\\\\\\"date\\\\\\\"])\\\\n    elif sort_option == \\\\\\\"íŒŒì¼ëª…\\\\\\\":\\\\n        file_infos.sort(key=lambda x: x[\\\\\\\"name\\\\\\\"])\\\\n    elif sort_option == \\\\\\\"ëª¨ë¸ëª…\\\\\\\":\\\\n        file_infos.sort(key=lambda x: x[\\\\\\\"model\\\\\\\"])\\\\n\\\\n    # ì„ íƒ ê°€ëŠ¥í•œ íŒŒì¼ ì˜µì…˜ ìƒì„±\\\\n    file_options = {\\\\n        f\\\\\\\"{info['name']} ({info['date'].strftime('%Y-%m-%d %H:%M')}\\\\\\\": info\\\\n        for info in file_infos\\\\n    }\\\\n\\\\n    # íŒŒì¼ ì„ íƒ ìœ„ì ¯\\\\n    selected_file_name = st.sidebar.selectbox(\\\\n        \\\\\\\"íŒŒì¼ ì„ íƒ:\\\\\\\", list(file_options.keys()), index=0\\\\n    )\\\\n\\\\n    # ì„ íƒëœ íŒŒì¼ ì •ë³´\\\\n    selected_file_info = file_options[selected_file_name]\\\\n    selected_file_path = selected_file_info[\\\\\\\"path\\\\\\\"]\\\\n\\\\n    # íŒŒì¼ ë‚´ìš© ì½ê¸°\\\\n    try:\\\\n        with open(selected_file_path, encoding=\\\\\\\"utf-8\\\\\\\") as f:\\\\n            content = f.read()\\\\n\\\\n        # íŒŒì¼ ì •ë³´ í‘œì‹œ\\\\n        col1, col2, col3 = st.columns(3)\\\\n        with col1:\\\\n            st.markdown(f\\\\\\\"**íŒŒì¼ëª…**: {selected_file_info['name']}\\\\\\\")\\\\n        with col2:\\\\n            st.markdown(\\\\n                f\\\\\\\"**ë‚ ì§œ**: {selected_file_info['date'].strftime('%Y-%m-%d %H:%M')}\\\\\\\"\\\\n            )\\\\n        with col3:\\\\n            st.markdown(f\\\\\\\"**í¬ê¸°**: {selected_file_info['size_str']}\\\\\\\")\\\\n\\\\n        # íŒŒì¼ í˜•ì‹ì— ë”°ë¼ ë‹¤ë¥´ê²Œ í‘œì‹œ\\\\n        format = selected_file_info[\\\\\\\"format\\\\\\\"]\\\\n\\\\n        if format == \\\\\\\"json\\\\\\\":\\\\n            try:\\\\n                # JSON íŒŒì‹±\\\\n                json_data = json.loads(content)\\\\n\\\\n                if view_type == \\\\\\\"ë¦¬ë·° ê²°ê³¼\\\\\\\":\\\\n                    # ë¦¬ë·° ë¡œê·¸ì—ì„œ review_response ë°ì´í„° ê°€ì ¸ì˜¤ê¸°\\\\n                    if \\\\\\\"review_response\\\\\\\" in json_data and json_data[\\\\\\\"review_response\\\\\\\"]:\\\\n                        # ë”•ì…”ë„ˆë¦¬ë¥¼ ReviewResponse ê°ì²´ë¡œ ë³€í™˜\\\\n                        review_response = ReviewResponse.model_validate(\\\\n                            json_data[\\\\\\\"review_response\\\\\\\"]\\\\n                        )\\\\n\\\\n                        # ReviewFormatterë¥¼ ì‚¬ìš©í•˜ì—¬ HTMLë¡œ ë³€í™˜\\\\n                        formatter = ReviewFormatter()\\\\n                        html_content = formatter.to_html(review_response)\\\\n\\\\n                        # HTML ë‚´ìš©ì„ Streamlitì— í‘œì‹œ\\\\n                        html_content_with_style = html_content\\\\n                        st.markdown(html_content_with_style, unsafe_allow_html=True)\\\\n                    else:\\\\n                        st.warning(\\\\\\\"ë¦¬ë·° ì‘ë‹µ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n                        st.json(json_data)\\\\n                elif view_type == \\\\\\\"ì‘ë‹µ ë¡œê·¸\\\\\\\":\\\\n                    # ë¡œê·¸ ë°ì´í„°ë¥¼ ë³´ê¸° ì¢‹ê²Œ í‘œì‹œ\\\\n                    st.markdown(\\\\\\\"## ì‘ë‹µ ë¡œê·¸ ë‚´ìš©\\\\\\\")\\\\n                    st.json(json_data)\\\\n                elif view_type == \\\\\\\"reviewRequest\\\\\\\":\\\\n                    # ë¦¬ë·° ìš”ì²­ ë°ì´í„°ë¥¼ raw JSONìœ¼ë¡œ í‘œì‹œ\\\\n                    st.markdown(\\\\\\\"## reviewRequest ë‚´ìš©\\\\\\\")\\\\n                    st.json(json_data)\\\\n                elif view_type == \\\\\\\"í”„ë¡¬í”„íŠ¸\\\\\\\":\\\\n                    # í”„ë¡¬í”„íŠ¸ ë°ì´í„° (ìµœìƒìœ„ê°€ ë¦¬ìŠ¤íŠ¸ì¸ ê²½ìš°) ì²˜ë¦¬\\\\n                    # ê° í•­ëª©ì˜ 'content'ê°€ ë¬¸ìì—´í™”ëœ JSONì´ë©´ íŒŒì‹±\\\\n                    st.markdown(\\\\\\\"## í”„ë¡¬í”„íŠ¸ ë‚´ìš©\\\\\\\")\\\\n                    if isinstance(json_data, list):\\\\n                        for item in json_data:\\\\n                            if (\\\\n                                isinstance(item, dict)\\\\n                                and \\\\\\\"content\\\\\\\" in item\\\\n                                and isinstance(item[\\\\\\\"content\\\\\\\"], str)\\\\n                            ):\\\\n                                try:\\\\n                                    item[\\\\\\\"content\\\\\\\"] = json.loads(item[\\\\\\\"content\\\\\\\"])\\\\n                                except json.JSONDecodeError:\\\\n                                    pass  # íŒŒì‹± ì‹¤íŒ¨ ì‹œ ì›ë³¸ ë¬¸ìì—´ ìœ ì§€\\\\n                    st.json(json_data)\\\\n                elif view_type == \\\\\\\"review log\\\\\\\":\\\\n                    st.markdown(\\\\\\\"## review log\\\\\\\")\\\\n                    if \\\\\\\"prompt\\\\\\\" in json_data and isinstance(json_data[\\\\\\\"prompt\\\\\\\"], list):\\\\n                        for i, item in enumerate(json_data[\\\\\\\"prompt\\\\\\\"]):\\\\n                            if \\\\\\\"content\\\\\\\" in item and isinstance(item[\\\\\\\"content\\\\\\\"], str):\\\\n                                try:\\\\n                                    item[\\\\\\\"content\\\\\\\"] = json.loads(item[\\\\\\\"content\\\\\\\"])\\\\n                                except json.JSONDecodeError:\\\\n                                    pass\\\\n                    st.json(json_data)\\\\n                elif view_type == \\\\\\\"llm_eval ê²°ê³¼\\\\\\\":\\\\n                    st.markdown(\\\\\\\"## llm_eval ê²°ê³¼ ë‚´ìš©\\\\\\\")\\\\n\\\\n                    # ì›ë³¸ ë°ì´í„°ì˜ ê¹Šì€ ë³µì‚¬ë³¸ì„ ë§Œë“¤ì–´ í•„í„°ë§ ë° í‘œì‹œì— ì‚¬ìš©\\\\n                    display_data = copy.deepcopy(json_data)\\\\n\\\\n                    num_total_cases = 0\\\\n                    if (\\\\n                        isinstance(json_data, dict)\\\\n                        and \\\\\\\"testCases\\\\\\\" in json_data\\\\n                        and isinstance(json_data[\\\\\\\"testCases\\\\\\\"], list)\\\\n                    ):\\\\n                        num_total_cases = len(json_data[\\\\\\\"testCases\\\\\\\"])\\\\n\\\\n                    col_checkbox, col_count = st.columns(\\\\n                        [0.8, 0.2]\\\\n                    )  # ì²´í¬ë°•ìŠ¤ì™€ ì¹´ìš´íŠ¸ ì»¬ëŸ¼ ë¹„ìœ¨ ì¡°ì •\\\\n\\\\n                    with col_checkbox:\\\\n                        filter_failed_tests = st.checkbox(\\\\n                            \\\\\\\"ì‹¤íŒ¨í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë§Œ ë³´ê¸° (success=false)\\\\\\\",\\\\n                            key=\\\\\\\"llm_eval_filter_checkbox\\\\\\\",\\\\n                        )\\\\n\\\\n                    surviving_test_cases = []\\\\n                    if filter_failed_tests:\\\\n                        if (\\\\n                            isinstance(display_data, dict)\\\\n                            and \\\\\\\"testCases\\\\\\\" in display_data\\\\n                            and isinstance(display_data[\\\\\\\"testCases\\\\\\\"], list)\\\\n                        ):\\\\n                            surviving_test_cases = []\\\\n                            for tc_original in display_data[\\\\n                                \\\\\\\"testCases\\\\\\\"\\\\n                            ]:  # ì›ë³¸ ë¦¬ìŠ¤íŠ¸ ìˆœíšŒ\\\\n                                if (\\\\n                                    isinstance(tc_original, dict)\\\\n                                    and tc_original.get(\\\\\\\"success\\\\\\\") is False\\\\n                                ):\\\\n                                    # testCase.successê°€ falseì¸ ê²½ìš°ì—ë§Œ tc_to_add ë¡œì§ ìˆ˜í–‰\\\\n                                    tc_to_add = copy.deepcopy(\\\\n                                        tc_original\\\\n                                    )  # ë³µì‚¬ë³¸ ì‚¬ìš©\\\\n\\\\n                                    # metricsData ë‚´ë¶€ë¥¼ successê°€ falseì¸ í•­ëª©ë§Œ ë‚¨ë„ë¡ í•„í„°ë§\\\\n                                    if \\\\\\\"metricsData\\\\\\\" in tc_to_add and isinstance(\\\\n                                        tc_to_add[\\\\\\\"metricsData\\\\\\\"], list\\\\n                                    ):\\\\n                                        filtered_metrics = [\\\\n                                            m\\\\n                                            for m in tc_to_add[\\\\\\\"metricsData\\\\\\\"]\\\\n                                            if isinstance(m, dict)\\\\n                                            and m.get(\\\\\\\"success\\\\\\\") is False\\\\n                                        ]\\\\n                                        # metricsDataê°€ ë¹„ì–´ìˆì§€ ì•Šê±°ë‚˜, ì›ë˜ metricsDataê°€ ìˆì—ˆë˜ ê²½ìš°ì—ë§Œ í• ë‹¹\\\\n                                        # (í•­ìƒ metricsData í‚¤ë¥¼ ìœ ì§€í•˜ê³  ì‹¶ë‹¤ë©´ ì´ ì¡°ê±´ë¬¸ ì œê±° ê°€ëŠ¥)\\\\n                                        if (\\\\n                                            filtered_metrics\\\\n                                            or tc_to_add.get(\\\\\\\"metricsData\\\\\\\") is not None\\\\n                                        ):\\\\n                                            tc_to_add[\\\\\\\"metricsData\\\\\\\"] = filtered_metrics\\\\n                                        elif (\\\\n                                            not filtered_metrics\\\\n                                            and tc_to_add.get(\\\\\\\"metricsData\\\\\\\") is not None\\\\n                                        ):\\\\n                                            # ëª¨ë“  ë©”íŠ¸ë¦­ì´ trueì—¬ì„œ filtered_metricsê°€ ë¹„ì—ˆì§€ë§Œ, ì›ë˜ metricsDataê°€ ìˆì—ˆë‹¤ë©´ ë¹ˆ ë¦¬ìŠ¤íŠ¸ë¡œ ì„¤ì •\\\\n                                            tc_to_add[\\\\\\\"metricsData\\\\\\\"] = []\\\\n\\\\n                                    surviving_test_cases.append(tc_to_add)\\\\n\\\\n                            display_data[\\\\\\\"testCases\\\\\\\"] = surviving_test_cases\\\\n                            num_displayed_cases = len(\\\\n                                display_data[\\\\\\\"testCases\\\\\\\"]\\\\n                            )  # í•„í„°ë§ í›„ ê°œìˆ˜ ì—…ë°ì´íŠ¸\\\\n                        count_caption_text = f\\\\\\\"(í‘œì‹œ: {num_displayed_cases} / ì´: {num_total_cases}ê±´, ì‹¤íŒ¨ë§Œ)\\\\\\\"\\\\n                    else:\\\\n                        # ì²´í¬ë°•ìŠ¤ í•´ì œ ì‹œì—ëŠ” ì›ë³¸ metricsDataë¥¼ ë³´ì—¬ì£¼ê¸° ìœ„í•´ display_dataë¥¼ json_dataì˜ ë³µì‚¬ë³¸ìœ¼ë¡œ ë‹¤ì‹œ ì„¤ì •í•  í•„ìš”ëŠ” ì—†ìŒ\\\\n                        # ì–´ì°¨í”¼ ë§¤ë²ˆ json_dataì˜ deepcopyë¡œ ì‹œì‘í•¨.\\\\n                        count_caption_text = f\\\\\\\"(ì´ {num_total_cases}ê±´)\\\\\\\"\\\\n\\\\n                    with col_count:\\\\n                        st.caption(count_caption_text)\\\\n\\\\n                    # í•„í„°ë§ë˜ì—ˆê±°ë‚˜ ì „ì²´ testCasesì— ëŒ€í•´ ë‚´ë¶€ í•„ë“œ íŒŒì‹± ì ìš©\\\\n                    if (\\\\n                        isinstance(display_data, dict)\\\\n                        and \\\\\\\"testCases\\\\\\\" in display_data\\\\n                        and isinstance(display_data[\\\\\\\"testCases\\\\\\\"], list)\\\\n                    ):\\\\n                        for test_case in display_data[\\\\\\\"testCases\\\\\\\"]:\\\\n                            if isinstance(test_case, dict):\\\\n                                # input í•„ë“œ ì²˜ë¦¬: í”„ë¡¬í”„íŠ¸ì™€ ìœ ì‚¬í•œ êµ¬ì¡°ë¡œ íŒŒì‹±\\\\n                                if \\\\\\\"input\\\\\\\" in test_case and isinstance(\\\\n                                    test_case[\\\\\\\"input\\\\\\\"], str\\\\n                                ):\\\\n                                    try:\\\\n                                        parsed_input = json.loads(test_case[\\\\\\\"input\\\\\\\"])\\\\n                                        if isinstance(parsed_input, list):\\\\n                                            for item in parsed_input:\\\\n                                                if (\\\\n                                                    isinstance(item, dict)\\\\n                                                    and \\\\\\\"content\\\\\\\" in item\\\\n                                                    and isinstance(item[\\\\\\\"content\\\\\\\"], str)\\\\n                                                ):\\\\n                                                    try:\\\\n                                                        item[\\\\\\\"content\\\\\\\"] = json.loads(\\\\n                                                            item[\\\\\\\"content\\\\\\\"]\\\\n                                                        )\\\\n                                                    except json.JSONDecodeError:\\\\n                                                        pass\\\\n                                        test_case[\\\\\\\"input\\\\\\\"] = parsed_input\\\\n                                    except json.JSONDecodeError:\\\\n                                        pass\\\\n\\\\n                                # actualOutput í•„ë“œ ì²˜ë¦¬\\\\n                                if \\\\\\\"actualOutput\\\\\\\" in test_case and isinstance(\\\\n                                    test_case[\\\\\\\"actualOutput\\\\\\\"], str\\\\n                                ):\\\\n                                    try:\\\\n                                        test_case[\\\\\\\"actualOutput\\\\\\\"] = json.loads(\\\\n                                            test_case[\\\\\\\"actualOutput\\\\\\\"]\\\\n                                        )\\\\n                                    except json.JSONDecodeError:\\\\n                                        pass\\\\n                    st.json(display_data)\\\\n            except json.JSONDecodeError:\\\\n                # JSON íŒŒì‹± ì‹¤íŒ¨ ì‹œ ì¼ë°˜ í…ìŠ¤íŠ¸ë¡œ í‘œì‹œ\\\\n                st.text(content)\\\\n        elif format == \\\\\\\"html\\\\\\\":\\\\n            # HTMLì€ iframeìœ¼ë¡œ í‘œì‹œ\\\\n            # st.html(content, height=600, scrolling=True) # ì´ì „ ì½”ë“œ\\\\n            # HTML ë¬¸ìì—´ì— ì§ì ‘ ìŠ¤íƒ€ì¼ì„ ì ìš©í•˜ì—¬ ë†’ì´ì™€ ìŠ¤í¬ë¡¤ ì œì–´\\\\n            html_content_with_style = f\\\\\\\"\\\\\\\"\\\\\\\"\\\\n            <div style=\\\\\\\"height: 600px; overflow-y: scroll;\\\\\\\">\\\\n                {content}\\\\n            </div>\\\\n            \\\\\\\"\\\\\\\"\\\\\\\"\\\\n            # st.html(html_content_with_style, height=610) # ì´ì „ ì½”ë“œ\\\\n            st.markdown(html_content_with_style, unsafe_allow_html=True)\\\\n        else:\\\\n            # ë§ˆí¬ë‹¤ìš´ ë˜ëŠ” ë‹¤ë¥¸ í˜•ì‹ì€ ë§ˆí¬ë‹¤ìš´ìœ¼ë¡œ í‘œì‹œ\\\\n            st.markdown(content, unsafe_allow_html=True)\\\\n\\\\n    except Exception as e:\\\\n        st.error(f\\\\\\\"íŒŒì¼ì„ ì½ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: {str(e)}\\\\\\\")\\\\n\\\\n\\\\ndef run_app() -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"Streamlit ì•±ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    import os\\\\n    import subprocess\\\\n    import sys\\\\n\\\\n    # í˜„ì¬ íŒŒì¼ì˜ ê²½ë¡œ\\\\n    file_path = os.path.abspath(__file__)\\\\n\\\\n    # í¬íŠ¸ í™˜ê²½ë³€ìˆ˜ ê°€ì ¸ì˜¤ê¸°\\\\n    port = os.environ.get(\\\\\\\"STREAMLIT_SERVER_PORT\\\\\\\", \\\\\\\"8501\\\\\\\")\\\\n\\\\n    # Streamlit ì‹¤í–‰\\\\n    cmd = [\\\\n        sys.executable,\\\\n        \\\\\\\"-m\\\\\\\",\\\\n        \\\\\\\"streamlit\\\\\\\",\\\\n        \\\\\\\"run\\\\\\\",\\\\n        file_path,\\\\n        \\\\\\\"--server.headless\\\\\\\",\\\\n        \\\\\\\"true\\\\\\\",\\\\n        \\\\\\\"--browser.serverAddress\\\\\\\",\\\\n        \\\\\\\"localhost\\\\\\\",\\\\n        \\\\\\\"--server.port\\\\\\\",\\\\n        port,\\\\n    ]\\\\n\\\\n    subprocess.run(cmd)\\\\n\\\\n\\\\n# Streamlit ì•±ìœ¼ë¡œ ì§ì ‘ ì‹¤í–‰ë  ê²½ìš°\\\\nif __name__ == \\\\\\\"__main__\\\\\\\":\\\\n    app()\\\\n\\\", \\\"formatted_hunks\\\": [{\\\"hunk_idx\\\": \\\"1\\\", \\\"before_code\\\": \\\"```python\\\\n    st.sidebar.markdown(f\\\\\\\"**ê²°ê³¼ ì €ì¥ ìœ„ì¹˜**: {results_dir}\\\\\\\")\\\\n    st.sidebar.markdown(f\\\\\\\"**ë¡œê·¸ ì €ì¥ ìœ„ì¹˜**: {log_dir}\\\\\\\")\\\\n    st.sidebar.markdown(f\\\\\\\"**ë¦¬ë·° ë¡œê·¸ ì €ì¥ ìœ„ì¹˜**: {review_log_dir}\\\\\\\")\\\\n    st.sidebar.markdown(f\\\\\\\"**reviewRequest ìš”ì²­ ì €ì¥ ìœ„ì¹˜**: {request_dir}\\\\\\\")\\\\n    st.sidebar.markdown(f\\\\\\\"**í”„ë¡¬í”„íŠ¸ ì €ì¥ ìœ„ì¹˜**: {prompt_dir}\\\\\\\")\\\\n    st.sidebar.markdown(f\\\\\\\"**í†µí•© JSON ì €ì¥ ìœ„ì¹˜**: {get_default_merged_data_dir()}\\\\\\\")\\\\n    st.sidebar.markdown(\\\\n        f\\\\\\\"**llm_eval ê²°ê³¼ ì €ì¥ ìœ„ì¹˜**: {get_default_llm_eval_data_dir()}\\\\\\\"\\\\n    )\\\\n\\\\n    # ê²°ê³¼/ë¡œê·¸/ë¦¬ë·°ìš”ì²­/í”„ë¡¬í”„íŠ¸ ì„ íƒ\\\\n```\\\", \\\"after_code\\\": \\\"```python\\\\n    st.sidebar.markdown(f\\\\\\\"**ê²°ê³¼ ì €ì¥ ìœ„ì¹˜**: {results_dir}\\\\\\\")\\\\n    st.sidebar.markdown(f\\\\\\\"**ë¡œê·¸ ì €ì¥ ìœ„ì¹˜**: {log_dir}\\\\\\\")\\\\n    st.sidebar.markdown(f\\\\\\\"**ë¦¬ë·° ë¡œê·¸ ì €ì¥ ìœ„ì¹˜**: {review_log_dir}\\\\\\\")\\\\n    st.sidebar.markdown(f\\\\\\\"**reviewRequest ìš”ì²­ ì €ì¥ ìœ„ì¹˜**: {request_dir}\\\\\\\")\\\\n    st.sidebar.markdown(f\\\\\\\"**í”„ë¡¬í”„íŠ¸ ì €ì¥ ìœ„ì¹˜**: {prompt_dir}\\\\\\\")\\\\n    st.sidebar.markdown(\\\\n        f\\\\\\\"**llm_eval ê²°ê³¼ ì €ì¥ ìœ„ì¹˜**: {get_default_llm_eval_data_dir()}\\\\\\\"\\\\n    )\\\\n\\\\n    # ê²°ê³¼/ë¡œê·¸/ë¦¬ë·°ìš”ì²­/í”„ë¡¬í”„íŠ¸ ì„ íƒ\\\\n```\\\", \\\"after_code_start_line_number\\\": 276, \\\"after_code_line_numbers\\\": [276, 277, 278, 279, 280, 281, 282, 283, 284, 285]}, {\\\"hunk_idx\\\": \\\"2\\\", \\\"before_code\\\": \\\"```python\\\\n        [\\\\n            \\\\\\\"ë¦¬ë·° ê²°ê³¼\\\\\\\",\\\\n            \\\\\\\"ì‘ë‹µ ë¡œê·¸\\\\\\\",\\\\n            \\\\\\\"reviewRequest\\\\\\\",\\\\n            \\\\\\\"í”„ë¡¬í”„íŠ¸\\\\\\\",\\\\n            \\\\\\\"í†µí•© JSON\\\\\\\",\\\\n            \\\\\\\"llm_eval ê²°ê³¼\\\\\\\",\\\\n        ],\\\\n        index=0,\\\\n    )\\\\n\\\\n```\\\", \\\"after_code\\\": \\\"```python\\\\n        [\\\\n            \\\\\\\"ë¦¬ë·° ê²°ê³¼\\\\\\\",\\\\n            \\\\\\\"ì‘ë‹µ ë¡œê·¸\\\\\\\",\\\\n            \\\\\\\"reviewRequest\\\\\\\",\\\\n            \\\\\\\"í”„ë¡¬í”„íŠ¸\\\\\\\",\\\\n            \\\\\\\"review log\\\\\\\",\\\\n            \\\\\\\"llm_eval ê²°ê³¼\\\\\\\",\\\\n        ],\\\\n        index=0,\\\\n    )\\\\n\\\\n```\\\", \\\"after_code_start_line_number\\\": 288, \\\"after_code_line_numbers\\\": [288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298]}, {\\\"hunk_idx\\\": \\\"3\\\", \\\"before_code\\\": \\\"```python\\\\n    elif view_type == \\\\\\\"í”„ë¡¬í”„íŠ¸\\\\\\\":\\\\n        files = get_review_prompt_files()\\\\n        if not files:\\\\n            st.info(\\\\\\\"ì €ì¥ëœ í”„ë¡¬í”„íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n            return\\\\n    elif view_type == \\\\\\\"í†µí•© JSON\\\\\\\":\\\\n        files = get_merged_data_files()\\\\n        if not files:\\\\n            st.info(\\\\\\\"ì €ì¥ëœ í†µí•© JSON ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n            return\\\\n    else:  # llm_eval ê²°ê³¼\\\\n        files = get_llm_eval_data_files()\\\\n        if not files:\\\\n            st.info(\\\\\\\"ì €ì¥ëœ llm_eval ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n```\\\", \\\"after_code\\\": \\\"```python\\\\n    elif view_type == \\\\\\\"í”„ë¡¬í”„íŠ¸\\\\\\\":\\\\n        files = get_review_prompt_files()\\\\n        if not files:\\\\n            st.info(\\\\\\\"ì €ì¥ëœ í”„ë¡¬í”„íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n            return\\\\n    elif view_type == \\\\\\\"review log\\\\\\\":\\\\n        files = get_review_log_files()\\\\n        if not files:\\\\n            st.info(\\\\\\\"ì €ì¥ëœ review logê°€ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n            return\\\\n    else:  # llm_eval ê²°ê³¼\\\\n        files = get_llm_eval_data_files()\\\\n        if not files:\\\\n            st.info(\\\\\\\"ì €ì¥ëœ llm_eval ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n```\\\", \\\"after_code_start_line_number\\\": 325, \\\"after_code_line_numbers\\\": [325, 326, 327, 328, 329, 330, 331, 332, 333, 334, 335, 336, 337, 338]}, {\\\"hunk_idx\\\": \\\"4\\\", \\\"before_code\\\": \\\"```python\\\\n        \\\\\\\"ì •ë ¬ ê¸°ì¤€:\\\\\\\", [\\\\\\\"ìµœì‹ ìˆœ\\\\\\\", \\\\\\\"ì˜¤ë˜ëœìˆœ\\\\\\\", \\\\\\\"íŒŒì¼ëª…\\\\\\\", \\\\\\\"ëª¨ë¸ëª…\\\\\\\"], index=0\\\\n    )\\\\n\\\\n    # ì •ë ¬ ì ìš©\\\\n    if sort_option == \\\\\\\"ìµœì‹ ìˆœ\\\\\\\":\\\\n        file_infos.sort(key=lambda x: x[\\\\\\\"mtime\\\\\\\"], reverse=True)\\\\n    elif sort_option == \\\\\\\"ì˜¤ë˜ëœìˆœ\\\\\\\":\\\\n        file_infos.sort(key=lambda x: x[\\\\\\\"mtime\\\\\\\"])\\\\n    elif sort_option == \\\\\\\"íŒŒì¼ëª…\\\\\\\":\\\\n        file_infos.sort(key=lambda x: x[\\\\\\\"name\\\\\\\"])\\\\n    elif sort_option == \\\\\\\"ëª¨ë¸ëª…\\\\\\\":\\\\n        file_infos.sort(key=lambda x: x[\\\\\\\"model\\\\\\\"])\\\\n\\\\n```\\\", \\\"after_code\\\": \\\"```python\\\\n        \\\\\\\"ì •ë ¬ ê¸°ì¤€:\\\\\\\", [\\\\\\\"ìµœì‹ ìˆœ\\\\\\\", \\\\\\\"ì˜¤ë˜ëœìˆœ\\\\\\\", \\\\\\\"íŒŒì¼ëª…\\\\\\\", \\\\\\\"ëª¨ë¸ëª…\\\\\\\"], index=0\\\\n    )\\\\n\\\\n    # ì •ë ¬ ì ìš©\\\\n    if sort_option == \\\\\\\"ìµœì‹ ìˆœ\\\\\\\":\\\\n        file_infos.sort(key=lambda x: x[\\\\\\\"date\\\\\\\"], reverse=True)\\\\n    elif sort_option == \\\\\\\"ì˜¤ë˜ëœìˆœ\\\\\\\":\\\\n        file_infos.sort(key=lambda x: x[\\\\\\\"date\\\\\\\"])\\\\n    elif sort_option == \\\\\\\"íŒŒì¼ëª…\\\\\\\":\\\\n        file_infos.sort(key=lambda x: x[\\\\\\\"name\\\\\\\"])\\\\n    elif sort_option == \\\\\\\"ëª¨ë¸ëª…\\\\\\\":\\\\n        file_infos.sort(key=lambda x: x[\\\\\\\"model\\\\\\\"])\\\\n\\\\n```\\\", \\\"after_code_start_line_number\\\": 349, \\\"after_code_line_numbers\\\": [349, 350, 351, 352, 353, 354, 355, 356, 357, 358, 359, 360, 361]}, {\\\"hunk_idx\\\": \\\"5\\\", \\\"before_code\\\": \\\"```python\\\\n                                try:\\\\n                                    item[\\\\\\\"content\\\\\\\"] = json.loads(item[\\\\\\\"content\\\\\\\"])\\\\n                                except json.JSONDecodeError:\\\\n                                    pass  # íŒŒì‹± ì‹¤íŒ¨ ì‹œ ì›ë³¸ ë¬¸ìì—´ ìœ ì§€\\\\n                    st.json(json_data)\\\\n                elif view_type == \\\\\\\"í†µí•© JSON\\\\\\\":\\\\n                    st.markdown(\\\\\\\"## í†µí•© JSON ë‚´ìš©\\\\\\\")\\\\n                    if \\\\\\\"prompt\\\\\\\" in json_data and isinstance(json_data[\\\\\\\"prompt\\\\\\\"], list):\\\\n                        for i, item in enumerate(json_data[\\\\\\\"prompt\\\\\\\"]):\\\\n                            if \\\\\\\"content\\\\\\\" in item and isinstance(item[\\\\\\\"content\\\\\\\"], str):\\\\n                                try:\\\\n                                    item[\\\\\\\"content\\\\\\\"] = json.loads(item[\\\\\\\"content\\\\\\\"])\\\\n```\\\", \\\"after_code\\\": \\\"```python\\\\n                                try:\\\\n                                    item[\\\\\\\"content\\\\\\\"] = json.loads(item[\\\\\\\"content\\\\\\\"])\\\\n                                except json.JSONDecodeError:\\\\n                                    pass  # íŒŒì‹± ì‹¤íŒ¨ ì‹œ ì›ë³¸ ë¬¸ìì—´ ìœ ì§€\\\\n                    st.json(json_data)\\\\n                elif view_type == \\\\\\\"review log\\\\\\\":\\\\n                    st.markdown(\\\\\\\"## review log\\\\\\\")\\\\n                    if \\\\\\\"prompt\\\\\\\" in json_data and isinstance(json_data[\\\\\\\"prompt\\\\\\\"], list):\\\\n                        for i, item in enumerate(json_data[\\\\\\\"prompt\\\\\\\"]):\\\\n                            if \\\\\\\"content\\\\\\\" in item and isinstance(item[\\\\\\\"content\\\\\\\"], str):\\\\n                                try:\\\\n                                    item[\\\\\\\"content\\\\\\\"] = json.loads(item[\\\\\\\"content\\\\\\\"])\\\\n```\\\", \\\"after_code_start_line_number\\\": 438, \\\"after_code_line_numbers\\\": [438, 439, 440, 441, 442, 443, 444, 445, 446, 447, 448, 449]}]}\"}]",
    "actual_output": "{\"issues\": [], \"summary\": \"ë¦¬ë·° ë¡œê·¸ íŒŒì¼ëª… í˜•ì‹ì´ ê°œì„ ë˜ì—ˆê³ , UIì—ì„œ 'í†µí•© JSON' ë³´ê¸° ìœ í˜•ì´ 'review log'ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤. UIì˜ íŒŒì¼ ì •ë ¬ ê¸°ì¤€ë„ íŒŒì¼ ìˆ˜ì • ì‹œê°„ì—ì„œ íŒŒì¼ëª…ì— í¬í•¨ëœ ë‚ ì§œ ì •ë³´ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.\", \"score\": 9.0, \"recommendations\": [\"reviewer/src/ui.py íŒŒì¼ì˜ `get_file_info` í•¨ìˆ˜ì—ì„œ íŒŒì¼ëª…ìœ¼ë¡œë¶€í„° ë‚ ì§œì™€ ëª¨ë¸ëª…ì„ íŒŒì‹±í•˜ëŠ” ë¡œì§ì´ ë‹¤ì†Œ ë³µì¡í•˜ê³  ë‹¤ì–‘í•œ í˜•ì‹ì— ëŒ€ì‘í•˜ë ¤ ì‹œë„í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì˜ˆìƒë˜ëŠ” íŒŒì¼ëª… í˜•ì‹ì— ëŒ€í•œ ëª…í™•í•œ ë¬¸ì„œí™” ë˜ëŠ” ì£¼ì„ì„ ì¶”ê°€í•˜ì—¬ ì½”ë“œ ì´í•´ë„ë¥¼ ë†’ì´ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤. ë˜í•œ, ë‹¤ì–‘í•œ íŒŒì¼ëª… í˜•ì‹ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì‘ì„±í•˜ì—¬ íŒŒì‹± ë¡œì§ì˜ ê²¬ê³ ì„±ì„ í™•ë³´í•˜ëŠ” ê²ƒì„ ê³ ë ¤í•´ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\"]}"
  }
]