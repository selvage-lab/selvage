[
  {
    "input": "[{\"role\": \"system\", \"content\": \"ë‹¹ì‹ ì€ ìˆ™ë ¨ëœ ì½”ë“œ ë¦¬ë·°ì–´ì…ë‹ˆë‹¤. ì œê³µëœ git diffë¥¼ ë¶„ì„í•˜ì—¬ ì½”ë“œ í’ˆì§ˆ, ë²„ê·¸, ë³´ì•ˆ ë¬¸ì œ, ì„±ëŠ¥ ì´ìŠˆ ë“± ì£¼ìš” ë¬¸ì œì ì„ ì¢…í•©ì ìœ¼ë¡œ í‰ê°€í•˜ê³ , ê°œì„  ë°©í–¥ì— ëŒ€í•´ ììœ ë¡­ê²Œ ì˜ê²¬ì„ ì œì‹œí•˜ì„¸ìš”.\\n\\nì¤‘ìš”: ëª¨ë“  ì‘ë‹µì€ ë°˜ë“œì‹œ í•œêµ­ì–´ë¡œ ì‘ì„±í•´ì•¼ í•©ë‹ˆë‹¤. ì˜ì–´ë‚˜ ë‹¤ë¥¸ ì–¸ì–´ë¡œ ì‘ë‹µí•˜ì§€ ë§ˆì„¸ìš”.\\n\\nê° ì´ìŠˆëŠ” ë‹¤ìŒ ì •ë³´ë¥¼ í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤:\\n- type: ì´ìŠˆ ìœ í˜• (ë²„ê·¸, ë³´ì•ˆ, ì„±ëŠ¥, ìŠ¤íƒ€ì¼, ì„¤ê³„ ì¤‘ í•˜ë‚˜)\\n- line_number: ë¬¸ì œê°€ ìˆëŠ” ì½”ë“œì˜ ë¼ì¸ ë²ˆí˜¸ (ë°˜ë“œì‹œ ì •í™•í•œ ìˆ«ìë¡œ ì§€ì •, ì•Œ ìˆ˜ ì—†ëŠ” ê²½ìš°ì—ë§Œ null ì‚¬ìš©)\\n- file: ë¬¸ì œê°€ ìˆëŠ” íŒŒì¼ ì´ë¦„ (ë°˜ë“œì‹œ ì •í™•í•œ íŒŒì¼ ê²½ë¡œì™€ ì´ë¦„ ì‚¬ìš©, 'íŒŒì¼-1'ê³¼ ê°™ì€ ì„ì˜ì˜ ì´ë¦„ ì‚¬ìš© ê¸ˆì§€)\\n- description: ì´ìŠˆì— ëŒ€í•œ ìì„¸í•œ ì„¤ëª…\\n- suggestion: ë¬¸ì œ í•´ê²°ì„ ìœ„í•œ êµ¬ì²´ì ì¸ ì œì•ˆ\\n- severity: ì´ìŠˆì˜ ì‹¬ê°ë„ (info, warning, error ì¤‘ í•˜ë‚˜)\\n\\në˜í•œ ë‹¤ìŒ ì •ë³´ë„ ì œê³µí•´ì•¼ í•©ë‹ˆë‹¤:\\n- summary: ì „ì²´ ì½”ë“œ ë³€ê²½ì— ëŒ€í•œ ìš”ì•½\\n- score: ì½”ë“œ í’ˆì§ˆì— ëŒ€í•œ 0-10 ì‚¬ì´ì˜ ì ìˆ˜\\n- recommendations: ì „ë°˜ì ì¸ ê°œì„ ì„ ìœ„í•œ ê¶Œì¥ì‚¬í•­ ëª©ë¡\\n\\nê° ì´ìŠˆì— ëŒ€í•´ ë‹¤ìŒ í˜•ì‹ìœ¼ë¡œ ë¦¬ë·° ëŒ€ìƒ ì½”ë“œì™€ ê°œì„ ëœ ì½”ë“œ ì˜ˆì‹œë¥¼ ì œê³µí•˜ì„¸ìš”:\\n\\në¦¬ë·° ëŒ€ìƒ ì½”ë“œ:\\n```\\n[ë¬¸ì œê°€ ìˆëŠ” ì›ë³¸ ì½”ë“œ ìŠ¤ë‹ˆí«]\\n```\\n\\nê°œì„ ëœ ì½”ë“œ:\\n```\\n[ê°œì„  ì œì•ˆì´ ë°˜ì˜ëœ ì½”ë“œ ìŠ¤ë‹ˆí«]\\n```\\n\\nì´ìŠˆ ì„¤ëª…ê³¼ ì œì•ˆì€ êµ¬ì²´ì ì´ê³  ëª…í™•í•˜ê²Œ ì‘ì„±í•˜ì„¸ìš”. ëª¨í˜¸í•œ í‘œí˜„ì´ë‚˜ ì¼ë°˜ì ì¸ ì¡°ì–¸ì€ í”¼í•˜ê³ , ì½”ë“œì˜ íŠ¹ì • ë¶€ë¶„ì„ ì–¸ê¸‰í•˜ë©° ì‹¤ì§ˆì ì¸ ê°œì„  ë°©ì•ˆì„ ì œì‹œí•˜ì„¸ìš”.\\n\\nissuesì˜ íŒŒì¼ëª…ê³¼ line_numberëŠ” ë°˜ë“œì‹œ ì •í™•í•˜ê²Œ ì§€ì •í•´ì•¼ í•©ë‹ˆë‹¤. íŒŒì¼ëª…ì€ ì‹¤ì œ íŒŒì¼ ê²½ë¡œì™€ ì´ë¦„ì„ ì‚¬ìš©í•˜ê³ , line_numberëŠ” í”„ë¡¬í”„íŠ¸ì— ëª…ì‹œë˜ì–´ ìˆëŠ” line_numberë¥¼ ê·¸ëŒ€ë¡œ í‘œê¸°í•´ì£¼ë©´ë©ë‹ˆë‹¤.\\níŒŒì¼ëª…ì´ë‚˜ ë¼ì¸ ë²ˆí˜¸ëŠ” 'íŒŒì¼-1', 'íŒŒì¼-2'ì™€ ê°™ì€ ì„ì˜ì˜ ì´ë¦„ìœ¼ë¡œ ëŒ€ì²´í•˜ì§€ ë§ˆì„¸ìš”.\\n\\nìµœì¢…ì ìœ¼ë¡œ ì‘ë‹µì€ ë°˜ë“œì‹œ ë‹¤ìŒ JSON í˜•ì‹ìœ¼ë¡œ ì œê³µí•´ì•¼ í•©ë‹ˆë‹¤:\\n\\n```json\\n{\\n  \\\"issues\\\": [\\n    {\\n      \\\"type\\\": \\\"ì´ìŠˆ ìœ í˜•\\\",\\n      \\\"line_number\\\": ë¼ì¸ ë²ˆí˜¸\\n      \\\"file\\\": \\\"íŒŒì¼ëª…\\\",\\n      \\\"description\\\": \\\"ì´ìŠˆ ì„¤ëª…\\\",\\n      \\\"suggestion\\\": \\\"ê°œì„  ì œì•ˆ\\\",\\n      \\\"severity\\\": \\\"ì‹¬ê°ë„\\\",\\n      \\\"original_code\\\": \\\"ì›ë³¸ ì½”ë“œ\\\",\\n      \\\"improved_code\\\": \\\"ê°œì„ ëœ ì½”ë“œ\\\"\\n    }\\n  ],\\n  \\\"summary\\\": \\\"ì „ì²´ ìš”ì•½\\\",\\n  \\\"score\\\": ì ìˆ˜,\\n  \\\"recommendations\\\": [\\\"ê¶Œì¥ì‚¬í•­1\\\", \\\"ê¶Œì¥ì‚¬í•­2\\\"]\\n}\\n```\\nì´ìŠˆê°€ ì—†ëŠ” ê²½ìš°ì—ë„ ë¹ˆ ë°°ì—´ \\\"issues\\\": []ë¡œ í‘œì‹œí•˜ê³ , ë‹¤ë¥¸ ëª¨ë“  í•„ë“œë¥¼ í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤.\\nìœ„ JSON í˜•ì‹ë§Œ ì‘ë‹µí•´ì•¼ í•©ë‹ˆë‹¤. ë‹¤ë¥¸ í…ìŠ¤íŠ¸ë‚˜ ì„¤ëª…ì€ í¬í•¨í•˜ì§€ ë§ˆì„¸ìš”. \"}, {\"role\": \"user\", \"content\": \"{\\\"file_name\\\": \\\"reviewer/src/ui.py\\\", \\\"file_content\\\": \\\"\\\\\\\"\\\\\\\"\\\\\\\"\\\\në¦¬ë·° ê²°ê³¼ë¥¼ ë³´ì—¬ì£¼ëŠ” Streamlit ì›¹ ì¸í„°í˜ì´ìŠ¤ ëª¨ë“ˆ\\\\n\\\\nì´ ëª¨ë“ˆì€ ì €ì¥ëœ ë¦¬ë·° ê²°ê³¼ë¥¼ Streamlitì„ ì‚¬ìš©í•˜ì—¬ ì›¹ ë¸Œë¼ìš°ì €ì— í‘œì‹œí•©ë‹ˆë‹¤.\\\\n\\\\\\\"\\\\\\\"\\\\\\\"\\\\n\\\\nimport copy\\\\nimport json\\\\nimport logging\\\\nimport os\\\\nimport sys\\\\nfrom datetime import datetime\\\\nfrom pathlib import Path\\\\nfrom typing import Any, Optional\\\\n\\\\nimport streamlit as st\\\\n\\\\nfrom reviewer.src.config import get_default_review_log_dir\\\\nfrom reviewer.src.utils.review_formatter import ReviewFormatter\\\\nfrom reviewer.src.utils.token.models import ReviewResponse\\\\n\\\\n# ë¡œê±° ì„¤ì •\\\\nlogger = logging.getLogger(__name__)\\\\n\\\\n# ìƒëŒ€ ê²½ë¡œ ì„í¬íŠ¸ë¥¼ ìœ„í•œ ê²½ë¡œ ì„¤ì •\\\\n\\\\n\\\\ndef get_default_llm_eval_data_dir() -> Path:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"llm_eval ë°ì´í„°ê°€ ì €ì¥ëœ data ë””ë ‰í† ë¦¬ ê²½ë¡œë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    project_root = Path(__file__).resolve().parent.parent.parent\\\\n    return project_root / \\\\\\\"llm_eval\\\\\\\" / \\\\\\\"results\\\\\\\"\\\\n\\\\n\\\\ndef get_llm_eval_data_files() -> list[Path]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"llm_eval ë°ì´í„° ë””ë ‰í† ë¦¬ì—ì„œ ëª¨ë“  íŒŒì¼ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    llm_eval_data_dir = get_default_llm_eval_data_dir()\\\\n    if not llm_eval_data_dir.exists():\\\\n        return []\\\\n\\\\n    llm_eval_files = list(llm_eval_data_dir.glob(\\\\\\\"*\\\\\\\"))\\\\n    llm_eval_files.sort(key=lambda f: f.stat().st_mtime, reverse=True)\\\\n    return llm_eval_files\\\\n\\\\n\\\\ndef get_review_log_files() -> list[Path]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ë¦¬ë·° ë¡œê·¸ ë””ë ‰í† ë¦¬ì—ì„œ ëª¨ë“  ë¦¬ë·° ë¡œê·¸ íŒŒì¼ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    log_dir = get_default_review_log_dir()\\\\n    if not log_dir.exists():\\\\n        return []\\\\n\\\\n    log_files = list(log_dir.glob(\\\\\\\"*.json\\\\\\\"))\\\\n    log_files.sort(key=lambda f: f.stat().st_mtime, reverse=True)\\\\n    return log_files\\\\n\\\\n\\\\ndef parse_date_from_filename(filename: str) -> Optional[datetime]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"íŒŒì¼ëª…ì—ì„œ ë‚ ì§œ ì •ë³´ë¥¼ ì¶”ì¶œí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    parts = filename.split(\\\\\\\"_\\\\\\\")\\\\n\\\\n    # YYYYMMDD_HHMMSS í˜•ì‹ ê²€ìƒ‰\\\\n    if len(parts) >= 2:\\\\n        # ì ‘ë‘ì‚¬ì— ë‚ ì§œê°€ ìˆëŠ” ê²½ìš°: YYYYMMDD_HHMMSS_...\\\\n        if (\\\\n            parts[0].isdigit()\\\\n            and len(parts[0]) == 8\\\\n            and parts[1].isdigit()\\\\n            and len(parts[1]) == 6\\\\n        ):\\\\n            try:\\\\n                return datetime.strptime(f\\\\\\\"{parts[0]}_{parts[1]}\\\\\\\", \\\\\\\"%Y%m%d_%H%M%S\\\\\\\")\\\\n            except ValueError:\\\\n                pass\\\\n\\\\n        # ì ‘ë¯¸ì‚¬ì— ë‚ ì§œê°€ ìˆëŠ” ê²½ìš°: ..._YYYYMMDD_HHMMSS\\\\n        if (\\\\n            parts[-2].isdigit()\\\\n            and len(parts[-2]) == 8\\\\n            and parts[-1].isdigit()\\\\n            and len(parts[-1]) == 6\\\\n        ):\\\\n            try:\\\\n                return datetime.strptime(f\\\\\\\"{parts[-2]}_{parts[-1]}\\\\\\\", \\\\\\\"%Y%m%d_%H%M%S\\\\\\\")\\\\n            except ValueError:\\\\n                pass\\\\n\\\\n        # ì¤‘ê°„ì— ë‚ ì§œê°€ ìˆëŠ” ê²½ìš°\\\\n        for i in range(len(parts) - 1):\\\\n            if (\\\\n                parts[i].isdigit()\\\\n                and len(parts[i]) == 8\\\\n                and parts[i + 1].isdigit()\\\\n                and len(parts[i + 1]) == 6\\\\n            ):\\\\n                try:\\\\n                    return datetime.strptime(\\\\n                        f\\\\\\\"{parts[i]}_{parts[i + 1]}\\\\\\\", \\\\\\\"%Y%m%d_%H%M%S\\\\\\\"\\\\n                    )\\\\n                except ValueError:\\\\n                    pass\\\\n\\\\n    return None\\\\n\\\\n\\\\ndef extract_model_name_from_filename(filename: str, date_parts_count: int = 0) -> str:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"íŒŒì¼ëª…ì—ì„œ ëª¨ë¸ ì´ë¦„ì„ ì¶”ì¶œí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    parts = filename.split(\\\\\\\"_\\\\\\\")\\\\n\\\\n    if date_parts_count == 2 and len(parts) > 2:\\\\n        # ë‚ ì§œ ë¶€ë¶„ ì œì™¸í•œ ë‚˜ë¨¸ì§€ë¥¼ ëª¨ë¸ëª…ìœ¼ë¡œ ê°„ì£¼\\\\n        return \\\\\\\"_\\\\\\\".join(parts[2:])\\\\n    elif len(parts) > 0 and not parts[-1].isdigit():\\\\n        # ë§ˆì§€ë§‰ ë¶€ë¶„ì´ ìˆ«ìê°€ ì•„ë‹ˆë©´ ëª¨ë¸ëª…ìœ¼ë¡œ ê°„ì£¼\\\\n        return parts[-1]\\\\n\\\\n    return \\\\\\\"\\\\\\\"\\\\n\\\\n\\\\ndef determine_file_format(file_path: Path) -> str:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"íŒŒì¼ì˜ í˜•ì‹ì„ ê²°ì •í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    file_suffix = file_path.suffix.lstrip(\\\\\\\".\\\\\\\").lower()\\\\n\\\\n    if not file_suffix:\\\\n        # í™•ì¥ì ì—†ëŠ” íŒŒì¼ ì²˜ë¦¬\\\\n        try:\\\\n            # llm_eval ë””ë ‰í† ë¦¬ ë‚´ íŒŒì¼ì¸ì§€ í™•ì¸\\\\n            llm_eval_dir = get_default_llm_eval_data_dir().resolve()\\\\n            file_parent = file_path.parent.resolve()\\\\n\\\\n            is_in_llm_eval_dir = str(file_parent).startswith(str(llm_eval_dir))\\\\n\\\\n            # íŒŒì¼ëª…ì— ë‚ ì§œ í˜•ì‹ì´ ìˆëŠ”ì§€ í™•ì¸\\\\n            parts = file_path.stem.split(\\\\\\\"_\\\\\\\")\\\\n            has_date_format = (\\\\n                len(parts) >= 2\\\\n                and parts[0].isdigit()\\\\n                and len(parts[0]) == 8\\\\n                and parts[1].isdigit()\\\\n                and len(parts[1]) == 6\\\\n            )\\\\n\\\\n            if is_in_llm_eval_dir or has_date_format:\\\\n                return \\\\\\\"json\\\\\\\"\\\\n            return \\\\\\\"txt\\\\\\\"\\\\n        except Exception as e:\\\\n            logger.error(f\\\\\\\"íŒŒì¼ í˜•ì‹ ê²°ì • ì¤‘ ì˜¤ë¥˜ ë°œìƒ: {e}\\\\\\\")\\\\n            return \\\\\\\"txt\\\\\\\"\\\\n\\\\n    return file_suffix if file_suffix in [\\\\\\\"json\\\\\\\", \\\\\\\"log\\\\\\\", \\\\\\\"html\\\\\\\", \\\\\\\"txt\\\\\\\"] else \\\\\\\"txt\\\\\\\"\\\\n\\\\n\\\\ndef get_file_info(file: Path) -> dict[str, Any]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"íŒŒì¼ ì •ë³´ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    mtime = datetime.fromtimestamp(file.stat().st_mtime)\\\\n    size = file.stat().st_size\\\\n    size_str = f\\\\\\\"{size / 1024:.1f}KB\\\\\\\" if size >= 1024 else f\\\\\\\"{size}B\\\\\\\"\\\\n\\\\n    # ë‚ ì§œ ì¶”ì¶œ\\\\n    date_candidate = parse_date_from_filename(file.stem)\\\\n    if date_candidate is None:\\\\n        date_candidate = mtime\\\\n        date_parts_count = 0\\\\n    else:\\\\n        date_parts_count = 2\\\\n\\\\n    # ëª¨ë¸ëª… ì¶”ì¶œ\\\\n    model_name_candidate = extract_model_name_from_filename(file.stem, date_parts_count)\\\\n\\\\n    # íŒŒì¼ í˜•ì‹ ê²°ì •\\\\n    file_format = determine_file_format(file)\\\\n\\\\n    return {\\\\n        \\\\\\\"path\\\\\\\": file,\\\\n        \\\\\\\"name\\\\\\\": file.name,\\\\n        \\\\\\\"model\\\\\\\": model_name_candidate,\\\\n        \\\\\\\"date\\\\\\\": date_candidate,\\\\n        \\\\\\\"mtime\\\\\\\": mtime,\\\\n        \\\\\\\"size\\\\\\\": size,\\\\n        \\\\\\\"size_str\\\\\\\": size_str,\\\\n        \\\\\\\"format\\\\\\\": file_format,\\\\n    }\\\\n\\\\n\\\\ndef display_file_info(file_info: dict[str, Any]) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"íŒŒì¼ ì •ë³´ë¥¼ í™”ë©´ì— í‘œì‹œí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    col1, col2, col3 = st.columns(3)\\\\n    with col1:\\\\n        st.markdown(f\\\\\\\"**íŒŒì¼ëª…**: {file_info['name']}\\\\\\\")\\\\n    with col2:\\\\n        st.markdown(f\\\\\\\"**ë‚ ì§œ**: {file_info['date'].strftime('%Y-%m-%d %H:%M')}\\\\\\\")\\\\n    with col3:\\\\n        st.markdown(f\\\\\\\"**í¬ê¸°**: {file_info['size_str']}\\\\\\\")\\\\n\\\\n\\\\ndef parse_json_content(content: str) -> dict[str, Any]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"JSON ë¬¸ìì—´ì„ íŒŒì‹±í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    try:\\\\n        return json.loads(content)\\\\n    except json.JSONDecodeError:\\\\n        return {}\\\\n\\\\n\\\\ndef parse_prompt_content(prompt_list: list) -> list:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"í”„ë¡¬í”„íŠ¸ ë°ì´í„°ì˜ content í•„ë“œë¥¼ íŒŒì‹±í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    if not isinstance(prompt_list, list):\\\\n        return prompt_list\\\\n\\\\n    parsed_list = []\\\\n    for item in prompt_list:\\\\n        item_copy = copy.deepcopy(item)\\\\n        if (\\\\n            isinstance(item_copy, dict)\\\\n            and \\\\\\\"content\\\\\\\" in item_copy\\\\n            and isinstance(item_copy[\\\\\\\"content\\\\\\\"], str)\\\\n        ):\\\\n            try:\\\\n                item_copy[\\\\\\\"content\\\\\\\"] = json.loads(item_copy[\\\\\\\"content\\\\\\\"])\\\\n            except json.JSONDecodeError:\\\\n                pass\\\\n        parsed_list.append(item_copy)\\\\n\\\\n    return parsed_list\\\\n\\\\n\\\\ndef display_json_field_in_expander(key: str, value: Any) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"JSON í•„ë“œë¥¼ ì ‘ì„ ìˆ˜ ìˆëŠ” expanderë¡œ í‘œì‹œí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    if not value:  # Noneì´ê±°ë‚˜ ë¹ˆ ê°’\\\\n        with st.expander(f\\\\\\\"{key} ë‚´ìš© ë³´ê¸°\\\\\\\", expanded=False):\\\\n            st.write(\\\\\\\"ë‚´ìš© ì—†ìŒ\\\\\\\")\\\\n        return\\\\n\\\\n    with st.expander(f\\\\\\\"{key} ë‚´ìš© ë³´ê¸°\\\\\\\", expanded=False):\\\\n        if key == \\\\\\\"prompt\\\\\\\" and isinstance(value, list):\\\\n            parsed_value = parse_prompt_content(value)\\\\n            st.json(parsed_value, expanded=True)\\\\n        else:\\\\n            st.json(value, expanded=True)\\\\n\\\\n\\\\ndef display_review_result_raw_json(json_data: dict[str, Any]) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ë¦¬ë·° ê²°ê³¼ì˜ ì›ë³¸ JSONì„ í‘œì‹œí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    st.markdown(\\\\\\\"## ì›ë³¸ JSON ë°ì´í„°\\\\\\\")\\\\n    data_to_display = copy.deepcopy(json_data)\\\\n\\\\n    # ì£¼ìš” í•„ë“œë¥¼ expanderë¡œ í‘œì‹œ\\\\n    target_keys = [\\\\\\\"prompt\\\\\\\", \\\\\\\"review_request\\\\\\\", \\\\\\\"review_response\\\\\\\"]\\\\n    for key in target_keys:\\\\n        if key in data_to_display:\\\\n            display_json_field_in_expander(key, data_to_display.pop(key))\\\\n\\\\n    # ë‚˜ë¨¸ì§€ ë°ì´í„° í‘œì‹œ\\\\n    if data_to_display:\\\\n        st.markdown(\\\\\\\"---\\\\\\\")\\\\n        st.markdown(\\\\\\\"### ì›ë³¸ ë°ì´í„°\\\\\\\")\\\\n        st.json(json_data, expanded=False)\\\\n\\\\n\\\\ndef filter_failed_test_cases(test_cases: list) -> tuple[list, int]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ì‹¤íŒ¨í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë§Œ í•„í„°ë§í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    if not isinstance(test_cases, list):\\\\n        return [], 0\\\\n\\\\n    filtered_cases = []\\\\n\\\\n    for tc in test_cases:\\\\n        if not isinstance(tc, dict) or tc.get(\\\\\\\"success\\\\\\\") is not False:\\\\n            continue\\\\n\\\\n        tc_copy = copy.deepcopy(tc)\\\\n\\\\n        # metricsData ë‚´ë¶€ì—ì„œ ì‹¤íŒ¨í•œ í•­ëª©ë§Œ í•„í„°ë§\\\\n        if \\\\\\\"metricsData\\\\\\\" in tc_copy and isinstance(tc_copy[\\\\\\\"metricsData\\\\\\\"], list):\\\\n            filtered_metrics = [\\\\n                m\\\\n                for m in tc_copy[\\\\\\\"metricsData\\\\\\\"]\\\\n                if isinstance(m, dict) and m.get(\\\\\\\"success\\\\\\\") is False\\\\n            ]\\\\n            tc_copy[\\\\\\\"metricsData\\\\\\\"] = filtered_metrics or []\\\\n\\\\n        filtered_cases.append(tc_copy)\\\\n\\\\n    return filtered_cases, len(filtered_cases)\\\\n\\\\n\\\\ndef parse_test_case_inputs(test_cases: list) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì˜ ì…ë ¥ í•„ë“œë¥¼ íŒŒì‹±í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    if not isinstance(test_cases, list):\\\\n        return\\\\n\\\\n    for test_case in test_cases:\\\\n        if not isinstance(test_case, dict):\\\\n            continue\\\\n\\\\n        # input í•„ë“œ ì²˜ë¦¬\\\\n        if \\\\\\\"input\\\\\\\" in test_case and isinstance(test_case[\\\\\\\"input\\\\\\\"], str):\\\\n            try:\\\\n                parsed_input = json.loads(test_case[\\\\\\\"input\\\\\\\"])\\\\n                if isinstance(parsed_input, list):\\\\n                    parsed_input = parse_prompt_content(parsed_input)\\\\n                test_case[\\\\\\\"input\\\\\\\"] = parsed_input\\\\n            except json.JSONDecodeError:\\\\n                pass\\\\n\\\\n        # actualOutput í•„ë“œ ì²˜ë¦¬\\\\n        if \\\\\\\"actualOutput\\\\\\\" in test_case and isinstance(test_case[\\\\\\\"actualOutput\\\\\\\"], str):\\\\n            try:\\\\n                test_case[\\\\\\\"actualOutput\\\\\\\"] = json.loads(test_case[\\\\\\\"actualOutput\\\\\\\"])\\\\n            except json.JSONDecodeError:\\\\n                pass\\\\n\\\\n\\\\ndef display_llm_eval_results(json_data: dict[str, Any]) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"llm_eval ê²°ê³¼ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    st.markdown(\\\\\\\"## llm_eval ê²°ê³¼ ë‚´ìš©\\\\\\\")\\\\n\\\\n    # ë°ì´í„° ë³µì‚¬\\\\n    display_data = copy.deepcopy(json_data)\\\\n\\\\n    # í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ìˆ˜ ê³„ì‚°\\\\n    test_cases = (\\\\n        display_data.get(\\\\\\\"testCases\\\\\\\", []) if isinstance(display_data, dict) else []\\\\n    )\\\\n    num_total_cases = len(test_cases) if isinstance(test_cases, list) else 0\\\\n\\\\n    # í•„í„°ë§ ì»¨íŠ¸ë¡¤\\\\n    col_checkbox, col_count = st.columns([0.8, 0.2])\\\\n    with col_checkbox:\\\\n        filter_failed_tests = st.checkbox(\\\\n            \\\\\\\"ì‹¤íŒ¨í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë§Œ ë³´ê¸° (success=false)\\\\\\\",\\\\n            key=\\\\\\\"llm_eval_filter_checkbox\\\\\\\",\\\\n        )\\\\n\\\\n    # í•„í„°ë§ ì ìš©\\\\n    num_displayed_cases = num_total_cases\\\\n    if (\\\\n        filter_failed_tests\\\\n        and isinstance(display_data, dict)\\\\n        and \\\\\\\"testCases\\\\\\\" in display_data\\\\n    ):\\\\n        filtered_cases, num_displayed_cases = filter_failed_test_cases(\\\\n            display_data[\\\\\\\"testCases\\\\\\\"]\\\\n        )\\\\n        display_data[\\\\\\\"testCases\\\\\\\"] = filtered_cases\\\\n        count_caption_text = (\\\\n            f\\\\\\\"(í‘œì‹œ: {num_displayed_cases} / ì´: {num_total_cases}ê±´, ì‹¤íŒ¨ë§Œ)\\\\\\\"\\\\n        )\\\\n    else:\\\\n        count_caption_text = f\\\\\\\"(ì´ {num_total_cases}ê±´)\\\\\\\"\\\\n\\\\n    with col_count:\\\\n        st.caption(count_caption_text)\\\\n\\\\n    # ì…ë ¥ í•„ë“œ íŒŒì‹±\\\\n    if isinstance(display_data, dict) and \\\\\\\"testCases\\\\\\\" in display_data:\\\\n        parse_test_case_inputs(display_data[\\\\\\\"testCases\\\\\\\"])\\\\n\\\\n    # ê²°ê³¼ í‘œì‹œ\\\\n    st.json(display_data, expanded=False)\\\\n\\\\n\\\\ndef display_review_result(json_data: dict[str, Any]) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ë¦¬ë·° ê²°ê³¼ë¥¼ HTMLë¡œ í‘œì‹œí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    if \\\\\\\"review_response\\\\\\\" not in json_data or not json_data[\\\\\\\"review_response\\\\\\\"]:\\\\n        st.warning(\\\\\\\"ë¦¬ë·° ì‘ë‹µ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n        return\\\\n\\\\n    try:\\\\n        review_response = ReviewResponse.model_validate(json_data[\\\\\\\"review_response\\\\\\\"])\\\\n        formatter = ReviewFormatter()\\\\n        html_content = formatter.to_markdown(review_response)\\\\n        st.markdown(html_content)\\\\n    except Exception as e:\\\\n        st.error(f\\\\\\\"ë¦¬ë·° ì‘ë‹µ ë°ì´í„° ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ ë°œìƒ: {e}\\\\\\\")\\\\n        st.json(json_data[\\\\\\\"review_response\\\\\\\"], expanded=False)\\\\n\\\\n\\\\ndef load_and_display_file_content(file_path: Path) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"íŒŒì¼ ë‚´ìš©ì„ ë¡œë“œí•˜ê³  í‘œì‹œí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    try:\\\\n        with open(file_path, encoding=\\\\\\\"utf-8\\\\\\\") as f:\\\\n            content = f.read()\\\\n\\\\n        file_format = determine_file_format(file_path)\\\\n\\\\n        if file_format == \\\\\\\"json\\\\\\\":\\\\n            json_data = parse_json_content(content)\\\\n            if not json_data:\\\\n                st.error(\\\\\\\"ìœ íš¨í•˜ì§€ ì•Šì€ JSON í˜•ì‹ì…ë‹ˆë‹¤.\\\\\\\")\\\\n                st.text(content)\\\\n                return\\\\n\\\\n            view_type = st.session_state.get(\\\\\\\"view_type\\\\\\\")\\\\n\\\\n            if view_type == \\\\\\\"ë¦¬ë·° ê²°ê³¼\\\\\\\":\\\\n                if \\\\\\\"show_raw_json\\\\\\\" not in st.session_state:\\\\n                    st.session_state.show_raw_json = False\\\\n\\\\n                show_raw_json = st.checkbox(\\\\n                    \\\\\\\"ì›ë³¸ JSON ë°ì´í„° ë³´ê¸°\\\\\\\", key=\\\\\\\"show_raw_json\\\\\\\"\\\\n                )\\\\n\\\\n                if show_raw_json:\\\\n                    display_review_result_raw_json(json_data)\\\\n                else:\\\\n                    display_review_result(json_data)\\\\n\\\\n            elif view_type == \\\\\\\"llm_eval ê²°ê³¼\\\\\\\":\\\\n                display_llm_eval_results(json_data)\\\\n        else:\\\\n            # í…ìŠ¤íŠ¸ íŒŒì¼ì€ ê·¸ëŒ€ë¡œ í‘œì‹œ\\\\n            st.text(content)\\\\n\\\\n    except Exception as e:\\\\n        st.error(f\\\\\\\"íŒŒì¼ì„ ì½ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: {str(e)}\\\\\\\")\\\\n\\\\n\\\\ndef sort_file_infos(\\\\n    file_infos: list[dict[str, Any]], sort_option: str\\\\n) -> list[dict[str, Any]]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"íŒŒì¼ ì •ë³´ ëª©ë¡ì„ ì •ë ¬í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    if sort_option == \\\\\\\"ìµœì‹ ìˆœ\\\\\\\":\\\\n        file_infos.sort(key=lambda x: x[\\\\\\\"date\\\\\\\"], reverse=True)\\\\n    elif sort_option == \\\\\\\"ì˜¤ë˜ëœìˆœ\\\\\\\":\\\\n        file_infos.sort(key=lambda x: x[\\\\\\\"date\\\\\\\"])\\\\n    return file_infos\\\\n\\\\n\\\\ndef app():\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"Streamlit ì•± ë©”ì¸ í•¨ìˆ˜\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    st.set_page_config(\\\\n        page_title=\\\\\\\"Reviewer - ì½”ë“œ ë¦¬ë·° ê²°ê³¼\\\\\\\",\\\\n        page_icon=\\\\\\\"ğŸ“\\\\\\\",\\\\n        layout=\\\\\\\"wide\\\\\\\",\\\\n        initial_sidebar_state=\\\\\\\"expanded\\\\\\\",\\\\n    )\\\\n\\\\n    st.title(\\\\\\\"ì½”ë“œ ë¦¬ë·° ê²°ê³¼\\\\\\\")\\\\n\\\\n    # ê²°ê³¼ ë””ë ‰í† ë¦¬ í‘œì‹œ\\\\n    review_log_dir = get_default_review_log_dir()\\\\n    st.sidebar.markdown(f\\\\\\\"**ë¦¬ë·° ë¡œê·¸ ì €ì¥ ìœ„ì¹˜**: {review_log_dir}\\\\\\\")\\\\n    st.sidebar.markdown(\\\\n        f\\\\\\\"**llm_eval ê²°ê³¼ ì €ì¥ ìœ„ì¹˜**: {get_default_llm_eval_data_dir()}\\\\\\\"\\\\n    )\\\\n\\\\n    # ê²°ê³¼ ì„ íƒ\\\\n    view_type = st.sidebar.selectbox(\\\\n        \\\\\\\"ë³´ê¸° ìœ í˜•:\\\\\\\",\\\\n        [\\\\n            \\\\\\\"ë¦¬ë·° ê²°ê³¼\\\\\\\",\\\\n            \\\\\\\"llm_eval ê²°ê³¼\\\\\\\",\\\\n        ],\\\\n        index=0,\\\\n    )\\\\n\\\\n    # ë·° íƒ€ì… ì„¸ì…˜ ì €ì¥\\\\n    st.session_state.view_type = view_type\\\\n\\\\n    # íŒŒì¼ ëª©ë¡ ê°€ì ¸ì˜¤ê¸°\\\\n    if view_type == \\\\\\\"ë¦¬ë·° ê²°ê³¼\\\\\\\":\\\\n        files = get_review_log_files()\\\\n        if not files:\\\\n            st.info(\\\\\\\"ì €ì¥ëœ ë¦¬ë·° ë¡œê·¸ê°€ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n            st.markdown(\\\\\\\"\\\\\\\"\\\\\\\"\\\\n            ### ë¦¬ë·° ìƒì„± ë°©ë²•\\\\n            \\\\n            í„°ë¯¸ë„ì—ì„œ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì—¬ ì½”ë“œ ë¦¬ë·°ë¥¼ ìƒì„±í•˜ì„¸ìš”:\\\\n            ```bash\\\\n            reviewer review\\\\n            ```\\\\n            \\\\n            ìì„¸í•œ ì‚¬ìš©ë²•ì€ README.md íŒŒì¼ì„ ì°¸ì¡°í•˜ì„¸ìš”.\\\\n            \\\\\\\"\\\\\\\"\\\\\\\")\\\\n            return\\\\n    else:  # llm_eval ê²°ê³¼\\\\n        files = get_llm_eval_data_files()\\\\n        if not files:\\\\n            st.info(\\\\\\\"ì €ì¥ëœ llm_eval ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n            return\\\\n\\\\n    # íŒŒì¼ ëª©ë¡ ì •ë³´ ìƒì„±\\\\n    file_infos = [get_file_info(f) for f in files]\\\\n\\\\n    # ì‚¬ì´ë“œë°”ì— íŒŒì¼ ëª©ë¡ í‘œì‹œ\\\\n    st.sidebar.markdown(f\\\\\\\"## {view_type} ëª©ë¡\\\\\\\")\\\\n\\\\n    # ì •ë ¬ ì˜µì…˜\\\\n    sort_option = st.sidebar.selectbox(\\\\\\\"ì •ë ¬ ê¸°ì¤€:\\\\\\\", [\\\\\\\"ìµœì‹ ìˆœ\\\\\\\", \\\\\\\"ì˜¤ë˜ëœìˆœ\\\\\\\"], index=0)\\\\n\\\\n    # ì •ë ¬ ì ìš©\\\\n    file_infos = sort_file_infos(file_infos, sort_option)\\\\n\\\\n    # ì„ íƒ ê°€ëŠ¥í•œ íŒŒì¼ ì˜µì…˜ ìƒì„±\\\\n    file_options = {\\\\n        f\\\\\\\"{info['name']} ({info['date'].strftime('%Y-%m-%d %H:%M')}\\\\\\\": info\\\\n        for info in file_infos\\\\n    }\\\\n\\\\n    # íŒŒì¼ ì„ íƒ ìœ„ì ¯\\\\n    selected_file_name = st.sidebar.selectbox(\\\\n        \\\\\\\"íŒŒì¼ ì„ íƒ:\\\\\\\", list(file_options.keys()), index=0\\\\n    )\\\\n\\\\n    # ì„ íƒëœ íŒŒì¼ ì •ë³´ì™€ ë‚´ìš© í‘œì‹œ\\\\n    selected_file_info = file_options[selected_file_name]\\\\n    display_file_info(selected_file_info)\\\\n    load_and_display_file_content(selected_file_info[\\\\\\\"path\\\\\\\"])\\\\n\\\\n\\\\ndef run_app() -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"Streamlit ì•±ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    import subprocess\\\\n\\\\n    file_path = os.path.abspath(__file__)\\\\n    port = os.environ.get(\\\\\\\"STREAMLIT_SERVER_PORT\\\\\\\", \\\\\\\"8501\\\\\\\")\\\\n\\\\n    cmd = [\\\\n        sys.executable,\\\\n        \\\\\\\"-m\\\\\\\",\\\\n        \\\\\\\"streamlit\\\\\\\",\\\\n        \\\\\\\"run\\\\\\\",\\\\n        file_path,\\\\n        \\\\\\\"--server.headless\\\\\\\",\\\\n        \\\\\\\"true\\\\\\\",\\\\n        \\\\\\\"--browser.serverAddress\\\\\\\",\\\\n        \\\\\\\"localhost\\\\\\\",\\\\n        \\\\\\\"--server.port\\\\\\\",\\\\n        port,\\\\n    ]\\\\n\\\\n    subprocess.run(cmd)\\\\n\\\\n\\\\n# Streamlit ì•±ìœ¼ë¡œ ì§ì ‘ ì‹¤í–‰ë  ê²½ìš°\\\\nif __name__ == \\\\\\\"__main__\\\\\\\":\\\\n    app()\\\\n\\\", \\\"formatted_hunks\\\": [{\\\"hunk_idx\\\": \\\"1\\\", \\\"original_code\\\": \\\"```python\\\\nfrom pathlib import Path\\\\nfrom typing import Any, Optional\\\\n\\\\nimport streamlit as st\\\\n\\\\nfrom reviewer.src.utils.token.models import ReviewResponse\\\\n\\\\n# ë¡œê±° ì„¤ì •\\\\nlogger = logging.getLogger(__name__)\\\\n\\\\n# ìƒëŒ€ ê²½ë¡œ ì„í¬íŠ¸ë¥¼ ìœ„í•œ ê²½ë¡œ ì„¤ì •\\\\nsys.path.append(os.path.abspath(os.path.join(os.path.dirname(__file__), \\\\\\\"..\\\\\\\")))\\\\nfrom reviewer.src.config import get_default_review_log_dir\\\\nfrom reviewer.src.utils.review_formatter import ReviewFormatter\\\\n\\\\n\\\\ndef get_default_llm_eval_data_dir() -> Path:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"llm_eval ë°ì´í„°ê°€ ì €ì¥ëœ data ë””ë ‰í† ë¦¬ ê²½ë¡œë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    project_root = Path(__file__).resolve().parent.parent.parent\\\\n```\\\", \\\"modified_code\\\": \\\"```python\\\\nfrom pathlib import Path\\\\nfrom typing import Any, Optional\\\\n\\\\nimport streamlit as st\\\\n\\\\nfrom reviewer.src.config import get_default_review_log_dir\\\\nfrom reviewer.src.utils.review_formatter import ReviewFormatter\\\\nfrom reviewer.src.utils.token.models import ReviewResponse\\\\n\\\\n# ë¡œê±° ì„¤ì •\\\\nlogger = logging.getLogger(__name__)\\\\n\\\\n# ìƒëŒ€ ê²½ë¡œ ì„í¬íŠ¸ë¥¼ ìœ„í•œ ê²½ë¡œ ì„¤ì •\\\\n\\\\n\\\\ndef get_default_llm_eval_data_dir() -> Path:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"llm_eval ë°ì´í„°ê°€ ì €ì¥ëœ data ë””ë ‰í† ë¦¬ ê²½ë¡œë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    project_root = Path(__file__).resolve().parent.parent.parent\\\\n```\\\", \\\"line_number\\\": 13}, {\\\"hunk_idx\\\": \\\"2\\\", \\\"original_code\\\": \\\"```python\\\\n    load_and_display_file_content(selected_file_info[\\\\\\\"path\\\\\\\"])\\\\n\\\\n\\\\ndef run_app() -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"Streamlit ì•±ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    import os\\\\n    import subprocess\\\\n    import sys\\\\n\\\\n    file_path = os.path.abspath(__file__)\\\\n    port = os.environ.get(\\\\\\\"STREAMLIT_SERVER_PORT\\\\\\\", \\\\\\\"8501\\\\\\\")\\\\n\\\\n    cmd = [\\\\n```\\\", \\\"modified_code\\\": \\\"```python\\\\n    load_and_display_file_content(selected_file_info[\\\\\\\"path\\\\\\\"])\\\\n\\\\n\\\\ndef run_app() -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"Streamlit ì•±ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    import subprocess\\\\n\\\\n    file_path = os.path.abspath(__file__)\\\\n    port = os.environ.get(\\\\\\\"STREAMLIT_SERVER_PORT\\\\\\\", \\\\\\\"8501\\\\\\\")\\\\n\\\\n    cmd = [\\\\n```\\\", \\\"line_number\\\": 506}]}\"}]",
    "actual_output": "{\"issues\": [{\"type\": \"Design\", \"line_number\": 18, \"file\": \"reviewer/src/ui.py\", \"description\": \"`sys.path`ë¥¼ ì§ì ‘ ìˆ˜ì •í•˜ëŠ” ê²ƒì€ ëª¨ë“ˆ ì„í¬íŠ¸ ê²½ë¡œë¥¼ ì˜ˆì¸¡í•˜ê¸° ì–´ë µê²Œ ë§Œë“¤ê³ , íŒ¨í‚¤ì§€ ê´€ë¦¬ ì‹œìŠ¤í…œ(pip ë“±)ê³¼ì˜ ì¶©ëŒì„ ìœ ë°œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ë³€ê²½ì€ `sys.path` ìˆ˜ì •ì„ ì œê±°í•˜ì—¬ ë” í‘œì¤€ì ì¸ Python ëª¨ë“ˆ ì„í¬íŠ¸ ë°©ì‹ì„ ë”°ë¥´ê²Œ í•©ë‹ˆë‹¤.\", \"suggestion\": \"ì´ ë³€ê²½ì€ ì¢‹ì€ ë°©í–¥ì…ë‹ˆë‹¤. í”„ë¡œì íŠ¸ê°€ íŒ¨í‚¤ì§€ë¡œ ì˜¬ë°”ë¥´ê²Œ ì„¤ì •ë˜ì–´ ìˆë‹¤ë©´, `sys.path` ìˆ˜ì • ì—†ì´ë„ ë‚´ë¶€ ëª¨ë“ˆ ì„í¬íŠ¸ê°€ ì˜ ì‘ë™í•  ê²ƒì…ë‹ˆë‹¤.\", \"severity\": \"info\", \"original_code\": \"sys.path.append(os.path.abspath(os.path.join(os.path.dirname(__file__), \\\"..\\\")))\", \"improved_code\": \"\"}, {\"type\": \"Style\", \"line_number\": 509, \"file\": \"reviewer/src/ui.py\", \"description\": \"`run_app` í•¨ìˆ˜ ë‚´ì—ì„œ `os`ì™€ `sys` ëª¨ë“ˆì„ ë‹¤ì‹œ ì„í¬íŠ¸í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì´ ëª¨ë“ˆë“¤ì€ íŒŒì¼ ìƒë‹¨ì—ì„œ ì´ë¯¸ ì„í¬íŠ¸ë˜ì—ˆìœ¼ë¯€ë¡œ í•¨ìˆ˜ ë‚´ì—ì„œì˜ ì„í¬íŠ¸ëŠ” ë¶ˆí•„ìš”í•©ë‹ˆë‹¤.\", \"suggestion\": \"í•¨ìˆ˜ ë‚´ ë¶ˆí•„ìš”í•œ ì¤‘ë³µ ì„í¬íŠ¸ë¥¼ ì œê±°í•˜ì—¬ ì½”ë“œë¥¼ ë” ê¹”ë”í•˜ê²Œ ìœ ì§€í•©ë‹ˆë‹¤. (ì´ ë³€ê²½ì—ì„œ ì´ë¯¸ ì œê±°ë¨)\", \"severity\": \"info\", \"original_code\": \"    import os\\n    import subprocess\\n    import sys\", \"improved_code\": \"    import subprocess\"}], \"summary\": \"ì´ ë³€ê²½ì‚¬í•­ì€ `sys.path` ì§ì ‘ ìˆ˜ì •ì„ ì œê±°í•˜ê³  í•¨ìˆ˜ ë‚´ ë¶ˆí•„ìš”í•œ ì¤‘ë³µ ì„í¬íŠ¸ë¥¼ ì œê±°í•˜ì—¬ ì½”ë“œì˜ êµ¬ì¡°ì™€ ìŠ¤íƒ€ì¼ì„ ê°œì„ í•©ë‹ˆë‹¤. ì´ëŠ” ë” í‘œì¤€ì ì´ê³  ìœ ì§€ë³´ìˆ˜í•˜ê¸° ì‰¬ìš´ ì½”ë“œë¥¼ ë§Œë“­ë‹ˆë‹¤.\", \"score\": 9.0, \"recommendations\": [\"í‘œì¤€ì ì¸ Python íŒ¨í‚¤ì§• ë° ì„í¬íŠ¸ ë°©ì‹ì„ ê³„ì† ë”°ë¥´ì„¸ìš”.\", \"ë¶ˆí•„ìš”í•˜ê±°ë‚˜ ì¤‘ë³µë˜ëŠ” ì½”ë“œë¥¼ ì •ê¸°ì ìœ¼ë¡œ ê²€í† í•˜ê³  ì œê±°í•˜ì„¸ìš”.\"]}"
  },
  {
    "input": "[{\"role\": \"system\", \"content\": \"ë‹¹ì‹ ì€ ìˆ™ë ¨ëœ ì½”ë“œ ë¦¬ë·°ì–´ì…ë‹ˆë‹¤. ì œê³µëœ git diffë¥¼ ë¶„ì„í•˜ì—¬ ì½”ë“œ í’ˆì§ˆ, ë²„ê·¸, ë³´ì•ˆ ë¬¸ì œ, ì„±ëŠ¥ ì´ìŠˆ ë“± ì£¼ìš” ë¬¸ì œì ì„ ì¢…í•©ì ìœ¼ë¡œ í‰ê°€í•˜ê³ , ê°œì„  ë°©í–¥ì— ëŒ€í•´ ììœ ë¡­ê²Œ ì˜ê²¬ì„ ì œì‹œí•˜ì„¸ìš”.\\n\\nì¤‘ìš”: ëª¨ë“  ì‘ë‹µì€ ë°˜ë“œì‹œ í•œêµ­ì–´ë¡œ ì‘ì„±í•´ì•¼ í•©ë‹ˆë‹¤. ì˜ì–´ë‚˜ ë‹¤ë¥¸ ì–¸ì–´ë¡œ ì‘ë‹µí•˜ì§€ ë§ˆì„¸ìš”.\\n\\nê° ì´ìŠˆëŠ” ë‹¤ìŒ ì •ë³´ë¥¼ í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤:\\n- type: ì´ìŠˆ ìœ í˜• (ë²„ê·¸, ë³´ì•ˆ, ì„±ëŠ¥, ìŠ¤íƒ€ì¼, ì„¤ê³„ ì¤‘ í•˜ë‚˜)\\n- line_number: ë¬¸ì œê°€ ìˆëŠ” ì½”ë“œì˜ ë¼ì¸ ë²ˆí˜¸ (ë°˜ë“œì‹œ ì •í™•í•œ ìˆ«ìë¡œ ì§€ì •, ì•Œ ìˆ˜ ì—†ëŠ” ê²½ìš°ì—ë§Œ null ì‚¬ìš©)\\n- file: ë¬¸ì œê°€ ìˆëŠ” íŒŒì¼ ì´ë¦„ (ë°˜ë“œì‹œ ì •í™•í•œ íŒŒì¼ ê²½ë¡œì™€ ì´ë¦„ ì‚¬ìš©, 'íŒŒì¼-1'ê³¼ ê°™ì€ ì„ì˜ì˜ ì´ë¦„ ì‚¬ìš© ê¸ˆì§€)\\n- description: ì´ìŠˆì— ëŒ€í•œ ìì„¸í•œ ì„¤ëª…\\n- suggestion: ë¬¸ì œ í•´ê²°ì„ ìœ„í•œ êµ¬ì²´ì ì¸ ì œì•ˆ\\n- severity: ì´ìŠˆì˜ ì‹¬ê°ë„ (info, warning, error ì¤‘ í•˜ë‚˜)\\n\\në˜í•œ ë‹¤ìŒ ì •ë³´ë„ ì œê³µí•´ì•¼ í•©ë‹ˆë‹¤:\\n- summary: ì „ì²´ ì½”ë“œ ë³€ê²½ì— ëŒ€í•œ ìš”ì•½\\n- score: ì½”ë“œ í’ˆì§ˆì— ëŒ€í•œ 0-10 ì‚¬ì´ì˜ ì ìˆ˜\\n- recommendations: ì „ë°˜ì ì¸ ê°œì„ ì„ ìœ„í•œ ê¶Œì¥ì‚¬í•­ ëª©ë¡\\n\\nê° ì´ìŠˆì— ëŒ€í•´ ë‹¤ìŒ í˜•ì‹ìœ¼ë¡œ ë¦¬ë·° ëŒ€ìƒ ì½”ë“œì™€ ê°œì„ ëœ ì½”ë“œ ì˜ˆì‹œë¥¼ ì œê³µí•˜ì„¸ìš”:\\n\\në¦¬ë·° ëŒ€ìƒ ì½”ë“œ:\\n```\\n[ë¬¸ì œê°€ ìˆëŠ” ì›ë³¸ ì½”ë“œ ìŠ¤ë‹ˆí«]\\n```\\n\\nê°œì„ ëœ ì½”ë“œ:\\n```\\n[ê°œì„  ì œì•ˆì´ ë°˜ì˜ëœ ì½”ë“œ ìŠ¤ë‹ˆí«]\\n```\\n\\nì´ìŠˆ ì„¤ëª…ê³¼ ì œì•ˆì€ êµ¬ì²´ì ì´ê³  ëª…í™•í•˜ê²Œ ì‘ì„±í•˜ì„¸ìš”. ëª¨í˜¸í•œ í‘œí˜„ì´ë‚˜ ì¼ë°˜ì ì¸ ì¡°ì–¸ì€ í”¼í•˜ê³ , ì½”ë“œì˜ íŠ¹ì • ë¶€ë¶„ì„ ì–¸ê¸‰í•˜ë©° ì‹¤ì§ˆì ì¸ ê°œì„  ë°©ì•ˆì„ ì œì‹œí•˜ì„¸ìš”.\\n\\nissuesì˜ íŒŒì¼ëª…ê³¼ line_numberëŠ” ë°˜ë“œì‹œ ì •í™•í•˜ê²Œ ì§€ì •í•´ì•¼ í•©ë‹ˆë‹¤. íŒŒì¼ëª…ì€ ì‹¤ì œ íŒŒì¼ ê²½ë¡œì™€ ì´ë¦„ì„ ì‚¬ìš©í•˜ê³ , line_numberëŠ” í”„ë¡¬í”„íŠ¸ì— ëª…ì‹œë˜ì–´ ìˆëŠ” line_numberë¥¼ ê·¸ëŒ€ë¡œ í‘œê¸°í•´ì£¼ë©´ë©ë‹ˆë‹¤.\\níŒŒì¼ëª…ì´ë‚˜ ë¼ì¸ ë²ˆí˜¸ëŠ” 'íŒŒì¼-1', 'íŒŒì¼-2'ì™€ ê°™ì€ ì„ì˜ì˜ ì´ë¦„ìœ¼ë¡œ ëŒ€ì²´í•˜ì§€ ë§ˆì„¸ìš”.\\n\\nìµœì¢…ì ìœ¼ë¡œ ì‘ë‹µì€ ë°˜ë“œì‹œ ë‹¤ìŒ JSON í˜•ì‹ìœ¼ë¡œ ì œê³µí•´ì•¼ í•©ë‹ˆë‹¤:\\n\\n```json\\n{\\n  \\\"issues\\\": [\\n    {\\n      \\\"type\\\": \\\"ì´ìŠˆ ìœ í˜•\\\",\\n      \\\"line_number\\\": ë¼ì¸ ë²ˆí˜¸\\n      \\\"file\\\": \\\"íŒŒì¼ëª…\\\",\\n      \\\"description\\\": \\\"ì´ìŠˆ ì„¤ëª…\\\",\\n      \\\"suggestion\\\": \\\"ê°œì„  ì œì•ˆ\\\",\\n      \\\"severity\\\": \\\"ì‹¬ê°ë„\\\",\\n      \\\"original_code\\\": \\\"ì›ë³¸ ì½”ë“œ\\\",\\n      \\\"improved_code\\\": \\\"ê°œì„ ëœ ì½”ë“œ\\\"\\n    }\\n  ],\\n  \\\"summary\\\": \\\"ì „ì²´ ìš”ì•½\\\",\\n  \\\"score\\\": ì ìˆ˜,\\n  \\\"recommendations\\\": [\\\"ê¶Œì¥ì‚¬í•­1\\\", \\\"ê¶Œì¥ì‚¬í•­2\\\"]\\n}\\n```\\nì´ìŠˆê°€ ì—†ëŠ” ê²½ìš°ì—ë„ ë¹ˆ ë°°ì—´ \\\"issues\\\": []ë¡œ í‘œì‹œí•˜ê³ , ë‹¤ë¥¸ ëª¨ë“  í•„ë“œë¥¼ í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤.\\nìœ„ JSON í˜•ì‹ë§Œ ì‘ë‹µí•´ì•¼ í•©ë‹ˆë‹¤. ë‹¤ë¥¸ í…ìŠ¤íŠ¸ë‚˜ ì„¤ëª…ì€ í¬í•¨í•˜ì§€ ë§ˆì„¸ìš”. \"}, {\"role\": \"user\", \"content\": \"{\\\"file_name\\\": \\\"reviewer/src/ui.py\\\", \\\"file_content\\\": \\\"\\\\\\\"\\\\\\\"\\\\\\\"\\\\në¦¬ë·° ê²°ê³¼ë¥¼ ë³´ì—¬ì£¼ëŠ” Streamlit ì›¹ ì¸í„°í˜ì´ìŠ¤ ëª¨ë“ˆ\\\\n\\\\nì´ ëª¨ë“ˆì€ ì €ì¥ëœ ë¦¬ë·° ê²°ê³¼ë¥¼ Streamlitì„ ì‚¬ìš©í•˜ì—¬ ì›¹ ë¸Œë¼ìš°ì €ì— í‘œì‹œí•©ë‹ˆë‹¤.\\\\n\\\\\\\"\\\\\\\"\\\\\\\"\\\\n\\\\nimport copy\\\\nimport json\\\\nimport logging\\\\nimport os\\\\nimport sys\\\\nfrom datetime import datetime\\\\nfrom pathlib import Path\\\\nfrom typing import Any, Optional\\\\n\\\\nimport streamlit as st\\\\n\\\\nfrom reviewer.src.utils.token.models import ReviewResponse\\\\n\\\\n# ë¡œê±° ì„¤ì •\\\\nlogger = logging.getLogger(__name__)\\\\n\\\\n# ìƒëŒ€ ê²½ë¡œ ì„í¬íŠ¸ë¥¼ ìœ„í•œ ê²½ë¡œ ì„¤ì •\\\\nsys.path.append(os.path.abspath(os.path.join(os.path.dirname(__file__), \\\\\\\"..\\\\\\\")))\\\\nfrom reviewer.src.config import get_default_review_log_dir\\\\nfrom reviewer.src.utils.review_formatter import ReviewFormatter\\\\n\\\\n\\\\ndef get_default_llm_eval_data_dir() -> Path:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"llm_eval ë°ì´í„°ê°€ ì €ì¥ëœ data ë””ë ‰í† ë¦¬ ê²½ë¡œë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    project_root = Path(__file__).resolve().parent.parent.parent\\\\n    return project_root / \\\\\\\"llm_eval\\\\\\\" / \\\\\\\"results\\\\\\\"\\\\n\\\\n\\\\ndef get_llm_eval_data_files() -> list[Path]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"llm_eval ë°ì´í„° ë””ë ‰í† ë¦¬ì—ì„œ ëª¨ë“  íŒŒì¼ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    llm_eval_data_dir = get_default_llm_eval_data_dir()\\\\n    if not llm_eval_data_dir.exists():\\\\n        return []\\\\n\\\\n    llm_eval_files = list(llm_eval_data_dir.glob(\\\\\\\"*\\\\\\\"))\\\\n    llm_eval_files.sort(key=lambda f: f.stat().st_mtime, reverse=True)\\\\n    return llm_eval_files\\\\n\\\\n\\\\ndef get_review_log_files() -> list[Path]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ë¦¬ë·° ë¡œê·¸ ë””ë ‰í† ë¦¬ì—ì„œ ëª¨ë“  ë¦¬ë·° ë¡œê·¸ íŒŒì¼ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    log_dir = get_default_review_log_dir()\\\\n    if not log_dir.exists():\\\\n        return []\\\\n\\\\n    log_files = list(log_dir.glob(\\\\\\\"*.json\\\\\\\"))\\\\n    log_files.sort(key=lambda f: f.stat().st_mtime, reverse=True)\\\\n    return log_files\\\\n\\\\n\\\\ndef parse_date_from_filename(filename: str) -> Optional[datetime]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"íŒŒì¼ëª…ì—ì„œ ë‚ ì§œ ì •ë³´ë¥¼ ì¶”ì¶œí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    parts = filename.split(\\\\\\\"_\\\\\\\")\\\\n\\\\n    # YYYYMMDD_HHMMSS í˜•ì‹ ê²€ìƒ‰\\\\n    if len(parts) >= 2:\\\\n        # ì ‘ë‘ì‚¬ì— ë‚ ì§œê°€ ìˆëŠ” ê²½ìš°: YYYYMMDD_HHMMSS_...\\\\n        if (\\\\n            parts[0].isdigit()\\\\n            and len(parts[0]) == 8\\\\n            and parts[1].isdigit()\\\\n            and len(parts[1]) == 6\\\\n        ):\\\\n            try:\\\\n                return datetime.strptime(f\\\\\\\"{parts[0]}_{parts[1]}\\\\\\\", \\\\\\\"%Y%m%d_%H%M%S\\\\\\\")\\\\n            except ValueError:\\\\n                pass\\\\n\\\\n        # ì ‘ë¯¸ì‚¬ì— ë‚ ì§œê°€ ìˆëŠ” ê²½ìš°: ..._YYYYMMDD_HHMMSS\\\\n        if (\\\\n            parts[-2].isdigit()\\\\n            and len(parts[-2]) == 8\\\\n            and parts[-1].isdigit()\\\\n            and len(parts[-1]) == 6\\\\n        ):\\\\n            try:\\\\n                return datetime.strptime(f\\\\\\\"{parts[-2]}_{parts[-1]}\\\\\\\", \\\\\\\"%Y%m%d_%H%M%S\\\\\\\")\\\\n            except ValueError:\\\\n                pass\\\\n\\\\n        # ì¤‘ê°„ì— ë‚ ì§œê°€ ìˆëŠ” ê²½ìš°\\\\n        for i in range(len(parts) - 1):\\\\n            if (\\\\n                parts[i].isdigit()\\\\n                and len(parts[i]) == 8\\\\n                and parts[i + 1].isdigit()\\\\n                and len(parts[i + 1]) == 6\\\\n            ):\\\\n                try:\\\\n                    return datetime.strptime(\\\\n                        f\\\\\\\"{parts[i]}_{parts[i + 1]}\\\\\\\", \\\\\\\"%Y%m%d_%H%M%S\\\\\\\"\\\\n                    )\\\\n                except ValueError:\\\\n                    pass\\\\n\\\\n    return None\\\\n\\\\n\\\\ndef extract_model_name_from_filename(filename: str, date_parts_count: int = 0) -> str:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"íŒŒì¼ëª…ì—ì„œ ëª¨ë¸ ì´ë¦„ì„ ì¶”ì¶œí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    parts = filename.split(\\\\\\\"_\\\\\\\")\\\\n\\\\n    if date_parts_count == 2 and len(parts) > 2:\\\\n        # ë‚ ì§œ ë¶€ë¶„ ì œì™¸í•œ ë‚˜ë¨¸ì§€ë¥¼ ëª¨ë¸ëª…ìœ¼ë¡œ ê°„ì£¼\\\\n        return \\\\\\\"_\\\\\\\".join(parts[2:])\\\\n    elif len(parts) > 0 and not parts[-1].isdigit():\\\\n        # ë§ˆì§€ë§‰ ë¶€ë¶„ì´ ìˆ«ìê°€ ì•„ë‹ˆë©´ ëª¨ë¸ëª…ìœ¼ë¡œ ê°„ì£¼\\\\n        return parts[-1]\\\\n\\\\n    return \\\\\\\"\\\\\\\"\\\\n\\\\n\\\\ndef determine_file_format(file_path: Path) -> str:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"íŒŒì¼ì˜ í˜•ì‹ì„ ê²°ì •í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    file_suffix = file_path.suffix.lstrip(\\\\\\\".\\\\\\\").lower()\\\\n\\\\n    if not file_suffix:\\\\n        # í™•ì¥ì ì—†ëŠ” íŒŒì¼ ì²˜ë¦¬\\\\n        try:\\\\n            # llm_eval ë””ë ‰í† ë¦¬ ë‚´ íŒŒì¼ì¸ì§€ í™•ì¸\\\\n            llm_eval_dir = get_default_llm_eval_data_dir().resolve()\\\\n            file_parent = file_path.parent.resolve()\\\\n\\\\n            is_in_llm_eval_dir = str(file_parent).startswith(str(llm_eval_dir))\\\\n\\\\n            # íŒŒì¼ëª…ì— ë‚ ì§œ í˜•ì‹ì´ ìˆëŠ”ì§€ í™•ì¸\\\\n            parts = file_path.stem.split(\\\\\\\"_\\\\\\\")\\\\n            has_date_format = (\\\\n                len(parts) >= 2\\\\n                and parts[0].isdigit()\\\\n                and len(parts[0]) == 8\\\\n                and parts[1].isdigit()\\\\n                and len(parts[1]) == 6\\\\n            )\\\\n\\\\n            if is_in_llm_eval_dir or has_date_format:\\\\n                return \\\\\\\"json\\\\\\\"\\\\n            return \\\\\\\"txt\\\\\\\"\\\\n        except Exception:\\\\n            return \\\\\\\"txt\\\\\\\"\\\\n\\\\n    return file_suffix if file_suffix in [\\\\\\\"json\\\\\\\", \\\\\\\"log\\\\\\\", \\\\\\\"html\\\\\\\", \\\\\\\"txt\\\\\\\"] else \\\\\\\"txt\\\\\\\"\\\\n\\\\n\\\\ndef get_file_info(file: Path) -> dict[str, Any]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"íŒŒì¼ ì •ë³´ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    mtime = datetime.fromtimestamp(file.stat().st_mtime)\\\\n    size = file.stat().st_size\\\\n    size_str = f\\\\\\\"{size / 1024:.1f}KB\\\\\\\" if size >= 1024 else f\\\\\\\"{size}B\\\\\\\"\\\\n\\\\n    # ë‚ ì§œ ì¶”ì¶œ\\\\n    date_candidate = parse_date_from_filename(file.stem)\\\\n    if date_candidate is None:\\\\n        date_candidate = mtime\\\\n        date_parts_count = 0\\\\n    else:\\\\n        date_parts_count = 2\\\\n\\\\n    # ëª¨ë¸ëª… ì¶”ì¶œ\\\\n    model_name_candidate = extract_model_name_from_filename(file.stem, date_parts_count)\\\\n\\\\n    # íŒŒì¼ í˜•ì‹ ê²°ì •\\\\n    file_format = determine_file_format(file)\\\\n\\\\n    return {\\\\n        \\\\\\\"path\\\\\\\": file,\\\\n        \\\\\\\"name\\\\\\\": file.name,\\\\n        \\\\\\\"model\\\\\\\": model_name_candidate,\\\\n        \\\\\\\"date\\\\\\\": date_candidate,\\\\n        \\\\\\\"mtime\\\\\\\": mtime,\\\\n        \\\\\\\"size\\\\\\\": size,\\\\n        \\\\\\\"size_str\\\\\\\": size_str,\\\\n        \\\\\\\"format\\\\\\\": file_format,\\\\n    }\\\\n\\\\n\\\\ndef display_file_info(file_info: dict[str, Any]) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"íŒŒì¼ ì •ë³´ë¥¼ í™”ë©´ì— í‘œì‹œí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    col1, col2, col3 = st.columns(3)\\\\n    with col1:\\\\n        st.markdown(f\\\\\\\"**íŒŒì¼ëª…**: {file_info['name']}\\\\\\\")\\\\n    with col2:\\\\n        st.markdown(f\\\\\\\"**ë‚ ì§œ**: {file_info['date'].strftime('%Y-%m-%d %H:%M')}\\\\\\\")\\\\n    with col3:\\\\n        st.markdown(f\\\\\\\"**í¬ê¸°**: {file_info['size_str']}\\\\\\\")\\\\n\\\\n\\\\ndef parse_json_content(content: str) -> dict[str, Any]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"JSON ë¬¸ìì—´ì„ íŒŒì‹±í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    try:\\\\n        return json.loads(content)\\\\n    except json.JSONDecodeError:\\\\n        return {}\\\\n\\\\n\\\\ndef parse_prompt_content(prompt_list: list) -> list:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"í”„ë¡¬í”„íŠ¸ ë°ì´í„°ì˜ content í•„ë“œë¥¼ íŒŒì‹±í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    if not isinstance(prompt_list, list):\\\\n        return prompt_list\\\\n\\\\n    parsed_list = []\\\\n    for item in prompt_list:\\\\n        item_copy = copy.deepcopy(item)\\\\n        if (\\\\n            isinstance(item_copy, dict)\\\\n            and \\\\\\\"content\\\\\\\" in item_copy\\\\n            and isinstance(item_copy[\\\\\\\"content\\\\\\\"], str)\\\\n        ):\\\\n            try:\\\\n                item_copy[\\\\\\\"content\\\\\\\"] = json.loads(item_copy[\\\\\\\"content\\\\\\\"])\\\\n            except json.JSONDecodeError:\\\\n                pass\\\\n        parsed_list.append(item_copy)\\\\n\\\\n    return parsed_list\\\\n\\\\n\\\\ndef display_json_field_in_expander(key: str, value: Any) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"JSON í•„ë“œë¥¼ ì ‘ì„ ìˆ˜ ìˆëŠ” expanderë¡œ í‘œì‹œí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    if not value:  # Noneì´ê±°ë‚˜ ë¹ˆ ê°’\\\\n        with st.expander(f\\\\\\\"{key} ë‚´ìš© ë³´ê¸°\\\\\\\", expanded=False):\\\\n            st.write(\\\\\\\"ë‚´ìš© ì—†ìŒ\\\\\\\")\\\\n        return\\\\n\\\\n    with st.expander(f\\\\\\\"{key} ë‚´ìš© ë³´ê¸°\\\\\\\", expanded=False):\\\\n        if key == \\\\\\\"prompt\\\\\\\" and isinstance(value, list):\\\\n            parsed_value = parse_prompt_content(value)\\\\n            st.json(parsed_value, expanded=True)\\\\n        else:\\\\n            st.json(value, expanded=True)\\\\n\\\\n\\\\ndef display_review_result_raw_json(json_data: dict[str, Any]) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ë¦¬ë·° ê²°ê³¼ì˜ ì›ë³¸ JSONì„ í‘œì‹œí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    st.markdown(\\\\\\\"## ì›ë³¸ JSON ë°ì´í„°\\\\\\\")\\\\n    data_to_display = copy.deepcopy(json_data)\\\\n\\\\n    # ì£¼ìš” í•„ë“œë¥¼ expanderë¡œ í‘œì‹œ\\\\n    target_keys = [\\\\\\\"prompt\\\\\\\", \\\\\\\"review_request\\\\\\\", \\\\\\\"review_response\\\\\\\"]\\\\n    for key in target_keys:\\\\n        if key in data_to_display:\\\\n            display_json_field_in_expander(key, data_to_display.pop(key))\\\\n\\\\n    # ë‚˜ë¨¸ì§€ ë°ì´í„° í‘œì‹œ\\\\n    if data_to_display:\\\\n        st.markdown(\\\\\\\"---\\\\\\\")\\\\n        st.markdown(\\\\\\\"### ì›ë³¸ ë°ì´í„°\\\\\\\")\\\\n        st.json(json_data, expanded=False)\\\\n\\\\n\\\\ndef filter_failed_test_cases(test_cases: list) -> tuple[list, int]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ì‹¤íŒ¨í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë§Œ í•„í„°ë§í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    if not isinstance(test_cases, list):\\\\n        return [], 0\\\\n\\\\n    filtered_cases = []\\\\n\\\\n    for tc in test_cases:\\\\n        if not isinstance(tc, dict) or tc.get(\\\\\\\"success\\\\\\\") is not False:\\\\n            continue\\\\n\\\\n        tc_copy = copy.deepcopy(tc)\\\\n\\\\n        # metricsData ë‚´ë¶€ì—ì„œ ì‹¤íŒ¨í•œ í•­ëª©ë§Œ í•„í„°ë§\\\\n        if \\\\\\\"metricsData\\\\\\\" in tc_copy and isinstance(tc_copy[\\\\\\\"metricsData\\\\\\\"], list):\\\\n            filtered_metrics = [\\\\n                m\\\\n                for m in tc_copy[\\\\\\\"metricsData\\\\\\\"]\\\\n                if isinstance(m, dict) and m.get(\\\\\\\"success\\\\\\\") is False\\\\n            ]\\\\n            tc_copy[\\\\\\\"metricsData\\\\\\\"] = filtered_metrics or []\\\\n\\\\n        filtered_cases.append(tc_copy)\\\\n\\\\n    return filtered_cases, len(filtered_cases)\\\\n\\\\n\\\\ndef parse_test_case_inputs(test_cases: list) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì˜ ì…ë ¥ í•„ë“œë¥¼ íŒŒì‹±í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    if not isinstance(test_cases, list):\\\\n        return\\\\n\\\\n    for test_case in test_cases:\\\\n        if not isinstance(test_case, dict):\\\\n            continue\\\\n\\\\n        # input í•„ë“œ ì²˜ë¦¬\\\\n        if \\\\\\\"input\\\\\\\" in test_case and isinstance(test_case[\\\\\\\"input\\\\\\\"], str):\\\\n            try:\\\\n                parsed_input = json.loads(test_case[\\\\\\\"input\\\\\\\"])\\\\n                if isinstance(parsed_input, list):\\\\n                    parsed_input = parse_prompt_content(parsed_input)\\\\n                test_case[\\\\\\\"input\\\\\\\"] = parsed_input\\\\n            except json.JSONDecodeError:\\\\n                pass\\\\n\\\\n        # actualOutput í•„ë“œ ì²˜ë¦¬\\\\n        if \\\\\\\"actualOutput\\\\\\\" in test_case and isinstance(test_case[\\\\\\\"actualOutput\\\\\\\"], str):\\\\n            try:\\\\n                test_case[\\\\\\\"actualOutput\\\\\\\"] = json.loads(test_case[\\\\\\\"actualOutput\\\\\\\"])\\\\n            except json.JSONDecodeError:\\\\n                pass\\\\n\\\\n\\\\ndef display_llm_eval_results(json_data: dict[str, Any]) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"llm_eval ê²°ê³¼ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    st.markdown(\\\\\\\"## llm_eval ê²°ê³¼ ë‚´ìš©\\\\\\\")\\\\n\\\\n    # ë°ì´í„° ë³µì‚¬\\\\n    display_data = copy.deepcopy(json_data)\\\\n\\\\n    # í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ìˆ˜ ê³„ì‚°\\\\n    test_cases = (\\\\n        display_data.get(\\\\\\\"testCases\\\\\\\", []) if isinstance(display_data, dict) else []\\\\n    )\\\\n    num_total_cases = len(test_cases) if isinstance(test_cases, list) else 0\\\\n\\\\n    # í•„í„°ë§ ì»¨íŠ¸ë¡¤\\\\n    col_checkbox, col_count = st.columns([0.8, 0.2])\\\\n    with col_checkbox:\\\\n        filter_failed_tests = st.checkbox(\\\\n            \\\\\\\"ì‹¤íŒ¨í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë§Œ ë³´ê¸° (success=false)\\\\\\\",\\\\n            key=\\\\\\\"llm_eval_filter_checkbox\\\\\\\",\\\\n        )\\\\n\\\\n    # í•„í„°ë§ ì ìš©\\\\n    num_displayed_cases = num_total_cases\\\\n    if (\\\\n        filter_failed_tests\\\\n        and isinstance(display_data, dict)\\\\n        and \\\\\\\"testCases\\\\\\\" in display_data\\\\n    ):\\\\n        filtered_cases, num_displayed_cases = filter_failed_test_cases(\\\\n            display_data[\\\\\\\"testCases\\\\\\\"]\\\\n        )\\\\n        display_data[\\\\\\\"testCases\\\\\\\"] = filtered_cases\\\\n        count_caption_text = (\\\\n            f\\\\\\\"(í‘œì‹œ: {num_displayed_cases} / ì´: {num_total_cases}ê±´, ì‹¤íŒ¨ë§Œ)\\\\\\\"\\\\n        )\\\\n    else:\\\\n        count_caption_text = f\\\\\\\"(ì´ {num_total_cases}ê±´)\\\\\\\"\\\\n\\\\n    with col_count:\\\\n        st.caption(count_caption_text)\\\\n\\\\n    # ì…ë ¥ í•„ë“œ íŒŒì‹±\\\\n    if isinstance(display_data, dict) and \\\\\\\"testCases\\\\\\\" in display_data:\\\\n        parse_test_case_inputs(display_data[\\\\\\\"testCases\\\\\\\"])\\\\n\\\\n    # ê²°ê³¼ í‘œì‹œ\\\\n    st.json(display_data, expanded=False)\\\\n\\\\n\\\\ndef display_review_result(json_data: dict[str, Any]) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ë¦¬ë·° ê²°ê³¼ë¥¼ HTMLë¡œ í‘œì‹œí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    if \\\\\\\"review_response\\\\\\\" not in json_data or not json_data[\\\\\\\"review_response\\\\\\\"]:\\\\n        st.warning(\\\\\\\"ë¦¬ë·° ì‘ë‹µ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n        return\\\\n\\\\n    try:\\\\n        review_response = ReviewResponse.model_validate(json_data[\\\\\\\"review_response\\\\\\\"])\\\\n        formatter = ReviewFormatter()\\\\n        html_content = formatter.to_markdown(review_response)\\\\n        st.markdown(html_content)\\\\n    except Exception as e:\\\\n        st.error(f\\\\\\\"ë¦¬ë·° ì‘ë‹µ ë°ì´í„° ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ ë°œìƒ: {e}\\\\\\\")\\\\n        st.json(json_data[\\\\\\\"review_response\\\\\\\"], expanded=False)\\\\n\\\\n\\\\ndef load_and_display_file_content(file_path: Path) -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"íŒŒì¼ ë‚´ìš©ì„ ë¡œë“œí•˜ê³  í‘œì‹œí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    try:\\\\n        with open(file_path, encoding=\\\\\\\"utf-8\\\\\\\") as f:\\\\n            content = f.read()\\\\n\\\\n        format = determine_file_format(file_path)\\\\n\\\\n        if format == \\\\\\\"json\\\\\\\":\\\\n            json_data = parse_json_content(content)\\\\n            if not json_data:\\\\n                st.error(\\\\\\\"ìœ íš¨í•˜ì§€ ì•Šì€ JSON í˜•ì‹ì…ë‹ˆë‹¤.\\\\\\\")\\\\n                st.text(content)\\\\n                return\\\\n\\\\n            view_type = st.session_state.get(\\\\\\\"view_type\\\\\\\")\\\\n\\\\n            if view_type == \\\\\\\"ë¦¬ë·° ê²°ê³¼\\\\\\\":\\\\n                if \\\\\\\"show_raw_json\\\\\\\" not in st.session_state:\\\\n                    st.session_state.show_raw_json = False\\\\n\\\\n                show_raw_json = st.checkbox(\\\\n                    \\\\\\\"ì›ë³¸ JSON ë°ì´í„° ë³´ê¸°\\\\\\\", key=\\\\\\\"show_raw_json\\\\\\\"\\\\n                )\\\\n\\\\n                if show_raw_json:\\\\n                    display_review_result_raw_json(json_data)\\\\n                else:\\\\n                    display_review_result(json_data)\\\\n\\\\n            elif view_type == \\\\\\\"llm_eval ê²°ê³¼\\\\\\\":\\\\n                display_llm_eval_results(json_data)\\\\n        else:\\\\n            # í…ìŠ¤íŠ¸ íŒŒì¼ì€ ê·¸ëŒ€ë¡œ í‘œì‹œ\\\\n            st.text(content)\\\\n\\\\n    except Exception as e:\\\\n        st.error(f\\\\\\\"íŒŒì¼ì„ ì½ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: {str(e)}\\\\\\\")\\\\n\\\\n\\\\ndef sort_file_infos(\\\\n    file_infos: list[dict[str, Any]], sort_option: str\\\\n) -> list[dict[str, Any]]:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"íŒŒì¼ ì •ë³´ ëª©ë¡ì„ ì •ë ¬í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    if sort_option == \\\\\\\"ìµœì‹ ìˆœ\\\\\\\":\\\\n        file_infos.sort(key=lambda x: x[\\\\\\\"date\\\\\\\"], reverse=True)\\\\n    elif sort_option == \\\\\\\"ì˜¤ë˜ëœìˆœ\\\\\\\":\\\\n        file_infos.sort(key=lambda x: x[\\\\\\\"date\\\\\\\"])\\\\n    return file_infos\\\\n\\\\n\\\\ndef app():\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"Streamlit ì•± ë©”ì¸ í•¨ìˆ˜\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    st.set_page_config(\\\\n        page_title=\\\\\\\"Reviewer - ì½”ë“œ ë¦¬ë·° ê²°ê³¼\\\\\\\",\\\\n        page_icon=\\\\\\\"ğŸ“\\\\\\\",\\\\n        layout=\\\\\\\"wide\\\\\\\",\\\\n        initial_sidebar_state=\\\\\\\"expanded\\\\\\\",\\\\n    )\\\\n\\\\n    st.title(\\\\\\\"ì½”ë“œ ë¦¬ë·° ê²°ê³¼\\\\\\\")\\\\n\\\\n    # ê²°ê³¼ ë””ë ‰í† ë¦¬ í‘œì‹œ\\\\n    review_log_dir = get_default_review_log_dir()\\\\n    st.sidebar.markdown(f\\\\\\\"**ë¦¬ë·° ë¡œê·¸ ì €ì¥ ìœ„ì¹˜**: {review_log_dir}\\\\\\\")\\\\n    st.sidebar.markdown(\\\\n        f\\\\\\\"**llm_eval ê²°ê³¼ ì €ì¥ ìœ„ì¹˜**: {get_default_llm_eval_data_dir()}\\\\\\\"\\\\n    )\\\\n\\\\n    # ê²°ê³¼ ì„ íƒ\\\\n    view_type = st.sidebar.selectbox(\\\\n        \\\\\\\"ë³´ê¸° ìœ í˜•:\\\\\\\",\\\\n        [\\\\n            \\\\\\\"ë¦¬ë·° ê²°ê³¼\\\\\\\",\\\\n            \\\\\\\"llm_eval ê²°ê³¼\\\\\\\",\\\\n        ],\\\\n        index=0,\\\\n    )\\\\n\\\\n    # ë·° íƒ€ì… ì„¸ì…˜ ì €ì¥\\\\n    st.session_state.view_type = view_type\\\\n\\\\n    # íŒŒì¼ ëª©ë¡ ê°€ì ¸ì˜¤ê¸°\\\\n    if view_type == \\\\\\\"ë¦¬ë·° ê²°ê³¼\\\\\\\":\\\\n        files = get_review_log_files()\\\\n        if not files:\\\\n            st.info(\\\\\\\"ì €ì¥ëœ ë¦¬ë·° ë¡œê·¸ê°€ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n            st.markdown(\\\\\\\"\\\\\\\"\\\\\\\"\\\\n            ### ë¦¬ë·° ìƒì„± ë°©ë²•\\\\n            \\\\n            í„°ë¯¸ë„ì—ì„œ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì—¬ ì½”ë“œ ë¦¬ë·°ë¥¼ ìƒì„±í•˜ì„¸ìš”:\\\\n            ```bash\\\\n            reviewer review\\\\n            ```\\\\n            \\\\n            ìì„¸í•œ ì‚¬ìš©ë²•ì€ README.md íŒŒì¼ì„ ì°¸ì¡°í•˜ì„¸ìš”.\\\\n            \\\\\\\"\\\\\\\"\\\\\\\")\\\\n            return\\\\n    else:  # llm_eval ê²°ê³¼\\\\n        files = get_llm_eval_data_files()\\\\n        if not files:\\\\n            st.info(\\\\\\\"ì €ì¥ëœ llm_eval ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.\\\\\\\")\\\\n            return\\\\n\\\\n    # íŒŒì¼ ëª©ë¡ ì •ë³´ ìƒì„±\\\\n    file_infos = [get_file_info(f) for f in files]\\\\n\\\\n    # ì‚¬ì´ë“œë°”ì— íŒŒì¼ ëª©ë¡ í‘œì‹œ\\\\n    st.sidebar.markdown(f\\\\\\\"## {view_type} ëª©ë¡\\\\\\\")\\\\n\\\\n    # ì •ë ¬ ì˜µì…˜\\\\n    sort_option = st.sidebar.selectbox(\\\\\\\"ì •ë ¬ ê¸°ì¤€:\\\\\\\", [\\\\\\\"ìµœì‹ ìˆœ\\\\\\\", \\\\\\\"ì˜¤ë˜ëœìˆœ\\\\\\\"], index=0)\\\\n\\\\n    # ì •ë ¬ ì ìš©\\\\n    file_infos = sort_file_infos(file_infos, sort_option)\\\\n\\\\n    # ì„ íƒ ê°€ëŠ¥í•œ íŒŒì¼ ì˜µì…˜ ìƒì„±\\\\n    file_options = {\\\\n        f\\\\\\\"{info['name']} ({info['date'].strftime('%Y-%m-%d %H:%M')}\\\\\\\": info\\\\n        for info in file_infos\\\\n    }\\\\n\\\\n    # íŒŒì¼ ì„ íƒ ìœ„ì ¯\\\\n    selected_file_name = st.sidebar.selectbox(\\\\n        \\\\\\\"íŒŒì¼ ì„ íƒ:\\\\\\\", list(file_options.keys()), index=0\\\\n    )\\\\n\\\\n    # ì„ íƒëœ íŒŒì¼ ì •ë³´ì™€ ë‚´ìš© í‘œì‹œ\\\\n    selected_file_info = file_options[selected_file_name]\\\\n    display_file_info(selected_file_info)\\\\n    load_and_display_file_content(selected_file_info[\\\\\\\"path\\\\\\\"])\\\\n\\\\n\\\\ndef run_app() -> None:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"Streamlit ì•±ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    import os\\\\n    import subprocess\\\\n    import sys\\\\n\\\\n    file_path = os.path.abspath(__file__)\\\\n    port = os.environ.get(\\\\\\\"STREAMLIT_SERVER_PORT\\\\\\\", \\\\\\\"8501\\\\\\\")\\\\n\\\\n    cmd = [\\\\n        sys.executable,\\\\n        \\\\\\\"-m\\\\\\\",\\\\n        \\\\\\\"streamlit\\\\\\\",\\\\n        \\\\\\\"run\\\\\\\",\\\\n        file_path,\\\\n        \\\\\\\"--server.headless\\\\\\\",\\\\n        \\\\\\\"true\\\\\\\",\\\\n        \\\\\\\"--browser.serverAddress\\\\\\\",\\\\n        \\\\\\\"localhost\\\\\\\",\\\\n        \\\\\\\"--server.port\\\\\\\",\\\\n        port,\\\\n    ]\\\\n\\\\n    subprocess.run(cmd)\\\\n\\\\n\\\\n# Streamlit ì•±ìœ¼ë¡œ ì§ì ‘ ì‹¤í–‰ë  ê²½ìš°\\\\nif __name__ == \\\\\\\"__main__\\\\\\\":\\\\n    app()\\\\n\\\", \\\"formatted_hunks\\\": [{\\\"hunk_idx\\\": \\\"1\\\", \\\"original_code\\\": \\\"```python\\\\n        return\\\\n\\\\n    try:\\\\n        review_response = ReviewResponse.model_validate(json_data[\\\\\\\"review_response\\\\\\\"])\\\\n        formatter = ReviewFormatter()\\\\n        html_content = formatter.to_html(review_response)\\\\n        st.html(html_content)\\\\n    except Exception as e:\\\\n        st.error(f\\\\\\\"ë¦¬ë·° ì‘ë‹µ ë°ì´í„° ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ ë°œìƒ: {e}\\\\\\\")\\\\n        st.json(json_data[\\\\\\\"review_response\\\\\\\"], expanded=False)\\\\n\\\\n\\\\n```\\\", \\\"modified_code\\\": \\\"```python\\\\n        return\\\\n\\\\n    try:\\\\n        review_response = ReviewResponse.model_validate(json_data[\\\\\\\"review_response\\\\\\\"])\\\\n        formatter = ReviewFormatter()\\\\n        html_content = formatter.to_markdown(review_response)\\\\n        st.markdown(html_content)\\\\n    except Exception as e:\\\\n        st.error(f\\\\\\\"ë¦¬ë·° ì‘ë‹µ ë°ì´í„° ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ ë°œìƒ: {e}\\\\\\\")\\\\n        st.json(json_data[\\\\\\\"review_response\\\\\\\"], expanded=False)\\\\n\\\\n\\\\n```\\\", \\\"line_number\\\": 364}]}\"}, {\"role\": \"user\", \"content\": \"{\\\"file_name\\\": \\\"reviewer/src/utils/review_formatter.py\\\", \\\"file_content\\\": \\\"\\\\\\\"\\\\\\\"\\\\\\\"ReviewFormatter: ë¦¬ë·° ê²°ê³¼ë¥¼ ë‹¤ì–‘í•œ í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ë¡œì§ì„ í¬í•¨í•œ ëª¨ë“ˆ.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n\\\\nimport html\\\\n\\\\nfrom reviewer.src.utils.token.models import ReviewResponse\\\\n\\\\n\\\\nclass ReviewFormatter:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"ë¦¬ë·° ê²°ê³¼ë¥¼ ë‹¤ì–‘í•œ í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” í´ë˜ìŠ¤\\\\\\\\n\\\\n    ì´ í´ë˜ìŠ¤ëŠ” ë¦¬ë·° ì‘ë‹µì„ ë§ˆí¬ë‹¤ìš´, HTML ë“± ë‹¤ì–‘í•œ ì¶œë ¥ í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n\\\\n    def format(self, review: ReviewResponse, output_format: str = \\\\\\\"markdown\\\\\\\") -> str:\\\\n        \\\\\\\"\\\\\\\"\\\\\\\"ë¦¬ë·° ê²°ê³¼ë¥¼ ì§€ì •ëœ í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.\\\\n\\\\n        Args:\\\\n            review: ë¦¬ë·° ì‘ë‹µ ê°ì²´\\\\n            output_format: ì¶œë ¥ í˜•ì‹ (markdown, html)\\\\n\\\\n        Returns:\\\\n            str: ë³€í™˜ëœ ë¦¬ë·° ê²°ê³¼\\\\n\\\\n        Raises:\\\\n            ValueError: ì§€ì›í•˜ì§€ ì•ŠëŠ” ì¶œë ¥ í˜•ì‹ì¸ ê²½ìš°\\\\n        \\\\\\\"\\\\\\\"\\\\\\\"\\\\n        if output_format == \\\\\\\"markdown\\\\\\\":\\\\n            return self.to_markdown(review)\\\\n        elif output_format == \\\\\\\"html\\\\\\\":\\\\n            return self.to_html(review)\\\\n        else:\\\\n            raise ValueError(f\\\\\\\"ì§€ì›í•˜ì§€ ì•ŠëŠ” ì¶œë ¥ í˜•ì‹: {output_format}\\\\\\\")\\\\n\\\\n    @staticmethod\\\\n    def to_markdown(review: ReviewResponse) -> str:\\\\n        \\\\\\\"\\\\\\\"\\\\\\\"ë¦¬ë·° ê²°ê³¼ë¥¼ ë§ˆí¬ë‹¤ìš´ í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.\\\\n\\\\n        Args:\\\\n            review: ë¦¬ë·° ì‘ë‹µ ê°ì²´\\\\n\\\\n        Returns:\\\\n            str: ë§ˆí¬ë‹¤ìš´ í˜•ì‹ì˜ ë¦¬ë·° ê²°ê³¼\\\\n        \\\\\\\"\\\\\\\"\\\\\\\"\\\\n        md_lines = [\\\\\\\"# ì½”ë“œ ë¦¬ë·° ê²°ê³¼\\\\\\\\n\\\\\\\"]\\\\n\\\\n        # ìš”ì•½ ë° ì ìˆ˜\\\\n        md_lines.append(\\\\\\\"## ìš”ì•½\\\\\\\\n\\\\\\\")\\\\n        md_lines.append(f\\\\\\\"{review.summary}\\\\\\\\n\\\\\\\")\\\\n\\\\n        if review.score is not None:\\\\n            md_lines.append(f\\\\\\\"**ì ìˆ˜**: {review.score}/10\\\\\\\\n\\\\\\\")\\\\n\\\\n        # ì´ìŠˆ ëª©ë¡\\\\n        if review.issues:\\\\n            md_lines.append(\\\\\\\"## ë°œê²¬ëœ ì´ìŠˆ\\\\\\\\n\\\\\\\")\\\\n\\\\n            for i, issue in enumerate(review.issues, 1):\\\\n                severity_emoji = {\\\\\\\"info\\\\\\\": \\\\\\\"â„¹ï¸\\\\\\\", \\\\\\\"warning\\\\\\\": \\\\\\\"âš ï¸\\\\\\\", \\\\\\\"error\\\\\\\": \\\\\\\"ğŸ›‘\\\\\\\"}.get(\\\\n                    issue.severity, \\\\\\\"â„¹ï¸\\\\\\\"\\\\n                )\\\\n\\\\n                md_lines.append(f\\\\\\\"### {i}. {severity_emoji} {issue.type}\\\\\\\\n\\\\\\\")\\\\n\\\\n                if issue.file:\\\\n                    file_info = f\\\\\\\"**íŒŒì¼**: `{issue.file}`\\\\\\\"\\\\n                    if issue.line_number:\\\\n                        file_info += f\\\\\\\", **ë¼ì¸**: {issue.line_number}\\\\\\\"\\\\n                    md_lines.append(f\\\\\\\"{file_info}\\\\\\\\n\\\\\\\")\\\\n\\\\n                md_lines.append(f\\\\\\\"**ì„¤ëª…**: {issue.description}\\\\\\\\n\\\\\\\")\\\\n\\\\n                if issue.suggestion:\\\\n                    md_lines.append(f\\\\\\\"**ì œì•ˆ**: {issue.suggestion}\\\\\\\\n\\\\\\\")\\\\n\\\\n                # ë¦¬ë·° ëŒ€ìƒ ì½”ë“œ ì¶”ê°€\\\\n                if issue.original_code:\\\\n                    md_lines.append(\\\\n                        \\\\\\\"**ë¦¬ë·° ëŒ€ìƒ ì½”ë“œ**:\\\\\\\\n```\\\\\\\\n\\\\\\\" + issue.original_code + \\\\\\\"\\\\\\\\n```\\\\\\\\n\\\\\\\"\\\\n                    )\\\\n\\\\n                # ê°œì„ ëœ ì½”ë“œ ì¶”ê°€\\\\n                if issue.improved_code:\\\\n                    md_lines.append(\\\\n                        \\\\\\\"**ê°œì„ ëœ ì½”ë“œ**:\\\\\\\\n```\\\\\\\\n\\\\\\\" + issue.improved_code + \\\\\\\"\\\\\\\\n```\\\\\\\\n\\\\\\\"\\\\n                    )\\\\n\\\\n        # ê¶Œì¥ì‚¬í•­\\\\n        if review.recommendations:\\\\n            md_lines.append(\\\\\\\"## ê¶Œì¥ì‚¬í•­\\\\\\\\n\\\\\\\")\\\\n            for i, rec in enumerate(review.recommendations, 1):\\\\n                md_lines.append(f\\\\\\\"{i}. {rec}\\\\\\\\n\\\\\\\")\\\\n\\\\n        return \\\\\\\"\\\\\\\\n\\\\\\\".join(md_lines)\\\\n\\\\n    @staticmethod\\\\n    def to_html(review: ReviewResponse) -> str:\\\\n        \\\\\\\"\\\\\\\"\\\\\\\"ë¦¬ë·° ê²°ê³¼ë¥¼ HTML í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.\\\\n\\\\n        Args:\\\\n            review: ë¦¬ë·° ì‘ë‹µ ê°ì²´\\\\n\\\\n        Returns:\\\\n            str: HTML í˜•ì‹ì˜ ë¦¬ë·° ê²°ê³¼\\\\n        \\\\\\\"\\\\\\\"\\\\\\\"\\\\n        html_lines = [\\\\n            \\\\\\\"<!DOCTYPE html>\\\\\\\",\\\\n            \\\\\\\"<html>\\\\\\\",\\\\n            \\\\\\\"<head>\\\\\\\",\\\\n            \\\\\\\"<meta charset='UTF-8'>\\\\\\\",\\\\n            \\\\\\\"<title>ì½”ë“œ ë¦¬ë·° ê²°ê³¼</title>\\\\\\\",\\\\n            \\\\\\\"<style>\\\\\\\",\\\\n            \\\\\\\"body { font-family: Arial, sans-serif; line-height: 1.6; max-width: 800px; margin: 0 auto; padding: 20px; }\\\\\\\",\\\\n            \\\\\\\"h1 { color: #333; }\\\\\\\",\\\\n            \\\\\\\"h2 { color: #444; border-bottom: 1px solid #eee; padding-bottom: 5px; }\\\\\\\",\\\\n            \\\\\\\"h3 { color: #555; }\\\\\\\",\\\\n            \\\\\\\".issue { padding: 10px; margin-bottom: 15px; }\\\\\\\",\\\\n            \\\\\\\".info {  }\\\\\\\",\\\\n            \\\\\\\".warning {  }\\\\\\\",\\\\n            \\\\\\\".error {  }\\\\\\\",\\\\n            \\\\\\\".file-info { font-family: monospace; background-color: #eee; padding: 3px 5px; border-radius: 3px; }\\\\\\\",\\\\n            \\\\\\\".recommendations { padding: 10px; border-radius: 5px; }\\\\\\\",\\\\n            \\\\\\\"</style>\\\\\\\",\\\\n            \\\\\\\"<style>\\\\\\\",\\\\n            \\\\\\\"pre { background-color: #f5f5f5; padding: 10px; border-radius: 5px; overflow-x: auto; }\\\\\\\",\\\\n            \\\\\\\"code { font-family: 'Courier New', Courier, monospace; }\\\\\\\",\\\\n            \\\\\\\"</style>\\\\\\\",\\\\n            \\\\\\\"</head>\\\\\\\",\\\\n            \\\\\\\"<body>\\\\\\\",\\\\n            \\\\\\\"<h1>ì½”ë“œ ë¦¬ë·° ê²°ê³¼</h1>\\\\\\\",\\\\n        ]\\\\n\\\\n        # ìš”ì•½ ë° ì ìˆ˜\\\\n        html_lines.append(\\\\\\\"<h2>ìš”ì•½</h2>\\\\\\\")\\\\n        html_lines.append(f\\\\\\\"<p>{review.summary}</p>\\\\\\\")\\\\n\\\\n        if review.score is not None:\\\\n            html_lines.append(f\\\\\\\"<p><strong>ì ìˆ˜</strong>: {review.score}/10</p>\\\\\\\")\\\\n\\\\n        # ì´ìŠˆ ëª©ë¡\\\\n        if review.issues:\\\\n            html_lines.append(\\\\\\\"<h2>ë°œê²¬ëœ ì´ìŠˆ</h2>\\\\\\\")\\\\n\\\\n            for i, issue in enumerate(review.issues, 1):\\\\n                severity_emoji = {\\\\\\\"info\\\\\\\": \\\\\\\"â„¹ï¸\\\\\\\", \\\\\\\"warning\\\\\\\": \\\\\\\"âš ï¸\\\\\\\", \\\\\\\"error\\\\\\\": \\\\\\\"ğŸ›‘\\\\\\\"}.get(\\\\n                    issue.severity, \\\\\\\"â„¹ï¸\\\\\\\"\\\\n                )\\\\n\\\\n                html_lines.append(f\\\\\\\"<div class='issue {issue.severity}'>\\\\\\\")\\\\n                html_lines.append(f\\\\\\\"<h3>{i}. {severity_emoji} {issue.type}</h3>\\\\\\\")\\\\n\\\\n                if issue.file:\\\\n                    file_info = f\\\\\\\"<strong>íŒŒì¼</strong>: <span class='file-info'>{issue.file}</span>\\\\\\\"\\\\n                    if issue.line_number:\\\\n                        file_info += f\\\\\\\", <strong>ë¼ì¸</strong>: {issue.line_number}\\\\\\\"\\\\n                    html_lines.append(f\\\\\\\"<p>{file_info}</p>\\\\\\\")\\\\n\\\\n                html_lines.append(f\\\\\\\"<p><strong>ì„¤ëª…</strong>: {issue.description}</p>\\\\\\\")\\\\n\\\\n                if issue.suggestion:\\\\n                    html_lines.append(\\\\n                        f\\\\\\\"<p><strong>ì œì•ˆ</strong>: {issue.suggestion}</p>\\\\\\\"\\\\n                    )\\\\n\\\\n                # ë¦¬ë·° ëŒ€ìƒ ì½”ë“œ ì¶”ê°€\\\\n                if issue.original_code:\\\\n                    html_lines.append(\\\\\\\"<p><strong>ë¦¬ë·° ëŒ€ìƒ ì½”ë“œ</strong>:</p>\\\\\\\")\\\\n                    html_lines.append(\\\\n                        f\\\\\\\"<pre><code>{html.escape(issue.original_code)}</code></pre>\\\\\\\"\\\\n                    )\\\\n\\\\n                # ê°œì„ ëœ ì½”ë“œ ì¶”ê°€\\\\n                if issue.improved_code:\\\\n                    html_lines.append(\\\\\\\"<p><strong>ê°œì„ ëœ ì½”ë“œ</strong>:</p>\\\\\\\")\\\\n                    html_lines.append(\\\\n                        f\\\\\\\"<pre><code>{html.escape(issue.improved_code)}</code></pre>\\\\\\\"\\\\n                    )\\\\n\\\\n                html_lines.append(\\\\\\\"</div>\\\\\\\")\\\\n\\\\n        # ê¶Œì¥ì‚¬í•­\\\\n        if review.recommendations:\\\\n            html_lines.append(\\\\\\\"<h2>ê¶Œì¥ì‚¬í•­</h2>\\\\\\\")\\\\n            html_lines.append(\\\\\\\"<div class='recommendations'>\\\\\\\")\\\\n            html_lines.append(\\\\\\\"<ol>\\\\\\\")\\\\n            for rec in review.recommendations:\\\\n                html_lines.append(f\\\\\\\"<li>{rec}</li>\\\\\\\")\\\\n            html_lines.append(\\\\\\\"</ol>\\\\\\\")\\\\n            html_lines.append(\\\\\\\"</div>\\\\\\\")\\\\n\\\\n        html_lines.extend([\\\\\\\"</body>\\\\\\\", \\\\\\\"</html>\\\\\\\"])\\\\n\\\\n        return \\\\\\\"\\\\\\\\n\\\\\\\".join(html_lines)\\\\n\\\", \\\"formatted_hunks\\\": [{\\\"hunk_idx\\\": \\\"1\\\", \\\"original_code\\\": \\\"```python\\\\n            \\\\\\\"<style>\\\\\\\",\\\\n            \\\\\\\"body { font-family: Arial, sans-serif; line-height: 1.6; max-width: 800px; margin: 0 auto; padding: 20px; }\\\\\\\",\\\\n            \\\\\\\"h1 { color: #333; }\\\\\\\",\\\\n            \\\\\\\"h2 { color: #444; border-bottom: 1px solid #eee; padding-bottom: 5px; }\\\\\\\",\\\\n            \\\\\\\"h3 { color: #555; }\\\\\\\",\\\\n            \\\\\\\".issue { background-color: #f9f9f9; border-left: 4px solid #ddd; padding: 10px; margin-bottom: 15px; }\\\\\\\",\\\\n            \\\\\\\".info { border-left-color: #2196F3; }\\\\\\\",\\\\n            \\\\\\\".warning { border-left-color: #FF9800; }\\\\\\\",\\\\n            \\\\\\\".error { border-left-color: #F44336; }\\\\\\\",\\\\n            \\\\\\\".file-info { font-family: monospace; background-color: #eee; padding: 3px 5px; border-radius: 3px; }\\\\\\\",\\\\n            \\\\\\\".recommendations { background-color: #e8f5e9; padding: 10px; border-radius: 5px; }\\\\\\\",\\\\n            \\\\\\\"</style>\\\\\\\",\\\\n            \\\\\\\"<style>\\\\\\\",\\\\n            \\\\\\\"pre { background-color: #f5f5f5; padding: 10px; border-radius: 5px; overflow-x: auto; }\\\\\\\",\\\\n            \\\\\\\"code { font-family: 'Courier New', Courier, monospace; }\\\\\\\",\\\\n            \\\\\\\"</style>\\\\\\\",\\\\n```\\\", \\\"modified_code\\\": \\\"```python\\\\n            \\\\\\\"<style>\\\\\\\",\\\\n            \\\\\\\"body { font-family: Arial, sans-serif; line-height: 1.6; max-width: 800px; margin: 0 auto; padding: 20px; }\\\\\\\",\\\\n            \\\\\\\"h1 { color: #333; }\\\\\\\",\\\\n            \\\\\\\"h2 { color: #444; border-bottom: 1px solid #eee; padding-bottom: 5px; }\\\\\\\",\\\\n            \\\\\\\"h3 { color: #555; }\\\\\\\",\\\\n            \\\\\\\".issue { padding: 10px; margin-bottom: 15px; }\\\\\\\",\\\\n            \\\\\\\".info {  }\\\\\\\",\\\\n            \\\\\\\".warning {  }\\\\\\\",\\\\n            \\\\\\\".error {  }\\\\\\\",\\\\n            \\\\\\\".file-info { font-family: monospace; background-color: #eee; padding: 3px 5px; border-radius: 3px; }\\\\\\\",\\\\n            \\\\\\\".recommendations { padding: 10px; border-radius: 5px; }\\\\\\\",\\\\n            \\\\\\\"</style>\\\\\\\",\\\\n            \\\\\\\"<style>\\\\\\\",\\\\n            \\\\\\\"pre { background-color: #f5f5f5; padding: 10px; border-radius: 5px; overflow-x: auto; }\\\\\\\",\\\\n            \\\\\\\"code { font-family: 'Courier New', Courier, monospace; }\\\\\\\",\\\\n            \\\\\\\"</style>\\\\\\\",\\\\n```\\\", \\\"line_number\\\": 109}]}\"}]",
    "actual_output": "{\"issues\": [{\"type\": \"ìŠ¤íƒ€ì¼\", \"line_number\": 109, \"file\": \"reviewer/src/utils/review_formatter.py\", \"description\": \"HTML ë³´ê³ ì„œì—ì„œ ì´ìŠˆ ì‹¬ê°ë„(info, warning, error) ë° ê¶Œì¥ì‚¬í•­ ì„¹ì…˜ì— ëŒ€í•œ ì£¼ìš” ì‹œê°ì  ìŠ¤íƒ€ì¼(ë°°ê²½ìƒ‰, í…Œë‘ë¦¬ ìƒ‰ìƒ)ì´ ì œê±°ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ì „ì—ëŠ” ê° ì‹¬ê°ë„ì— ë”°ë¼ ë‹¤ë¥¸ ìƒ‰ìƒì˜ ì™¼ìª½ í…Œë‘ë¦¬ê°€ ìˆì—ˆê³ , ì´ìŠˆ ë° ê¶Œì¥ì‚¬í•­ ì„¹ì…˜ì—ëŠ” ë°°ê²½ìƒ‰ì´ ì ìš©ë˜ì–´ ê°€ë…ì„±ì„ ë†’ì˜€ìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ìŠ¤íƒ€ì¼ ì œê±°ë¡œ ì¸í•´ ì‚¬ìš©ìê°€ ì´ìŠˆì˜ ì¤‘ìš”ë„ë¥¼ í•œëˆˆì— íŒŒì•…í•˜ê±°ë‚˜ íŠ¹ì • ì„¹ì…˜ì„ êµ¬ë¶„í•˜ê¸° ì–´ë ¤ì›Œì¡ŒìŠµë‹ˆë‹¤.\", \"suggestion\": \"HTML ë³´ê³ ì„œì˜ ê°€ë…ì„± í–¥ìƒì„ ìœ„í•´ ì œê±°ëœ ìŠ¤íƒ€ì¼(`.issue`ì˜ ë°°ê²½ìƒ‰ ë° ì™¼ìª½ í…Œë‘ë¦¬, `.info`, `.warning`, `.error`ì˜ `border-left-color`, `.recommendations`ì˜ ë°°ê²½ìƒ‰)ì„ ë³µì›í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì‚¬ìš©ìê°€ ì •ë³´ë¥¼ ë” ì‰½ê²Œ ì‹ë³„í•˜ê³  ì´í•´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì›ë˜ ìŠ¤íƒ€ì¼ë¡œ ë˜ëŒë¦¬ë©´ ì‹œê°ì  ëª…í™•ì„±ì´ í–¥ìƒë©ë‹ˆë‹¤.\", \"severity\": \"warning\", \"original_code\": \"```python\\n            \\\"<style>\\\",\\n            \\\"body { font-family: Arial, sans-serif; line-height: 1.6; max-width: 800px; margin: 0 auto; padding: 20px; }\\\",\\n            \\\"h1 { color: #333; }\\\",\\n            \\\"h2 { color: #444; border-bottom: 1px solid #eee; padding-bottom: 5px; }\\\",\\n            \\\"h3 { color: #555; }\\\",\\n            \\\".issue { background-color: #f9f9f9; border-left: 4px solid #ddd; padding: 10px; margin-bottom: 15px; }\\\",\\n            \\\".info { border-left-color: #2196F3; }\\\",\\n            \\\".warning { border-left-color: #FF9800; }\\\",\\n            \\\".error { border-left-color: #F44336; }\\\",\\n            \\\".file-info { font-family: monospace; background-color: #eee; padding: 3px 5px; border-radius: 3px; }\\\",\\n            \\\".recommendations { background-color: #e8f5e9; padding: 10px; border-radius: 5px; }\\\",\\n            \\\"</style>\\\",\\n            \\\"<style>\\\",\\n            \\\"pre { background-color: #f5f5f5; padding: 10px; border-radius: 5px; overflow-x: auto; }\\\",\\n            \\\"code { font-family: 'Courier New', Courier, monospace; }\\\",\\n            \\\"</style>\\\",\\n```\", \"improved_code\": \"```python\\n            \\\"<style>\\\",\\n            \\\"body { font-family: Arial, sans-serif; line-height: 1.6; max-width: 800px; margin: 0 auto; padding: 20px; }\\\",\\n            \\\"h1 { color: #333; }\\\",\\n            \\\"h2 { color: #444; border-bottom: 1px solid #eee; padding-bottom: 5px; }\\\",\\n            \\\"h3 { color: #555; }\\\",\\n            \\\".issue { background-color: #f9f9f9; border-left: 4px solid #ddd; padding: 10px; margin-bottom: 15px; }\\\", // ìŠ¤íƒ€ì¼ ë³µì›\\n            \\\".info { border-left-color: #2196F3; }\\\", // ìŠ¤íƒ€ì¼ ë³µì›\\n            \\\".warning { border-left-color: #FF9800; }\\\", // ìŠ¤íƒ€ì¼ ë³µì›\\n            \\\".error { border-left-color: #F44336; }\\\", // ìŠ¤íƒ€ì¼ ë³µì›\\n            \\\".file-info { font-family: monospace; background-color: #eee; padding: 3px 5px; border-radius: 3px; }\\\",\\n            \\\".recommendations { background-color: #e8f5e9; padding: 10px; border-radius: 5px; }\\\", // ìŠ¤íƒ€ì¼ ë³µì›\\n            \\\"</style>\\\",\\n            \\\"<style>\\\",\\n            \\\"pre { background-color: #f5f5f5; padding: 10px; border-radius: 5px; overflow-x: auto; }\\\",\\n            \\\"code { font-family: 'Courier New', Courier, monospace; }\\\",\\n            \\\"</style>\\\",\\n```\"}, {\"type\": \"ì„¤ê³„\", \"line_number\": 364, \"file\": \"reviewer/src/ui.py\", \"description\": \"`display_review_result` í•¨ìˆ˜ì—ì„œ ë¦¬ë·° ê²°ê³¼ë¥¼ ê¸°ì¡´ HTML(`st.html`) ë°©ì‹ ëŒ€ì‹  ë§ˆí¬ë‹¤ìš´(`st.markdown`)ìœ¼ë¡œ í‘œì‹œí•˜ë„ë¡ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ ë³€ê²½ì€ `ReviewFormatter.to_markdown` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ë©°, ê²°ê³¼ì ìœ¼ë¡œ UIì— í‘œì‹œë˜ëŠ” ë¦¬ë·° ë‚´ìš©ì˜ í˜•ì‹ì´ ë³€ê²½ë©ë‹ˆë‹¤.\", \"suggestion\": \"ë§ˆí¬ë‹¤ìš´ìœ¼ë¡œì˜ ë³€ê²½ì€ ì¼ë°˜ì ìœ¼ë¡œ ë‚´ìš©ì„ ë” ê°„ê²°í•˜ê²Œ í‘œì‹œí•  ìˆ˜ ìˆì§€ë§Œ, HTMLì´ ì œê³µí•˜ë˜ ì„¸ë°€í•œ ìŠ¤íƒ€ì¼ë§ì´ë‚˜ ë³µì¡í•œ êµ¬ì¡° í‘œí˜„ì—ëŠ” í•œê³„ê°€ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ë³€ê²½ì´ ì˜ë„ëœ ê¸°ëŠ¥ ê°œì„ ì˜ ì¼ë¶€ì´ê³  ë§ˆí¬ë‹¤ìš´ìœ¼ë¡œ ì¶©ë¶„í•œ ì •ë³´ ì „ë‹¬ ë° ê°€ë…ì„±ì´ í™•ë³´ëœë‹¤ë©´ ë¬¸ì œê°€ ì—†ìŠµë‹ˆë‹¤. ë‹¤ë§Œ, ì´ì „ì— HTML ë Œë”ë§ì„ í†µí•´ ì œê³µë˜ë˜ íŠ¹ì • ì‹œê°ì  ì´ì (ì˜ˆ: `review_formatter.py`ì—ì„œ ë³€ê²½ëœ ìŠ¤íƒ€ì¼ë§ê³¼ ì—°ê´€ëœ ë¶€ë¶„)ì´ ì¤‘ìš”í–ˆë‹¤ë©´, í•´ë‹¹ ê¸°ëŠ¥ì´ ì˜ë„ì¹˜ ì•Šê²Œ ì†ì‹¤ë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ê²€í† ê°€ í•„ìš”í•©ë‹ˆë‹¤. ë³€ê²½ì˜ ì˜í–¥ ë²”ìœ„ë¥¼ ê³ ë ¤í•˜ê³ , ì‚¬ìš©ì ê²½í—˜ì— ë¶€ì •ì ì¸ ì˜í–¥ì´ ì—†ëŠ”ì§€ í™•ì¸í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.\", \"severity\": \"info\", \"original_code\": \"```python\\n        return\\n\\n    try:\\n        review_response = ReviewResponse.model_validate(json_data[\\\"review_response\\\"])\\n        formatter = ReviewFormatter()\\n        html_content = formatter.to_html(review_response)\\n        st.html(html_content)\\n    except Exception as e:\\n        st.error(f\\\"ë¦¬ë·° ì‘ë‹µ ë°ì´í„° ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ ë°œìƒ: {e}\\\")\\n        st.json(json_data[\\\"review_response\\\"], expanded=False)\\n\\n\\n```\", \"improved_code\": \"```python\\n        return\\n\\n    try:\\n        review_response = ReviewResponse.model_validate(json_data[\\\"review_response\\\"])\\n        formatter = ReviewFormatter()\\n        html_content = formatter.to_markdown(review_response)\\n        st.markdown(html_content)\\n    except Exception as e:\\n        st.error(f\\\"ë¦¬ë·° ì‘ë‹µ ë°ì´í„° ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ ë°œìƒ: {e}\\\")\\n        st.json(json_data[\\\"review_response\\\"], expanded=False)\\n\\n\\n```\"}], \"summary\": \"ì½”ë“œ ë³€ê²½ ì‚¬í•­ì€ ì£¼ë¡œ ë‘ ê°€ì§€ì…ë‹ˆë‹¤: 1) `reviewer/src/ui.py`ì—ì„œ ë¦¬ë·° ê²°ê³¼ë¥¼ í‘œì‹œí•˜ëŠ” ë°©ì‹ì´ HTMLì—ì„œ ë§ˆí¬ë‹¤ìš´ìœ¼ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤. 2) `reviewer/src/utils/review_formatter.py`ì—ì„œ HTML í˜•ì‹ìœ¼ë¡œ ë³€í™˜ ì‹œ ì ìš©ë˜ë˜ ì¼ë¶€ CSS ìŠ¤íƒ€ì¼(ì´ìŠˆ ì‹¬ê°ë„ë³„ ìƒ‰ìƒ êµ¬ë¶„, ì„¹ì…˜ ë°°ê²½ìƒ‰ ë“±)ì´ ì œê±°ë˜ì–´ HTML ì¶œë ¥ë¬¼ì˜ ì‹œê°ì  í‘œí˜„ì´ ë‹¨ìˆœí™”ë˜ì—ˆìŠµë‹ˆë‹¤. ì „ë°˜ì ìœ¼ë¡œ UI í‘œì‹œ ë°©ì‹ ë³€ê²½ê³¼ ê·¸ì— ë”°ë¥¸ í¬ë§·í„°ì˜ HTML ìŠ¤íƒ€ì¼ ì¡°ì •ì´ ì´ë£¨ì–´ì¡ŒìŠµë‹ˆë‹¤.\", \"score\": 7.0, \"recommendations\": [\"HTML ë³´ê³ ì„œ ìŠ¤íƒ€ì¼ ë³µì› ë˜ëŠ” ê°œì„ : `review_formatter.py`ì—ì„œ ì œê±°ëœ HTML ìŠ¤íƒ€ì¼(íŠ¹íˆ ì´ìŠˆ ì‹¬ê°ë„ë³„ ì‹œê°ì  êµ¬ë¶„ ë° ì„¹ì…˜ ë°°ê²½ìƒ‰)ì„ ë³µì›í•˜ê±°ë‚˜, ë§ˆí¬ë‹¤ìš´ ì¶œë ¥ì—ì„œë„ ìœ ì‚¬í•œ ì‹œê°ì  ë‹¨ì„œë¥¼ ì œê³µí•  ë°©ë²•ì„ ê³ ë ¤í•˜ì—¬ ì‚¬ìš©ì ê°€ë…ì„±ì„ ë†’ì´ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.\", \"UI ë³€ê²½ ì˜í–¥ ê²€í† : `ui.py`ì—ì„œ ë¦¬ë·° ê²°ê³¼ í‘œì‹œ ë°©ì‹ì„ HTMLì—ì„œ ë§ˆí¬ë‹¤ìš´ìœ¼ë¡œ ë³€ê²½í•œ ê²ƒì˜ ì˜í–¥ì„ ì¢…í•©ì ìœ¼ë¡œ ê²€í† í•˜ì„¸ìš”. ë§ˆí¬ë‹¤ìš´ì´ ëª¨ë“  ê²½ìš°ì— ì¶©ë¶„í•œ í‘œí˜„ë ¥ì„ ì œê³µí•˜ëŠ”ì§€, ê¸°ì¡´ HTML ë°©ì‹ì´ ì œê³µí•˜ë˜ ì¥ì  ì¤‘ ìœ ì§€í•  í•„ìš”ê°€ ìˆëŠ” ê²ƒì€ ì—†ëŠ”ì§€ í™•ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.\", \"ì¼ê´€ì„± ìˆëŠ” ì‚¬ìš©ì ê²½í—˜ ì œê³µ: ë§Œì•½ HTML ì¶œë ¥ì´ ì—¬ì „íˆ ì§€ì›ë˜ëŠ” ê¸°ëŠ¥ì´ë¼ë©´, ìŠ¤íƒ€ì¼ ë‹¨ìˆœí™”ë¡œ ì¸í•´ ì •ë³´ ì „ë‹¬ë ¥ì´ ì €í•˜ë˜ì§€ ì•Šë„ë¡ ì£¼ì˜í•´ì•¼ í•©ë‹ˆë‹¤. ë§ˆí¬ë‹¤ìš´ê³¼ HTML ì¶œë ¥ ê°„ì˜ ì‚¬ìš©ì ê²½í—˜ ì¼ê´€ì„±ë„ ê³ ë ¤í•  í•„ìš”ê°€ ìˆìŠµë‹ˆë‹¤.\"]}"
  }
]