# Change Log

## [0.1.5] - 2025-08-06

### Added

#### feat: 코드 리뷰 시스템 개선 및 성능 최적화

**핵심 변경사항**

- **라인 번호 계산 최적화**: target_code의 line_number 계산 책임을 LLM에서 Python 코드로 이전하여 정확도 향상
- **시스템 프롬프트 v4 도입**: 요약 필드 지침 강화 및 코드 품질 평가 기준 개선
- **파일 읽기 성능 최적화**: 캐시 시스템 구현으로 동일 파일 반복 접근 시 성능 대폭 개선

**세부 개선사항**

- **FormattedHunk 클래스 최적화**: 불필요한 속성 제거로 메모리 사용량 감소
- **테스트 강화**: 라인 번호 계산기에 대한 325개 라인의 포괄적 테스트 케이스 추가
- **API 키 오류 처리 개선**: 다양한 오류 시나리오 검증 및 segfault 방지 로직 추가

## [0.1.4] - 2025-08-03

### Added

#### feat: context extract 기능 구현

**핵심 기능**

##### 컨텍스트 추출 개선

- **Tree-sitter 기반 smart context extractor 도입**: AST 분석을 통해 변경 라인이 속하는 가장 작은 코드 블록과 파일에 존재하는 dependency statement (import, require, define 등)를 자동 추출
  - **다중 언어 지원**: Python, JavaScript/TypeScript, Java/Kotlin 언어에 대한 전문적인 컨텍스트 추출 지원
  - **Smart Context 적용 조건**: 전체 파일 대비 변경 라인이 20% 이하일 때 사용되며, 그 이상일 때는 전체 파일 컨텍스트 사용
- **Fallback 컨텍스트 추출기**: 지원하지 않는 언어(C, C#, Go, Swift 등)에 대해서는 정규표현식 기반 패턴 매칭으로 컨텍스트 추출

**추가 개선사항**

- **시스템 프롬프트 개선**: 시스템 프롬프트 업그레이드하여 더 정확한 컨텍스트 기반 코드 리뷰 제공
- **무의미한 변경 필터링**: 빈 라인, 주석, 전처리기 지시문 등 무의미한 변경사항을 자동으로 필터링하여 리뷰 품질 향상
